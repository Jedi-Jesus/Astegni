<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTEGNI - Admin Dashboard</title>
    <link href="../css/output.css" rel="stylesheet">
    <link href="../css/admin.css" rel="stylesheet">
    <link href="../css/root_theme.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script defer src="../js/xlsx.full.min.js"></script>
    <script src="../js/app.js" defer></script>
    <script defer src="../js/chart.min.js"></script>

    <style>
        :root {
            --bg-color: #FFFFFF;
            --text: #7b3811;
            --heading: #F59E0B;
            --nav-bg: #F8F9FA;
            --nav-link: #78350F;
            --nav-link-hover: #F59E0B;
            --button-bg: #F59E0B;
            --button-text: #FFFFFF;
            --button-hover: #D97706;
            --button-active: #92400E;
            --card-bg: #FFFFFF;
            --card-hover: #F1F1F1;
            --highlight-bg: #F1F1F1;
            --footer-bg: #E5E7EB;
            --footer-text: #78350F;
            --modal-bg: #FFFFFF;
            --modal-text: #78350F;
            --modal-input-bg: #FAFAFA;
            --modal-input-border: #CCC;
        }

        [data-theme="dark"] {
            --bg-color: #1E1E1E;
            --text: #E0E0E0;
            --heading: #FBC02D;
            --nav-bg: #424242;
            --nav-link: #E0E0E0;
            --nav-link-hover: #FFD54F;
            --button-bg: #FFD54F;
            --button-text: #1E1E1E;
            --button-hover: #E6BF45;
            --button-active: #FFB300;
            --card-bg: #2D3748;
            --card-hover: #4A5568;
            --highlight-bg: #424242;
            --footer-bg: #424242;
            --footer-text: #E0E0E0;
            --modal-bg: #1E1E1E;
            --modal-text: #E0E0E0;
            --modal-input-bg: rgba(0, 0, 0, 0.7);
            --modal-input-border: #888;
        }

        [data-theme="light"] h1,
        [data-theme="light"] h2,
        [data-theme="light"] .nav-logo {
            color: #F59E0B;
        }

        [data-theme="light"] .description,
        [data-theme="light"] .no-results,
        [data-theme="light"] input#search-input {
            color: #FFFFFF;
        }

        [data-theme="light"] input#search-input::-webkit-input-placeholder,
        [data-theme="light"] input#search-input::-moz-placeholder {
            color: #D1D5DB;
        }

        [data-theme="dark"] .modal-content {
            background-color: rgba(0, 0, 0, 0.85);
            color: #FFE082;
            border: 1px solid #555;
        }

        [data-theme="light"] .modal-content {
            background-color: #FFFFFF;
            color: #78350F;
            border: 1px solid #DDD;
        }

        [data-theme="dark"] .modal-content input,
        [data-theme="dark"] .modal-content select,
        [data-theme="dark"] .modal-content textarea {
            background-color: rgba(0, 0, 0, 0.7);
            color: #FFE082;
            border: 1px solid #888;
        }

        [data-theme="light"] .modal-content input,
        [data-theme="light"] .modal-content select,
        [data-theme="light"] .modal-content textarea {
            background-color: #FAFAFA;
            color: #78350F;
            border: 1px solid #CCC;
        }

        [data-theme="light"] .modal-content input::placeholder,
        [data-theme="light"] .modal-content textarea::placeholder,
        [data-theme="dark"] .modal-content input::placeholder,
        [data-theme="dark"] .modal-content textarea::placeholder {
            color: #A0AEC0;
        }

        [data-theme="dark"] .cta-button {
            background-color: #FFD54F;
            color: #1E1E1E;
        }

        [data-theme="light"] .cta-button {
            background-color: #F59E0B;
            color: #FFFFFF;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text);
            transition: background-color 0.3s, color 0.3s;
            font-family: 'Arial', sans-serif;
        }

        nav {
            background-color: var(--nav-bg);
            color: var(--nav-link);
        }

        nav a,
        nav button {
            color: var(--nav-link);
            transition: color 0.2s;
        }

        nav a:hover,
        nav button:hover {
            color: var(--nav-link-hover);
        }

        #mobile-menu {
            background-color: var(--nav-bg);
            transition: max-height 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
        }

        #mobile-menu.open {
            max-height: 300px;
            display: block;
        }

        #mobile-menu a:hover,
        #mobile-theme-toggle-btn:hover {
            background-color: var(--highlight-bg);
        }

        h1,
        h2,
        h3,
        h4 {
            color: var(--heading);
        }

        .card {
            background-color: var(--card-bg);
            transition: background-color 0.3s, transform 0.2s;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .card:hover {
            background-color: var(--card-hover);
            transform: translateY(-2px);
        }

        .cta-button {
            background-color: var(--button-bg);
            color: var(--button-text);
            transition: background-color 0.2s;
            border-radius: 8px;
        }

        .cta-button:hover {
            background-color: var(--button-hover);
        }

        .cta-button:active {
            background-color: var(--button-active);
        }

        footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
        }

        .modal-content {
            background-color: var(--modal-bg);
            color: var(--modal-text);
            border: 1px solid var(--modal-input-border);
            border-radius: 8px;
        }

        .modal-content input,
        .modal-content textarea,
        .modal-content select {
            background-color: var(--modal-input-bg);
            color: var(--modal-text);
            border: 1px solid var(--modal-input-border);
            border-radius: 4px;
        }

        .modal-content textarea::placeholder,
        .modal-content input::placeholder {
            color: var(--modal-text);
            opacity: 0.6;
        }

        #campaign-search,
        #school-search,
        #requested-school-search,
        #requested-course-search,
        #tutor-search,
        #rejected-campaign-search,
        #rejected-content-search,
        #advertiser-search {
            background-color: var(--highlight-bg);
            color: var(--text);
            border-color: var(--modal-input-border);
            border-radius: 4px;
        }

        #campaign-search::placeholder,
        #school-search::placeholder,
        #requested-school-search::placeholder,
        #requested-course-search::placeholder,
        #tutor-search::placeholder,
        #rejected-campaign-search::placeholder,
        #rejected-content-search::placeholder,
        #advertiser-search::placeholder {
            color: var(--text);
            opacity: 0.6;
        }

        #theme-toggle-btn,
        #mobile-theme-toggle-btn {
            background-color: transparent;
            color: var(--nav-link);
        }

        .tab-button {
            color: var(--text);
            transition: color 0.2s, border-color 0.2s;
        }

        .tab-button:hover {
            color: var(--nav-link-hover);
        }

        .tab-button.active {
            color: var(--button-bg);
            border-bottom: 2px solid var(--button-bg);
        }

        .sub-tab-button {
            color: var(--text);
            transition: color 0.2s, border-color 0.2s;
        }

        .sub-tab-button:hover {
            color: var(--nav-link-hover);
        }

        .sub-tab-button.active {
            color: var(--button-bg);
            border-bottom: 2px solid var(--button-bg);
        }

        canvas {
            background-color: var(--modal-bg);
        }

        table tr:hover {
            background-color: var(--highlight-bg);
        }

        .cover-pic-container {
            position: relative;
            width: 100%;
            margin-bottom: 1.5rem;
        }

        .cover-pic {
            width: 100%;
            height: 200px; /* Fixed height for consistency, adjust as needed */
            object-fit: cover;
            border-radius: 8px;
            display: block;
        }

        .edit-cover-pic {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background-color: var(--button-bg);
            border-radius: 50%;
            padding: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .edit-cover-pic:hover {
            background-color: var(--button-hover);
        }

        .profile-pic-container {
            position: relative;
            display: inline-block;
        }

        .profile-pic {
            width: 128px;
            /* Increased from 96px to 128px for a wider profile picture */
            height: 128px;
            /* Maintain aspect ratio for circular shape */
            border-radius: 50%;
            object-fit: cover;
        }

        .profile-pic-container {
            position: relative;
            display: inline-block;
            margin-bottom: 1.5rem;
            /* Adjusted spacing below profile picture */
        }

        .edit-profile-pic {
            position: absolute;
            bottom: 4px;
            right: 4px;
            background-color: var(--button-bg);
            border-radius: 50%;
            padding: 8px;
            /* Slightly increased padding for better appearance */
            cursor: pointer;
        }

        .advertiser-profile-pic {
            width: 128px;
            height: 128px;
            border-radius: 50%;
            object-fit: cover;
        }

        .edit-profile-pic {
            position: absolute;
            bottom: 4px;
            right: 4px;
            background-color: var(--button-bg);
            border-radius: 50%;
            padding: 6px;
            cursor: pointer;
        }

        .star-rating {
            color: #FFD700;
            font-size: 1.2rem;
        }

        .star-rating .fas.fa-star {
            margin-right: 2px;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--modal-bg);
            border: 1px solid var(--modal-input-border);
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            display: none;
            z-index: 20;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-menu button {
            display: block;
            width: 100%;
            padding: 8px 16px;
            text-align: left;
            background: none;
            border: none;
            color: var(--modal-text);
            cursor: pointer;
        }

        .dropdown-menu button:hover {
            background-color: var(--highlight-bg);
        }

        .comment-card {
            background-color: var(--modal-bg);
            border: 1px solid var(--modal-input-border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            max-width: 600px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .image-preview {
            max-width: 200px;
            max-height: 200px;
            margin-top: 1rem;
            display: none;
        }

        /* Custom Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-slideIn {
            animation: slideIn 0.5s ease-out forwards;
        }

        /* Responsive Adjustments */
        @media (max-width: 640px) {
            .grid-cols-3 {
                grid-template-columns: 1fr;
            }

            .grid-cols-2 {
                grid-template-columns: 1fr;
            }

            .profile-pic {
                width: 96px;
                /* Slightly smaller on mobile for better fit */
                height: 96px;

            }

            .cover-pic {
                height: 150px;
                /* Reduced height for smaller screens */
            }
        }

        @media (min-width: 768px) {
            .dashboard-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 1.5rem;
            }

            .dashboard-grid-second-row {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }
        }

        @media (max-width: 767px) {

            .dashboard-grid,
            .dashboard-grid-second-row {
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }


        }
    </style>
</head>

<body class="font-sans">

    <!-- Navigation -->
    <nav class="p-4 sticky top-0 z-10" role="navigation" aria-label="Main navigation">
        <div class="container mx-auto flex justify-between items-center">
            <a href="../index.html" class="text-2xl font-bold">ASTEGNI</a>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="../index.html" class="hover:text-[var(--nav-link-hover)]">Home</a>
                <a href="find-tutors.html" class="hover:text-[var(--nav-link-hover)]">Find Tutors</a>
                <a href="reels.html" class="hover:text-[var(--nav-link-hover)]">Reels</a>
                <div class="relative">
                    <button id="profile-btn" class="flex items-center space-x-2 focus:outline-none"
                        aria-label="My Profile" aria-haspopup="true" aria-expanded="false">
                        <img src="https://via.placeholder.com/32" alt="Admin Profile" class="w-8 h-8 rounded-full">
                        <span id="nav-profile-name">My Profile</span>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                        </svg>
                    </button>
                    <div id="profile-dropdown" class="dropdown-menu">
                        <button onclick="openCommentModal()">Comment and Rate</button>
                        <button onclick="shareProfile()">Share</button>
                        <button onclick="openRequestLeaveModal()">Request a Leave</button>
                    </div>
                </div>
                <button id="notification-bell" class="relative focus:outline-none" onclick="openNotificationModal()"
                    aria-label="View notifications">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 01-6 0v-1m6 0H9">
                        </path>
                    </svg>
                    <span id="notification-dot"
                        class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full hidden"></span>
                </button>
                <button id="theme-toggle-btn" class="focus:outline-none" aria-label="Toggle theme">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                        </path>
                    </svg>
                </button>
            </div>
            <button id="menu-btn" class="md:hidden focus:outline-none" aria-label="Toggle menu" aria-expanded="false">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7">
                    </path>
                </svg>
            </button>
        </div>
        <div id="mobile-menu" class="md:hidden">
            <a href="../index.html" class="block py-2 px-4 hover:text-[var(--nav-link-hover)]">Home</a>
            <button id="mobile-profile-btn"
                class="block py-2 px-4 hover:text-[var(--nav-link-hover)] w-full text-left flex items-center space-x-2"
                aria-label="My Profile" aria-haspopup="true" aria-expanded="false">
                <img src="https://via.placeholder.com/32" alt="Admin Profile" class="w-6 h-6 rounded-full">
                <span id="mobile-nav-profile-name">My Profile</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                </svg>
            </button>
            <div id="mobile-profile-dropdown" class="dropdown-menu ml-4">
                <button onclick="openCommentModal()">Comment and Rate</button>
                <button onclick="shareProfile()">Share</button>
                <button onclick="openRequestLeaveModal()">Request a Leave</button>
            </div>
            <button id="mobile-notification-bell"
                class="block py-2 px-4 hover:text-[var(--nav-link-hover)] w-full text-left relative"
                onclick="openNotificationModal()" aria-label="View notifications">
                Notifications
                <span id="mobile-notification-dot"
                    class="absolute top-2 right-4 w-2 h-2 bg-red-500 rounded-full hidden"></span>
            </button>
            <button id="mobile-theme-toggle-btn"
                class="block py-2 px-4 hover:text-[var(--nav-link-hover)] w-full text-left" aria-label="Toggle theme">
                Toggle Theme
            </button>
        </div>
    </nav>

    <!-- Admin Dashboard -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold mb-8">Admin Dashboard</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <!-- Admin Details Column -->
                <div>
                    <h3 class="text-xl font-semibold mb-6">Admin Profile</h3>
                    <div class="cover-pic-container">
                        <img id="admin-cover-pic" src="https://via.placeholder.com/600x200" alt="Admin Cover Photo" class="cover-pic">
                        <button class="edit-cover-pic" onclick="openCoverPicModal()" aria-label="Edit cover photo">
                            <i class="fas fa-pencil-alt text-white"></i>
                        </button>
                    </div>
                    <div class="profile-pic-container mb-6">
                        <img id="admin-profile-pic" src="https://via.placeholder.com/96" alt="Admin Profile"
                            class="profile-pic">
                        <button class="edit-profile-pic" onclick="openProfilePicModal()"
                            aria-label="Edit profile picture">
                            <i class="fas fa-pencil-alt text-white"></i>
                        </button>
                    </div>
                    <h3 id="admin-name" class="text-xl font-semibold mb-4">Admin Name</h3>
                    <div id="admin-rating" class="flex items-center mb-4 star-rating" aria-label="Admin rating"></div>
                    <p id="admin-phone" class="text-sm mb-4">Phone: +251-912-345-678</p>
                    <p id="admin-email" class="text-sm mb-4">Email: admin@astegni.et</p>
                    <p id="admin-location" class="text-sm mb-4">Location: Addis Ababa, Ethiopia</p>
                    <p id="admin-bio" class="text-sm mb-4">Bio: Experienced administrator dedicated to enhancing
                        educational platforms.</p>
                    <p id="admin-quote" class="text-sm italic mb-6">"Empowering education through innovation and
                        collaboration."</p>
                    <div class="flex space-x-4">
                        <button onclick="openEditProfileModal()" class="px-4 py-2 rounded-lg cta-button">Edit
                            Profile</button>
                        <button onclick="openViewAdminCommentsModal()" class="px-4 py-2 rounded-lg cta-button">View
                            Comments</button>
                    </div>
                </div>
                <!-- Dashboard Cards Column -->
                <div>
                    <div class="dashboard-grid mb-6">
                        <div class="card p-4 animate-fadeIn" style="animation-delay: 0.1s;">
                            <h3 class="text-lg font-semibold">Pending Ad Reviews</h3>
                            <p id="pending-reviews" class="text-2xl font-bold">0</p>
                        </div>
                        <div class="card p-4 animate-fadeIn" style="animation-delay: 0.2s;">
                            <h3 class="text-lg font-semibold">School Listing Requests</h3>
                            <p id="school-listing-requests" class="text-2xl font-bold">0</p>
                        </div>
                        <div class="card p-4 animate-fadeIn" style="animation-delay: 0.3s;">
                            <h3 class="text-lg font-semibold">Requested Courses</h3>
                            <p id="requested-courses-count" class="text-2xl font-bold">0</p>
                        </div>
                    </div>
                    <div class="dashboard-grid-second-row mb-6">
                        <div class="card p-4 animate-fadeIn" style="animation-delay: 0.4s;">
                            <h3 class="text-lg font-semibold">Tutor Confirmations</h3>
                            <p id="tutor-confirmations" class="text-2xl font-bold">0</p>
                        </div>
                        <div class="card p-4 animate-fadeIn" style="animation-delay: 0.5s;">
                            <h3 class="text-lg font-semibold">Astegni Comments</h3>
                            <p id="user-comments" class="text-2xl font-bold">0</p>
                        </div>
                    </div>
                    <div class="flex space-x-4">
                        <button onclick="openSystemImageModal()" class="px-4 py-2 rounded-lg cta-button">Upload System
                            Image</button>
                        <button onclick="openUploadNewsModal()" class="px-4 py-2 rounded-lg cta-button">Upload
                            News</button>
                    </div>
                </div>
            </div>


            <!-- Tabs -->
            <div class="p-6 rounded-lg shadow-lg" style="background-color: var(--highlight-bg)">
                <div class="flex flex-wrap border-b mb-4">
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('advertisers')"
                        aria-controls="advertisers" aria-selected="false">Advertisers</button>
                    <button class="tab-button px-4 py-2 font-semibold active" onclick="showTab('campaigns')"
                        aria-controls="campaigns" aria-selected="true">Campaigns</button>
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('rejected-campaigns')"
                        aria-controls="rejected-campaigns" aria-selected="false">Rejected Campaigns</button>
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('schools')"
                        aria-controls="schools" aria-selected="false">Schools</button>
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('requested-schools')"
                        aria-controls="requested-schools" aria-selected="false">Requested School Listings</button>
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('requested-courses')"
                        aria-controls="requested-courses" aria-selected="false">Requested Course Listings</button>
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('confirm-tutor')"
                        aria-controls="confirm-tutor" aria-selected="false">Confirm Tutor</button>
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('notifications')"
                        aria-controls="notifications" aria-selected="false">Manage Notifications</button>
                    <button class="tab-button px-4 py-2 font-semibold" onclick="showTab('comments')"
                        aria-controls="comments" aria-selected="false">Comments Astegni</button>
                </div>

                <!-- Advertisers Tab -->
                <div id="advertisers" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Manage Advertisers</h3>
                    <input id="advertiser-search" type="text" class="w-full max-w-md p-2 border rounded-lg mb-4"
                        placeholder="Search advertisers by name or email" oninput="searchAdvertisers()">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2">Name</th>
                                <th class="p-2">Phone Number</th>
                                <th class="p-2">Email Address</th>
                                <th class="p-2">Location</th>
                                <th class="p-2">Message</th>
                            </tr>
                        </thead>
                        <tbody id="advertiser-table"></tbody>
                    </table>
                </div>

                <!-- Campaigns Tab -->
                <div id="campaigns" class="tab-content">
                    <h3 class="text-xl font-semibold mb-4">Manage Campaigns</h3>
                    <input id="campaign-search" type="text" class="w-full max-w-md p-2 border rounded-lg mb-4"
                        placeholder="Search campaigns by name or description" oninput="searchCampaigns()">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2">Name</th>
                                <th class="p-2">Advertiser</th>
                                <th class="p-2">Status</th>
                                <th class="p-2">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="campaign-table"></tbody>
                    </table>
                </div>

                <!-- Rejected Campaigns Tab -->
                <div id="rejected-campaigns" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Rejected Campaigns</h3>
                    <div id="rejected-campaigns-list" class="sub-tab-content">
                        <div class="flex space-x-4 mb-4">
                            <label class="flex items-center">
                                <input type="checkbox" id="sort-advertiser"
                                    onchange="sortRejectedCampaigns('advertiser')" class="mr-2">
                                Advertiser (Asc)
                            </label>
                        </div>
                        <input id="rejected-campaign-search" type="text"
                            class="w-full max-w-md p-2 border rounded-lg mb-4"
                            placeholder="Search rejected campaigns by name or description"
                            oninput="searchRejectedCampaigns()">
                        <table class="w-full text-left">
                            <thead>
                                <tr class="bg-gray-200">
                                    <th class="p-2">Name</th>
                                    <th class="p-2">Advertiser</th>
                                    <th class="p-2">Description</th>
                                    <th class="p-2">Rejection Reason</th>
                                    <th class="p-2">Action</th>
                                </tr>
                            </thead>
                            <tbody id="rejected-campaign-table"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Notifications Tab -->
                <div id="notifications" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Manage Notifications</h3>
                    <button onclick="openSendNotificationModal()" class="px-4 py-2 rounded-lg cta-button mb-4">Send
                        Announcement</button>
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2">Message</th>
                                <th class="p-2">Recipient</th>
                                <th class="p-2">Date</th>
                            </tr>
                        </thead>
                        <tbody id="notification-table"></tbody>
                    </table>
                </div>

                <!-- Schools Tab -->
                <div id="schools" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Manage Schools</h3>
                    <button onclick="openAddSchoolModal()" class="px-4 py-2 rounded-lg cta-button mb-4">Add
                        School</button>
                    <input id="school-search" type="text" class="w-full max-w-md p-2 border rounded-lg mb-4"
                        placeholder="Search schools by name or email" oninput="searchSchools()">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2">Name</th>
                                <th class="p-2">Phone Number</th>
                                <th class="p-2">Email Address</th>
                                <th class="p-2">Location</th>
                                <th class="p-2">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="school-table"></tbody>
                    </table>
                </div>

                <!-- Requested School Listings Tab -->
                <div id="requested-schools" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Requested School Listings</h3>
                    <input id="requested-school-search" type="text" class="w-full max-w-md p-2 border rounded-lg mb-4"
                        placeholder="Search requested schools by name or email" oninput="searchRequestedSchools()">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2">Name</th>
                                <th class="p-2">Phone Number</th>
                                <th class="p-2">Email Address</th>
                                <th class="p-2">Location</th>
                                <th class="p-2">Status</th>
                                <th class="p-2">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="requested-school-table"></tbody>
                    </table>
                </div>

                <!-- Requested Course Listings Tab -->
                <div id="requested-courses" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Requested Course Listings</h3>
                    <input id="requested-course-search" type="text" class="w-full max-w-md p-2 border rounded-lg mb-4"
                        placeholder="Search requested courses by name or school" oninput="searchRequestedCourses()">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2">Course Name</th>
                                <th class="p-2">School</th>
                                <th class="p-2">Description</th>
                                <th class="p-2">Status</th>
                                <th class="p-2 flex items-center">
                                    Actions
                                    <button onclick="sortRequestedCoursesByNotifications()"
                                        class="ml-2 focus:outline-none" aria-label="Sort by notifications sent">
                                        <svg id="notifications-sort-icon" class="w-4 h-4" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                                        </svg>
                                    </button>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="requested-course-table"></tbody>
                    </table>
                </div>

                <!-- Confirm Tutor Tab -->
                <div id="confirm-tutor" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Confirm Tutors</h3>
                    <div class="flex space-x-4 mb-4">
                        <label class="flex items-center">
                            <input type="checkbox" id="sort-school-name" onchange="sortTutors('schoolName')"
                                class="mr-2">
                            School Name (Asc)
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="sort-school-rating" onchange="sortTutors('schoolRating')"
                                class="mr-2">
                            School Rating (Asc)
                        </label>
                    </div>
                    <input id="tutor-search" type="text" class="w-full max-w-md p-2 border rounded-lg mb-4"
                        placeholder="Search tutors by name or school" oninput="searchTutors()">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2">Tutor Name</th>
                                <th class="p-2">Teaches at</th>
                                <th class="p-2">School Phone Number</th>
                                <th class="p-2">Certifications</th>
                                <th class="p-2">Experience</th>
                                <th class="p-2">Status</th>
                                <th class="p-2">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="tutor-table"></tbody>
                    </table>
                </div>

                <!-- Comments Tab (Astegni) -->
                <div id="comments" class="tab-content hidden">
                    <h3 class="text-xl font-semibold mb-4">Manage Astegni Comments</h3>
                    <input id="comment-search" type="text" class="w-full max-w-md p-2 border rounded-lg mb-4"
                        placeholder="Search Astegni comments by user or content" oninput="searchAstegniComments()">
                    <div id="astegni-comment-container"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modals -->
     <!-- Edit Cover Photo Modal -->
    <div id="cover-pic-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog" aria-modal="true" aria-label="Upload Cover Photo">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Upload Cover Photo</h3>
            <input type="file" id="cover-pic-upload" accept="image/*" class="w-full p-2 border rounded-lg mb-4">
            <img id="cover-pic-preview" class="image-preview" alt="Cover photo preview">
            <button onclick="uploadCoverPic()" class="px-4 py-2 rounded-lg cta-button w-full">Upload</button>
            <button onclick="closeCoverPicModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Edit Profile">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Edit Profile</h3>
            <label class="block mb-2">Name</label>
            <input id="edit-profile-name" type="text" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter your name">
            <label class="block mb-2">Phone</label>
            <input id="edit-profile-phone" type="tel" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., +251-912-345-678">
            <label class="block mb-2">Email</label>
            <input id="edit-profile-email" type="email" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., admin@astegni.et">
            <label class="block mb-2">Location</label>
            <input id="edit-profile-location" type="text" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., Addis Ababa, Ethiopia">
            <label class="block mb-2">Bio</label>
            <textarea id="edit-profile-bio" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter your bio"></textarea>
            <label class="block mb-2">Quote</label>
            <input id="edit-profile-quote" type="text" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter your quote">
            <button onclick="saveProfile()" class="px-4 py-2 rounded-lg cta-button w-full">Save</button>
            <button onclick="closeEditProfileModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- View Admin Comments Modal -->
    <div id="view-admin-comments-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="View Admin Comments">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Admin Comments</h3>
            <div id="admin-comments-content"></div>
            <button onclick="closeViewAdminCommentsModal()" class="mt-4 hover:underline">Close</button>
        </div>
    </div>

    <!-- Review Campaign Modal -->
    <div id="review-campaign-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Review Campaign">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Review Campaign</h3>
            <div id="review-campaign-content"></div>
            <div class="flex space-x-4 mt-4">
                <button onclick="reviewCampaign(selectedCampaignId, true)"
                    class="px-4 py-2 rounded-lg cta-button">Approve</button>
                <button onclick="openRejectCampaignModal()"
                    class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700">Reject</button>
            </div>
            <button onclick="closeReviewCampaignModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Reject Campaign Modal -->
    <div id="reject-campaign-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Reject Campaign">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Reject Campaign</h3>
            <label class="block mb-2">Reason for Rejection</label>
            <textarea id="reject-reason" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter reason for rejection"></textarea>
            <button onclick="rejectCampaignWithReason()" class="px-4 py-2 rounded-lg cta-button w-full">Submit</button>
            <div class="mt-2">
                <span id="rejection-count" class="text-white text-xs">0</span>
            </div>
            <button onclick="closeRejectCampaignModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- View Campaign Content Modal -->
    <div id="view-content-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="View Campaign Content">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Campaign Content</h3>
            <div id="view-content-details"></div>
            <button onclick="closeViewContentModal()" class="mt-4 hover:underline">Close</button>
        </div>
    </div>

    <!-- Send Notification Modal -->
    <div id="send-notification-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Send Announcement">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Send Announcement</h3>
            <label class="block mb-2">Recipient</label>
            <select id="notification-recipient" class="w-full p-2 border rounded-lg mb-4">
                <option value="all">All Advertisers</option>
            </select>
            <label class="block mb-2">Message</label>
            <textarea id="notification-message" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., Platform maintenance scheduled"></textarea>
            <button onclick="sendNotification()" class="px-4 py-2 rounded-lg cta-button w-full">Send</button>
            <button onclick="closeSendNotificationModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Notification Modal -->
    <div id="notification-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Admin Notifications">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Admin Notifications</h3>
            <div id="notification-content">You have no notifications.</div>
            <button onclick="closeNotificationModal()" class="mt-4 hover:underline">Close</button>
        </div>
    </div>

    <!-- Add School Modal -->
    <div id="add-school-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20"
        role="dialog" aria-modal="true" aria-label="Add School">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Add School</h3>
            <label class="block mb-2">School Name</label>
            <input id="school-name" type="text" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., Central Prep">
            <label class="block mb-2">Phone Number</label>
            <input id="school-phone" type="tel" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., +251-912-345-678">
            <label class="block mb-2">Email Address</label>
            <input id="school-email" type="email" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., info@school.et">
            <label class="block mb-2">Location</label>
            <input id="school-location" type="text" class="w-full p-2 border rounded-lg mb-4"
                placeholder="e.g., Addis Ababa, Ethiopia">
            <button onclick="saveSchool()" class="px-4 py-2 rounded-lg cta-button w-full">Save</button>
            <button onclick="closeAddSchoolModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- List Certifications Modal -->
    <div id="list-certifications-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="List Certifications">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Tutor Certifications</h3>
            <div id="certifications-content"></div>
            <button onclick="closeListCertificationsModal()" class="mt-4 hover:underline">Close</button>
        </div>
    </div>

    <!-- List Experience Modal -->
    <div id="list-experience-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="List Experience">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Tutor Experience</h3>
            <div id="experience-content"></div>
            <button onclick="closeListExperienceModal()" class="mt-4 hover:underline">Close</button>
        </div>
    </div>

    <!-- Decline Experience Modal -->
    <div id="decline-experience-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Decline Experience">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Decline Experience</h3>
            <p class="mb-4">We found out that the information you gave us is false. If you feel that this is a mistake,
                please contact us at <a href="mailto:contact@astegni.com" class="underline">contact@astegni.com</a>.</p>
            <label class="block mb-2">Reason for Decline</label>
            <textarea id="decline-reason" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter reason for decline"></textarea>
            <button onclick="submitDeclineExperience()" class="px-4 py-2 rounded-lg cta-button w-full">Send</button>
            <button onclick="closeDeclineExperienceModal()" class="mt-4 hover:underline">Close</button>
        </div>
    </div>

    <!-- Message Advertiser Modal -->
    <div id="message-advertiser-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Message Advertiser">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Message Advertiser</h3>
            <label class="block mb-2">To</label>
            <input id="message-recipient" type="text" class="w-full p-2 border rounded-lg mb-4" readonly>
            <label class="block mb-2">Message</label>
            <textarea id="message-content" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Type your message here"></textarea>
            <button onclick="sendMessage()" class="px-4 py-2 rounded-lg cta-button w-full">Send</button>
            <button onclick="closeMessageAdvertiserModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Profile Picture Upload Modal -->
    <div id="profile-pic-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Upload Profile Picture">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Upload Profile Picture</h3>
            <input type="file" id="profile-pic-upload" accept="image/*" class="w-full p-2 border rounded-lg mb-4">
            <img id="profile-pic-preview" class="image-preview" alt="Profile picture preview">
            <button onclick="uploadProfilePic()" class="px-4 py-2 rounded-lg cta-button w-full">Upload</button>
            <button onclick="closeProfilePicModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- System Image Upload Modal -->
    <div id="system-image-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Upload System Image">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Upload System Image</h3>
            <label class="block mb-2">Image Type</label>
            <select id="system-image-type" class="w-full p-2 border rounded-lg mb-4">
                <option value="cover">Cover Photo</option>
                <option value="profile">Profile Picture</option>
                <option value="ad_300x250">Ad Image (300x250)</option>
                <option value="ad_992x200">Ad Image (992x200)</option>
                <option value="background_notes">Background Images for Notes</option>
                <option value="carousel_index">Rotating Carousel (index.html)</option>
                <option value="carousel_find_tutors">Rotating Carousel (find-tutors.html)</option>
                <option value="share_image">Share Image</option>
                <option value="cart_icon">Add to Cart Icon</option>
            </select>
            <input type="file" id="system-image-upload" accept="image/*" class="w-full p-2 border rounded-lg mb-4">
            <img id="system-image-preview" class="image-preview" alt="System image preview">
            <button onclick="uploadSystemImage()" class="px-4 py-2 rounded-lg cta-button w-full">Upload</button>
            <button onclick="closeSystemImageModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Upload News Modal -->
    <div id="upload-news-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Upload News">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Upload News</h3>
            <label class="block mb-2">News Title</label>
            <input id="news-title" type="text" class="w-full p-2 border rounded-lg mb-4" placeholder="Enter news title">
            <label class="block mb-2">Author</label>
            <input id="news-author" type="text" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter author name">
            <label class="block mb-2">Date</label>
            <input id="news-date" type="date" class="w-full p-2 border rounded-lg mb-4">
            <label class="block mb-2">News Content</label>
            <textarea id="news-content" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter news content"></textarea>
            <label class="block mb-2">News Image</label>
            <input type="file" id="news-image-upload" accept="image/*" class="w-full p-2 border rounded-lg mb-4">
            <img id="news-image-preview" class="image-preview" alt="News image preview">
            <label class="block mb-2">News Video</label>
            <input type="file" id="news-video-upload" accept="video/*" class="w-full p-2 border rounded-lg mb-4">
            <label class="block mb-2">Video Thumbnail</label>
            <input type="file" id="video-thumbnail-upload" accept="image/*" class="w-full p-2 border rounded-lg mb-4">
            <img id="video-thumbnail-preview" class="image-preview" alt="Video thumbnail preview">
            <button onclick="uploadNews()" class="px-4 py-2 rounded-lg cta-button w-full">Upload</button>
            <button onclick="closeUploadNewsModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Comment Modal (Astegni) -->
    <div id="comment-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20"
        role="dialog" aria-modal="true" aria-label="Comment on Astegni">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Comment on Astegni</h3>
            <label class="block mb-2">Platform Usability Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Ease of navigating and using the Astegni platform.</p>
            <select id="usability-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Company Culture & Values Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Alignment with personal values, inclusivity, community, and leadership
                integrity.</p>
            <select id="culture-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Management & Leadership Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Quality of supervisors, communication clarity, mentorship, and
                decision-making transparency.</p>
            <select id="management-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Job Role & Responsibilities Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Clarity of role expectations, autonomy, opportunities for innovation,
                and workload balance.</p>
            <select id="role-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Career Development & Growth Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Access to training, clear career paths, feedback quality, and internal
                mobility.</p>
            <select id="development-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Compensation & Benefits Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Fairness of salary, health benefits, retirement plans, and paid time
                off policies.</p>
            <select id="compensation-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Work-Life Balance Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Flexibility in work hours, respect for personal time, and support for
                family responsibilities.</p>
            <select id="worklife-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Mental Health & Wellbeing Rating (1-5)</label>
            <p class="text-sm text-gray-600 mb-2">Support for stress management, mental health resources, and
                psychological safety.</p>
            <select id="mentalhealth-rating" class="w-full p-2 border rounded-lg mb-4">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <label class="block mb-2">Comment</label>
            <p class="text-sm text-gray-600 mb-2">Your feedback about Astegni's platform and work environment.</p>
            <textarea id="comment-content" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Enter your comment about Astegni"></textarea>
            <button onclick="submitAstegniComment()" class="px-4 py-2 rounded-lg cta-button w-full">Submit</button>
            <button onclick="closeCommentModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Request Leave Modal -->
    <div id="request-leave-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-20" role="dialog"
        aria-modal="true" aria-label="Request a Leave">
        <div class="modal-content p-6 rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto">
            <h3 class="text-2xl font-bold mb-4">Request a Leave</h3>
            <label class="block mb-2">Start Date</label>
            <input id="leave-start-date" type="date" class="w-full p-2 border rounded-lg mb-4">
            <label class="block mb-2">End Date</label>
            <input id="leave-end-date" type="date" class="w-full p-2 border rounded-lg mb-4">
            <label class="block mb-2">Reason</label>
            <textarea id="leave-reason" class="w-full p-2 border rounded-lg mb-4"
                placeholder="Reason for leave"></textarea>
            <button onclick="submitLeaveRequest()" class="px-4 py-2 rounded-lg cta-button w-full">Submit</button>
            <button onclick="closeRequestLeaveModal()" class="mt-4 hover:underline">Cancel</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-8" style="background-color: var(--footer-bg);">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center md:text-left">
                    <h3 class="text-lg font-semibold mb-4" style="color: var(--heading);">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a class="nav-link hover:underline" href="../index.html">Home</a></li>
                        <li><a class="nav-link hover:underline" href="#contact">Contact Us</a></li>
                        <li><button class="nav-link hover:underline bg-transparent border-none p-0"
                                onclick="openLoginRegisterModal()">Login/Register</button></li>
                        <li><button class="nav-link hover:underline bg-transparent border-none p-0"
                                onclick="openAdvertiseModal()">Advertise</button></li>
                    </ul>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-lg font-semibold mb-4" style="color: var(--heading);">Newsletter</h3>
                    <p class="mb-4">Stay updated with our latest news and offers.</p>
                    <div class="mt-4 flex flex-col items-center md:items-start">
                        <input class="w-full max-w-xs p-2 border rounded-lg mb-4" placeholder="Enter your email"
                            type="email" />
                        <button class="cta-button px-4 py-2 rounded-lg w-full max-w-xs">Subscribe</button>
                    </div>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-lg font-semibold mb-4" style="color: var(--heading);">Get in Touch</h3>
                    <p class="mb-2">Email: <a class="nav-link hover:underline"
                            href="mailto:info@astegni.et">info@astegni.et</a></p>
                    <p class="mb-4">Phone: +251-912-345-678</p>
                    <div class="flex justify-center md:justify-start gap-4">
                        <a class="social-icon" href="https://facebook.com">
                            <svg class="w-6 h-6" fill="var(--footer-text)" viewBox="0 0 24 24">
                                <path
                                    d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z">
                                </path>
                            </svg>
                        </a>
                        <a class="social-icon" href="https://x.com">
                            <svg class="w-6 h-6" fill="var(--footer-text)" viewBox="0 0 24 24">
                                <path
                                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z">
                                </path>
                            </svg>
                        </a>
                        <a class="social-icon" href="https://instagram.com">
                            <svg class="w-6 h-6" fill="var(--footer-text)" viewBox="0 0 24 24">
                                <path
                                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.148 3.227-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.148-4.771-1.691-4.919-4.919-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.332.014 7.052.072 2.951.227.228 2.996.073 7.052.014 8.332 0 8.741 0 12c0 3.259.014 3.668.072 4.948.225 4.053 2.992 6.776 7.048 6.931 1.28.058 1.689.072 4.948.072s3.668-.014 4.948-.072c4.056-.155 6.824-2.878 6.979-6.931.058-1.28.072-1.689.072-4.948s-.014-3.668-.072-4.948c-.155-4.053-2.923-6.776-6.979-6.931C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm0 10.162a3.999 3.999 0 110-7.998 3.999 3.999 0 010 7.998zm6.406-11.845a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p class="mb-2">Join us with only 500 birr registration fee and 200 birr/month</p>
                <p> 2025 Astegni. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data Objects
        const currentAdmin = {
            id: 1,
            email: 'admin@astegni.et',
            role: 'Super Admin',
            name: 'Admin User',
            profilePic: 'https://via.placeholder.com/96',
            phone: '+251-912-345-678',
            location: 'Addis Ababa, Ethiopia',
            bio: 'Experienced administrator dedicated to enhancing educational platforms.',
            quote: 'Empowering education through innovation and collaboration.',
            rating: null
        };
        const advertisers = {
            1: {
                id: 1,
                name: 'EduAds Inc.',
                email: 'contact@eduads.com',
                phone: '+251912345680',
                profilePic: 'https://via.placeholder.com/128',
                coverImage: 'https://via.placeholder.com/1200x300',
                status: 'Active',
                rejectionCount: 0,
                suspensionEnd: null,
                location: 'Addis Ababa, Ethiopia',
                message: 'Looking for tutors in various subjects'
            },
            2: {
                id: 2,
                name: 'LearnEasy Ltd.',
                email: 'info@learneasy.et',
                phone: '+251911223344',
                profilePic: 'https://via.placeholder.com/128',
                coverImage: 'https://via.placeholder.com/1200x300',
                status: 'Active',
                rejectionCount: 0,
                suspensionEnd: null,
                location: 'Adama, Ethiopia',
                message: 'Promoting online courses for high school students'
            }
        };
        const bannedAdvertisers = {};
        const campaigns = {
            1: {
                id: 1,
                advertiserId: 1,
                name: 'Math Tutoring Promo',
                duration: 30,
                price: 19500,
                adContent: { url: 'https://via.placeholder.com/150', description: 'Promote math tutoring with fun visuals' },
                reviewStatus: 'Under Review',
                moderationStatus: 'Pending',
                rejectionReason: '',
                rejectionCount: 0
            },
            2: {
                id: 2,
                advertiserId: 1,
                name: 'Science Campaign',
                duration: 15,
                price: 11250,
                adContent: { url: 'https://via.placeholder.com/150', description: 'Science tutoring ad for all grades' },
                reviewStatus: 'Active',
                moderationStatus: 'Approved',
                rejectionReason: '',
                rejectionCount: 0
            },
            3: {
                id: 3,
                advertiserId: 1,
                name: 'Math Tutoring Promo',
                duration: 30,
                price: 19500,
                adContent: { url: 'https://via.placeholder.com/150', description: 'Promote math tutoring with fun visuals' },
                reviewStatus: 'Under Review',
                moderationStatus: 'Pending',
                rejectionReason: '',
                rejectionCount: 0
            },
            4: {
                id: 4,
                advertiserId: 1,
                name: 'Math Tutoring Promo',
                duration: 30,
                price: 19500,
                adContent: { url: 'https://via.placeholder.com/150', description: 'Promote math tutoring with fun visuals' },
                reviewStatus: 'Under Review',
                moderationStatus: 'Pending',
                rejectionReason: '',
                rejectionCount: 0
            }
        };
        const notifications = {
            1: {
                id: 1,
                message: 'New campaign submitted for review',
                recipient: 'Admin',
                date: '2025-05-20'
            }
        };
        const schools = {
            1: {
                id: 1,
                name: 'Central Prep',
                phone: '+251-912-000-111',
                email: 'info@centralprep.et',
                location: 'Addis Ababa, Ethiopia',
                status: 'Approved',
                rating: 4.5
            },
            2: {
                id: 2,
                name: 'Riverside Academy',
                phone: '+251-912-000-222',
                email: 'contact@riverside.et',
                location: 'Bahir Dar, Ethiopia',
                status: 'Approved',
                rating: 4.0
            },
            3: {
                id: 3,
                name: 'Springfield High',
                phone: '+251-912-000-333',
                email: 'admin@springfield.et',
                location: 'Hawassa, Ethiopia',
                status: 'Approved',
                rating: 3.8
            }
        };
        const requestedSchools = {
            1: {
                id: 1,
                name: 'New Horizon School',
                phone: '+251-912-000-444',
                email: 'info@newhorizon.et',
                location: 'Adama, Ethiopia',
                status: 'Pending'
            },
            2: {
                id: 2,
                name: 'Bright Future Academy',
                phone: '+251-912-000-555',
                email: 'contact@brightfuture.et',
                location: 'Dire Dawa, Ethiopia',
                status: 'Pending'
            }
        };
        const requestedCourses = {
            1: {
                id: 1,
                name: 'Advanced Mathematics',
                schoolId: 1,
                description: 'Calculus and algebra for high school students',
                status: 'Pending'
            },
            2: {
                id: 2,
                name: 'Physics Fundamentals',
                schoolId: 2,
                description: 'Introductory physics for grade 10',
                status: 'Pending'
            }
        };
        const tutors = {
            1: {
                id: 1,
                name: 'Abebe Kebede',
                schoolId: 1,
                schoolName: 'Central Prep',
                schoolPhone: '+251-912-000-111',
                schoolRating: 4.5,
                type: 'Teacher',
                certifications: [
                    { certSchool: 'Addis University', certSchoolPhone: '+251-911-111-111', courseTitle: 'Calculus', type: 'Academic', certificate: 'BSc in Mathematics' },
                    { certSchool: 'Ethio College', certSchoolPhone: '+251-911-222-222', courseTitle: 'Algebra', type: 'Professional', certificate: 'Teaching Certificate' }
                ],
                experience: [
                    { company: 'Addis Tutoring', companyContact: 'contact@addistutoring.et', experiencedIn: 'Mathematics', years: '2018-2022', proof: 'https://via.placeholder.com/150', status: 'Unverified' },
                    { company: 'Ethio Education', companyContact: '+251-911-333-333', experiencedIn: 'Algebra', years: '2022-2023', proof: 'https://via.placeholder.com/150', status: 'Unverified' }
                ],
                status: 'Pending'
            },
            2: {
                id: 2,
                name: 'Marta Tesfaye',
                schoolId: 2,
                schoolName: 'Riverside Academy',
                schoolPhone: '+251-912-000-222',
                schoolRating: 4.0,
                type: 'Teacher',
                certifications: [
                    { certSchool: 'Bahir Dar University', certSchoolPhone: '+251-911-333-333', courseTitle: 'Physics', type: 'Academic', certificate: 'MSc in Physics' },
                    { certSchool: 'Global Institute', certSchoolPhone: '+251-911-444-444', courseTitle: 'English', type: 'Professional', certificate: 'TESOL Certification' }
                ],
                experience: [
                    { company: 'Global Tutors', companyContact: 'info@globaltutors.et', experiencedIn: 'Physics', years: '2019-2023', proof: 'https://via.placeholder.com/150', status: 'Unverified' }
                ],
                status: 'Pending'
            },
            3: {
                id: 3,
                name: 'Yared Alem',
                schoolId: null,
                schoolName: '',
                schoolPhone: '',
                schoolRating: 0,
                type: 'High School Student',
                certifications: [
                    { certSchool: 'Springfield High', certSchoolPhone: '+251-912-000-333', courseTitle: 'Biology', type: 'Academic', certificate: 'High School Certificate' }
                ],
                experience: [],
                status: 'Pending'
            }
        };
        const astegniComments = {
            1: {
                id: 1,
                userName: 'Yohannes Bekele',
                userType: 'Student',
                content: 'Astegni has a great platform for learning!',
                date: '2025-05-22',
                usabilityRating: 4,
                cultureRating: 4,
                managementRating: 3,
                roleRating: 4,
                developmentRating: 5,
                compensationRating: 4,
                worklifeRating: 4,
                mentalhealthRating: 4,
                isAdminComment: false
            },
            2: {
                id: 2,
                userName: 'Selamawit Tadesse',
                userType: 'Tutor',
                content: 'The course variety on Astegni is impressive.',
                date: '2025-05-23',
                usabilityRating: 5,
                cultureRating: 5,
                managementRating: 4,
                roleRating: 5,
                developmentRating: 5,
                compensationRating: 4,
                worklifeRating: 5,
                mentalhealthRating: 5,
                isAdminComment: false
            }
        };
        const adminComments = {
            1: {
                id: 1,
                userName: 'Amanuel Tesfaye',
                userType: 'Tutor',
                content: 'Great admin support!',
                date: '2025-05-20',
                rating: 5,
                isAdminComment: true
            },
            2: {
                id: 2,
                userName: 'Abebe Kebede',
                userType: 'Student',
                content: 'The admin was very helpful with my issue.',
                date: '2025-05-21',
                rating: 4,
                isAdminComment: true
            }
        };
        const systemImages = [];
        const newsItems = [];

        // Initialize Dashboard
        function initDashboard() {
            try {
                updateSummary();
                updateAdminProfile();
                searchAdvertisers();
                searchCampaigns();
                searchRejectedCampaigns();
                searchRejectedCampaignContent();
                updateNotifications();
                searchSchools();
                searchRequestedSchools();
                searchRequestedCourses();
                searchTutors();
                checkNotifications();
                searchAstegniComments();
                showTab('advertisers');
                console.log('Dashboard initialized successfully');
            } catch (error) {
                console.error('Error initializing dashboard:', error);
            }
        }

        // Update Summary
        function updateSummary() {
            try {
                const pendingReviews = Object.values(campaigns).filter(c => c.reviewStatus === 'Under Review').length;
                const schoolListingRequests = Object.values(requestedSchools).filter(s => s.status === 'Pending').length;
                const requestedCoursesCount = Object.values(requestedCourses).filter(c => c.status === 'Pending').length;
                const tutorConfirmations = Object.values(tutors).filter(t => t.status === 'Pending').length;
                const astegniCommentsCount = Object.values(astegniComments).length;
                document.getElementById('pending-reviews').textContent = pendingReviews;
                document.getElementById('school-listing-requests').textContent = schoolListingRequests;
                document.getElementById('requested-courses-count').textContent = requestedCoursesCount;
                document.getElementById('tutor-confirmations').textContent = tutorConfirmations;
                document.getElementById('user-comments').textContent = astegniCommentsCount;
                console.log('Summary updated:', { pendingReviews, schoolListingRequests, requestedCoursesCount, tutorConfirmations, astegniCommentsCount });
            } catch (error) {
                console.error('Error updating summary:', error);
            }
        }

        // Update Admin Profile
        function updateAdminProfile() {
            try {
                document.getElementById('admin-name').textContent = currentAdmin.name;
                document.getElementById('admin-profile-pic').src = currentAdmin.profilePic || 'https://via.placeholder.com/96';
                document.getElementById('profile-btn').querySelector('img').src = currentAdmin.profilePic || 'https://via.placeholder.com/32';
                document.getElementById('mobile-profile-btn').querySelector('img').src = currentAdmin.profilePicdocument.getElementById('mobile-profile-btn').querySelector('img').src = currentAdmin.profilePic || 'https://via.placeholder.com/32';
                document.getElementById('nav-profile-name').textContent = currentAdmin.name;
                document.getElementById('mobile-nav-profile-name').textContent = currentAdmin.name;
                document.getElementById('admin-phone').textContent = `Phone: ${currentAdmin.phone}`;
                document.getElementById('admin-email').textContent = `Email: ${currentAdmin.email}`;
                document.getElementById('admin-location').textContent = `Location: ${currentAdmin.location}`;
                document.getElementById('admin-bio').textContent = `Bio: ${currentAdmin.bio}`;
                document.getElementById('admin-quote').textContent = `"${currentAdmin.quote}"`;
                const rating = calculateAdminRating();
                displayRating(rating, 'admin-rating');
                console.log('Admin profile updated:', currentAdmin);
            } catch (error) {
                console.error('Error updating admin profile:', error);
            }
        }

        // Calculate Admin Rating
        function calculateAdminRating() {
            try {
                const comments = Object.values(adminComments);
                if (comments.length === 0) return 0;
                const total = comments.reduce((sum, comment) => sum + comment.rating, 0);
                return (total / comments.length).toFixed(1);
            } catch (error) {
                console.error('Error calculating admin rating:', error);
                return 0;
            }
        }

        // Display Rating
        function displayRating(rating, elementId) {
            try {
                const ratingElement = document.getElementById(elementId);
                ratingElement.innerHTML = '';
                const fullStars = Math.floor(rating);
                const halfStar = rating % 1 >= 0.5;
                for (let i = 0; i < 5; i++) {
                    if (i < fullStars) {
                        ratingElement.innerHTML += '<i class="fas fa-star"></i>';
                    } else if (i === fullStars && halfStar) {
                        ratingElement.innerHTML += '<i class="fas fa-star-half-alt"></i>';
                    } else {
                        ratingElement.innerHTML += '<i class="far fa-star"></i>';
                    }
                }
                console.log(`Rating displayed for ${elementId}: ${rating}`);
            } catch (error) {
                console.error('Error displaying rating:', error);
            }
        }

        // Theme Toggle
        document.getElementById('theme-toggle-btn').addEventListener('click', toggleTheme);
        document.getElementById('mobile-theme-toggle-btn').addEventListener('click', toggleTheme);

        function toggleTheme() {
            try {
                const html = document.documentElement;
                const currentTheme = html.getAttribute('data-theme');
                html.setAttribute('data-theme', currentTheme === 'light' ? 'dark' : 'light');
                localStorage.setItem('theme', html.getAttribute('data-theme'));
                console.log('Theme toggled to:', html.getAttribute('data-theme'));
            } catch (error) {
                console.error('Error toggling theme:', error);
            }
        }

        // Initialize Theme
        function initTheme() {
            try {
                const savedTheme = localStorage.getItem('theme') || 'light';
                document.documentElement.setAttribute('data-theme', savedTheme);
                console.log('Theme initialized:', savedTheme);
            } catch (error) {
                console.error('Error initializing theme:', error);
            }
        }

        // Mobile Menu Toggle
        document.getElementById('menu-btn').addEventListener('click', () => {
            try {
                const mobileMenu = document.getElementById('mobile-menu');
                mobileMenu.classList.toggle('open');
                mobileMenu.setAttribute('aria-expanded', mobileMenu.classList.contains('open'));
                console.log('Mobile menu toggled:', mobileMenu.classList.contains('open'));
            } catch (error) {
                console.error('Error toggling mobile menu:', error);
            }
        });

        // Profile Dropdown Toggle
        document.getElementById('profile-btn').addEventListener('click', () => {
            try {
                const dropdown = document.getElementById('profile-dropdown');
                dropdown.classList.toggle('show');
                document.getElementById('profile-btn').setAttribute('aria-expanded', dropdown.classList.contains('show'));
                console.log('Profile dropdown toggled:', dropdown.classList.contains('show'));
            } catch (error) {
                console.error('Error toggling profile dropdown:', error);
            }
        });

        document.getElementById('mobile-profile-btn').addEventListener('click', () => {
            try {
                const dropdown = document.getElementById('mobile-profile-dropdown');
                dropdown.classList.toggle('show');
                document.getElementById('mobile-profile-btn').setAttribute('aria-expanded', dropdown.classList.contains('show'));
                console.log('Mobile profile dropdown toggled:', dropdown.classList.contains('show'));
            } catch (error) {
                console.error('Error toggling mobile profile dropdown:', error);
            }
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', (event) => {
            try {
                if (!event.target.closest('#profile-btn') && !event.target.closest('#profile-dropdown')) {
                    document.getElementById('profile-dropdown').classList.remove('show');
                    document.getElementById('profile-btn').setAttribute('aria-expanded', 'false');
                }
                if (!event.target.closest('#mobile-profile-btn') && !event.target.closest('#mobile-profile-dropdown')) {
                    document.getElementById('mobile-profile-dropdown').classList.remove('show');
                    document.getElementById('mobile-profile-btn').setAttribute('aria-expanded', 'false');
                }
            } catch (error) {
                console.error('Error handling outside click for dropdowns:', error);
            }
        });

        // Tab Management
        function showTab(tabId) {
            try {
                document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
                document.getElementById(tabId).classList.remove('hidden');
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('aria-selected', 'false');
                });
                document.querySelector(`button[onclick="showTab('${tabId}')"]`).classList.add('active');
                document.querySelector(`button[onclick="showTab('${tabId}')"]`).setAttribute('aria-selected', 'true');
                console.log(`Tab switched to: ${tabId}`);
            } catch (error) {
                console.error('Error switching tab:', error);
            }
        }

        // Search Functions
        function searchAdvertisers() {
            try {
                const searchTerm = document.getElementById('advertiser-search').value.toLowerCase();
                const table = document.getElementById('advertiser-table');
                table.innerHTML = '';
                Object.values(advertisers).forEach(advertiser => {
                    if (advertiser.name.toLowerCase().includes(searchTerm) || advertiser.email.toLowerCase().includes(searchTerm)) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-2">${advertiser.name}</td>
                            <td class="p-2">${advertiser.phone}</td>
                            <td class="p-2">${advertiser.email}</td>
                            <td class="p-2">${advertiser.location}</td>
                            <td class="p-2">
                                <button onclick="openMessageAdvertiserModal(${advertiser.id})" class="px-2 py-1 cta-button" aria-label="Message ${advertiser.name}">Message</button>
                            </td>
                        `;
                        table.appendChild(row);
                    }
                });
                console.log('Advertisers searched:', searchTerm);
            } catch (error) {
                console.error('Error searching advertisers:', error);
            }
        }

        function searchCampaigns() {
            try {
                const searchTerm = document.getElementById('campaign-search').value.toLowerCase();
                const table = document.getElementById('campaign-table');
                table.innerHTML = '';
                Object.values(campaigns).forEach(campaign => {
                    if (campaign.name.toLowerCase().includes(searchTerm) || campaign.adContent.description.toLowerCase().includes(searchTerm)) {
                        const advertiser = advertisers[campaign.advertiserId]?.name || 'Unknown';
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-2">${campaign.name}</td>
                            <td class="p-2">${advertiser}</td>
                            <td class="p-2">${campaign.reviewStatus}</td>
                            <td class="p-2">
                                <button onclick="openReviewCampaignModal(${campaign.id})" class="px-2 py-1 cta-button" aria-label="Review ${campaign.name}">Review</button>
                                <button onclick="openViewContentModal(${campaign.id})" class="px-2 py-1 cta-button ml-2" aria-label="View Content for ${campaign.name}">View Content</button>
                            </td>
                        `;
                        table.appendChild(row);
                    }
                });
                console.log('Campaigns searched:', searchTerm);
            } catch (error) {
                console.error('Error searching campaigns:', error);
            }
        }

        function searchRejectedCampaigns() {
            try {
                const searchTerm = document.getElementById('rejected-campaign-search').value.toLowerCase();
                const table = document.getElementById('rejected-campaign-table');
                table.innerHTML = '';
                Object.values(campaigns).filter(c => c.reviewStatus === 'Rejected').forEach(campaign => {
                    if (campaign.name.toLowerCase().includes(searchTerm) || campaign.adContent.description.toLowerCase().includes(searchTerm)) {
                        const advertiser = advertisers[campaign.advertiserId]?.name || 'Unknown';
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-2">${campaign.name}</td>
                            <td class="p-2">${advertiser}</td>
                            <td class="p-2">${campaign.adContent.description}</td>
                            <td class="p-2">${campaign.rejectionReason || 'N/A'}</td>
                            <td class="p-2">
                                <button onclick="openViewContentModal(${campaign.id})" class="px-2 py-1 cta-button" aria-label="View Content for ${campaign.name}">View Content</button>
                            </td>
                        `;
                        table.appendChild(row);
                    }
                });
                console.log('Rejected campaigns searched:', searchTerm);
            } catch (error) {
                console.error('Error searching rejected campaigns:', error);
            }
        }

        function searchSchools() {
            try {
                const searchTerm = document.getElementById('school-search').value.toLowerCase();
                const table = document.getElementById('school-table');
                table.innerHTML = '';
                Object.values(schools).forEach(school => {
                    if (school.name.toLowerCase().includes(searchTerm) || school.email.toLowerCase().includes(searchTerm)) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-2">${school.name}</td>
                            <td class="p-2">${school.phone}</td>
                            <td class="p-2">${school.email}</td>
                            <td class="p-2">${school.location}</td>
                            <td class="p-2">
                                <button onclick="editSchool(${school.id})" class="px-2 py-1 cta-button" aria-label="Edit ${school.name}">Edit</button>
                                <button onclick="deleteSchool(${school.id})" class="px-2 py-1 bg-red-600 text-white hover:bg-red-700 ml-2" aria-label="Delete ${school.name}">Delete</button>
                            </td>
                        `;
                        table.appendChild(row);
                    }
                });
                console.log('Schools searched:', searchTerm);
            } catch (error) {
                console.error('Error searching schools:', error);
            }
        }

        function searchRequestedSchools() {
            try {
                const searchTerm = document.getElementById('requested-school-search').value.toLowerCase();
                const table = document.getElementById('requested-school-table');
                table.innerHTML = '';
                Object.values(requestedSchools).forEach(school => {
                    if (school.name.toLowerCase().includes(searchTerm) || school.email.toLowerCase().includes(searchTerm)) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-2">${school.name}</td>
                            <td class="p-2">${school.phone}</td>
                            <td class="p-2">${school.email}</td>
                            <td class="p-2">${school.location}</td>
                            <td class="p-2">${school.status}</td>
                            <td class="p-2">
                                <button onclick="approveSchool(${school.id})" class="px-2 py-1 cta-button" aria-label="Approve ${school.name}">Approve</button>
                                <button onclick="rejectSchool(${school.id})" class="px-2 py-1 bg-red-600 text-white hover:bg-red-700 ml-2" aria-label="Reject ${school.name}">Reject</button>
                            </td>
                        `;
                        table.appendChild(row);
                    }
                });
                console.log('Requested schools searched:', searchTerm);
            } catch (error) {
                console.error('Error searching requested schools:', error);
            }
        }

        function searchRequestedCourses() {
            try {
                const searchTerm = document.getElementById('requested-course-search').value.toLowerCase();
                const table = document.getElementById('requested-course-table');
                table.innerHTML = '';
                Object.values(requestedCourses).forEach(course => {
                    if (course.name.toLowerCase().includes(searchTerm) || (schools[course.schoolId]?.name || '').toLowerCase().includes(searchTerm)) {
                        const schoolName = schools[course.schoolId]?.name || 'Unknown';
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-2">${course.name}</td>
                            <td class="p-2">${schoolName}</td>
                            <td class="p-2">${course.description}</td>
                            <td class="p-2">${course.status}</td>
                            <td class="p-2">
                                <button onclick="approveCourse(${course.id})" class="px-2 py-1 cta-button" aria-label="Approve ${course.name}">Approve</button>
                                <button onclick="rejectCourse(${course.id})" class="px-2 py-1 bg-red-600 text-white hover:bg-red-700 ml-2" aria-label="Reject ${course.name}">Reject</button>
                            </td>
                        `;
                        table.appendChild(row);
                    }
                });
                console.log('Requested courses searched:', searchTerm);
            } catch (error) {
                console.error('Error searching requested courses:', error);
            }
        }

        function searchTutors() {
            try {
                const searchTerm = document.getElementById('tutor-search').value.toLowerCase();
                const table = document.getElementById('tutor-table');
                table.innerHTML = '';
                let sortedTutors = Object.values(tutors);
                if (document.getElementById('sort-school-name').checked) {
                    sortedTutors.sort((a, b) => a.schoolName.localeCompare(b.schoolName));
                } else if (document.getElementById('sort-school-rating').checked) {
                    sortedTutors.sort((a, b) => a.schoolRating - b.schoolRating);
                }
                sortedTutors.forEach(tutor => {
                    if (tutor.name.toLowerCase().includes(searchTerm) || tutor.schoolName.toLowerCase().includes(searchTerm)) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-2">${tutor.name}</td>
                            <td class="p-2">${tutor.schoolName || 'N/A'}</td>
                            <td class="p-2">${tutor.schoolPhone || 'N/A'}</td>
                            <td class="p-2">
                                <button onclick="openListCertificationsModal(${tutor.id})" class="px-2 py-1 cta-button" aria-label="View Certifications for ${tutor.name}">View</button>
                            </td>
                            <td class="p-2">
                                <button onclick="openListExperienceModal(${tutor.id})" class="px-2 py-1 cta-button" aria-label="View Experience for ${tutor.name}">View</button>
                            </td>
                            <td class="p-2">${tutor.status}</td>
                            <td class="p-2">
                                <button onclick="approveTutor(${tutor.id})" class="px-2 py-1 cta-button" aria-label="Approve ${tutor.name}">Approve</button>
                                <button onclick="rejectTutor(${tutor.id})" class="px-2 py-1 bg-red-600 text-white hover:bg-red-700 ml-2" aria-label="Reject ${tutor.name}">Reject</button>
                            </td>
                        `;
                        table.appendChild(row);
                    }
                });
                console.log('Tutors searched:', searchTerm);
            } catch (error) {
                console.error('Error searching tutors:', error);
            }
        }

        function sortTutors(criteria) {
            try {
                const otherCheckbox = criteria === 'schoolName' ? 'sort-school-rating' : 'sort-school-name';
                document.getElementById(otherCheckbox).checked = false;
                searchTutors();
                console.log(`Tutors sorted by ${criteria}`);
            } catch (error) {
                console.error('Error sorting tutors:', error);
            }
        }

        function sortRequestedCoursesByNotifications() {
            try {
                const icon = document.getElementById('notifications-sort-icon');
                const isAscending = icon.classList.contains('rotate-180');
                const table = document.getElementById('requested-course-table');
                table.innerHTML = '';
                let sortedCourses = Object.values(requestedCourses);
                sortedCourses.sort((a, b) => {
                    const aNotifications = Object.values(notifications).filter(n => n.message.includes(a.name)).length;
                    const bNotifications = Object.values(notifications).filter(n => n.message.includes(b.name)).length;
                    return isAscending ? aNotifications - bNotifications : bNotifications - aNotifications;
                });
                sortedCourses.forEach(course => {
                    const schoolName = schools[course.schoolId]?.name || 'Unknown';
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="p-2">${course.name}</td>
                        <td class="p-2">${schoolName}</td>
                        <td class="p-2">${course.description}</td>
                        <td class="p-2">${course.status}</td>
                        <td class="p-2">
                            <button onclick="approveCourse(${course.id})" class="px-2 py-1 cta-button" aria-label="Approve ${course.name}">Approve</button>
                            <button onclick="rejectCourse(${course.id})" class="px-2 py-1 bg-red-600 text-white hover:bg-red-700 ml-2" aria-label="Reject ${course.name}">Reject</button>
                        </td>
                    `;
                    table.appendChild(row);
                });
                icon.classList.toggle('rotate-180');
                console.log(`Courses sorted by notifications, ascending: ${!isAscending}`);
            } catch (error) {
                console.error('Error sorting courses by notifications:', error);
            }
        }

        function searchAstegniComments() {
            try {
                const searchTerm = document.getElementById('comment-search').value.toLowerCase();
                const container = document.getElementById('astegni-comment-container');
                container.innerHTML = '';
                Object.values(astegniComments).forEach(comment => {
                    if (comment.userName.toLowerCase().includes(searchTerm) || comment.content.toLowerCase().includes(searchTerm)) {
                        const card = document.createElement('div');
                        card.className = 'comment-card';
                        card.innerHTML = `
                            <div class="flex items-center mb-2">
                                <img src="https://via.placeholder.com/32" alt="${comment.userName} Profile" class="w-8 h-8 rounded-full mr-2">
                                <div>
                                    <p class="font-semibold">${comment.userName} (${comment.userType})</p>
                                    <p class="text-sm text-gray-600">${comment.date}</p>
                                </div>
                            </div>
                            <p class="mb-2">${comment.content}</p>
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <p>Usability: ${comment.usabilityRating}/5</p>
                                <p>Culture: ${comment.cultureRating}/5</p>
                                <p>Management: ${comment.managementRating}/5</p>
                                <p>Role: ${comment.roleRating}/5</p>
                                <p>Development: ${comment.developmentRating}/5</p>
                                <p>Compensation: ${comment.compensationRating}/5</p>
                                <p>Work-Life: ${comment.worklifeRating}/5</p>
                                <p>Mental Health: ${comment.mentalhealthRating}/5</p>
                            </div>
                        `;
                        container.appendChild(card);
                    }
                });
                console.log('Astegni comments searched:', searchTerm);
            } catch (error) {
                console.error('Error searching Astegni comments:', error);
            }
        }

            // Function to open the Edit Cover Photo modal
        function openCoverPicModal() {
            const modal = document.getElementById('cover-pic-modal');
            modal.classList.remove('hidden');
            // Reset file input and preview
            const fileInput = document.getElementById('cover-pic-upload');
            const preview = document.getElementById('cover-pic-preview');
            fileInput.value = '';
            preview.style.display = 'none';
            preview.src = '';
        }

        // Function to close the Edit Cover Photo modal
        function closeCoverPicModal() {
            const modal = document.getElementById('cover-pic-modal');
            modal.classList.add('hidden');
        }

        // Optional: Preview the selected cover photo
        document.getElementById('cover-pic-upload').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('cover-pic-preview');
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            } else {
                preview.style.display = 'none';
            }
        });

// Function to upload and set the cover photo
function uploadCoverPic() {
            const fileInput = document.getElementById('cover-pic-upload');
            const file = fileInput.files[0];
            const coverPic = document.getElementById('admin-cover-pic');
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    coverPic.src = e.target.result; // Update the cover photo src
                    closeCoverPicModal(); // Close the modal after updating
                };
                reader.readAsDataURL(file);
                console.log('Cover photo updated:', file.name);
            } else {
                alert('Please select an image to upload.');
            }
        }

        // Modal Functions
        function openEditProfileModal() {
            try {
                document.getElementById('edit-profile-name').value = currentAdmin.name;
                document.getElementById('edit-profile-phone').value = currentAdmin.phone;
                document.getElementById('edit-profile-email').value = currentAdmin.email;
                document.getElementById('edit-profile-location').value = currentAdmin.location;
                document.getElementById('edit-profile-bio').value = currentAdmin.bio;
                document.getElementById('edit-profile-quote').value = currentAdmin.quote;
                document.getElementById('edit-profile-modal').classList.remove('hidden');
                console.log('Edit profile modal opened');
            } catch (error) {
                console.error('Error opening edit profile modal:', error);
            }
        }

        function closeEditProfileModal() {
            try {
                document.getElementById('edit-profile-modal').classList.add('hidden');
                console.log('Edit profile modal closed');
            } catch (error) {
                console.error('Error closing edit profile modal:', error);
            }
        }

        function saveProfile() {
            try {
                currentAdmin.name = document.getElementById('edit-profile-name').value;
                currentAdmin.phone = document.getElementById('edit-profile-phone').value;
                currentAdmin.email = document.getElementById('edit-profile-email').value;
                currentAdmin.location = document.getElementById('edit-profile-location').value;
                currentAdmin.bio = document.getElementById('edit-profile-bio').value;
                currentAdmin.quote = document.getElementById('edit-profile-quote').value;
                updateAdminProfile();
                closeEditProfileModal();
                console.log('Profile saved:', currentAdmin);
            } catch (error) {
                console.error('Error saving profile:', error);
            }
        }

        function openViewAdminCommentsModal() {
            try {
                const content = document.getElementById('admin-comments-content');
                content.innerHTML = '';
                Object.values(adminComments).forEach(comment => {
                    const card = document.createElement('div');
                    card.className = 'comment-card';
                    card.innerHTML = `
                        <div class="flex items-center mb-2">
                            <img src="https://via.placeholder.com/32" alt="${comment.userName} Profile" class="w-8 h-8 rounded-full mr-2">
                            <div>
                                <p class="font-semibold">${comment.userName} (${comment.userType})</p>
                                <p class="text-sm text-gray-600">${comment.date}</p>
                            </div>
                        </div>
                        <p class="mb-2">${comment.content}</p>
                        <div class="star-rating mb-2" id="admin-comment-rating-${comment.id}"></div>
                    `;
                    content.appendChild(card);
                    displayRating(comment.rating, `admin-comment-rating-${comment.id}`);
                });
                document.getElementById('view-admin-comments-modal').classList.remove('hidden');
                console.log('View admin comments modal opened');
            } catch (error) {
                console.error('Error opening view admin comments modal:', error);
            }
        }

        function closeViewAdminCommentsModal() {
            try {
                document.getElementById('view-admin-comments-modal').classList.add('hidden');
                console.log('View admin comments modal closed');
            } catch (error) {
                console.error('Error closing view admin comments modal:', error);
            }
        }

        let selectedCampaignId = null;

        function openReviewCampaignModal(campaignId) {
            try {
                selectedCampaignId = campaignId;
                const campaign = campaigns[campaignId];
                const content = document.getElementById('review-campaign-content');
                content.innerHTML = `
                    <p><strong>Name:</strong> ${campaign.name}</p>
                    <p><strong>Advertiser:</strong> ${advertisers[campaign.advertiserId]?.name || 'Unknown'}</p>
                    <p><strong>Duration:</strong> ${campaign.duration} days</p>
                    <p><strong>Price:</strong> ${campaign.price} ETB</p>
                    <p><strong>Description:</strong> ${campaign.adContent.description}</p>
                    <img src="${campaign.adContent.url}" alt="Campaign Image" class="w-full mt-2 rounded">
                `;
                document.getElementById('review-campaign-modal').classList.remove('hidden');
                console.log('Review campaign modal opened for campaign:', campaignId);
            } catch (error) {
                console.error('Error opening review campaign modal:', error);
            }
        }

        function closeReviewCampaignModal() {
            try {
                document.getElementById('review-campaign-modal').classList.add('hidden');
                selectedCampaignId = null;
                console.log('Review campaign modal closed');
            } catch (error) {
                console.error('Error closing review campaign modal:', error);
            }
        }

        function openRejectCampaignModal() {
            try {
                document.getElementById('reject-campaign-modal').classList.remove('hidden');
                document.getElementById('rejection-count').textContent = campaigns[selectedCampaignId]?.rejectionCount || 0;
                console.log('Reject campaign modal opened');
            } catch (error) {
                console.error('Error opening reject campaign modal:', error);
            }
        }

        function closeRejectCampaignModal() {
            try {
                document.getElementById('reject-campaign-modal').classList.add('hidden');
                document.getElementById('reject-reason').value = '';
                console.log('Reject campaign modal closed');
            } catch (error) {
                console.error('Error closing reject campaign modal:', error);
            }
        }

        function rejectCampaignWithReason() {
            try {
                const reason = document.getElementById('reject-reason').value;
                if (!reason) {
                    alert('Please provide a reason for rejection.');
                    return;
                }
                campaigns[selectedCampaignId].reviewStatus = 'Rejected';
                campaigns[selectedCampaignId].rejectionReason = reason;
                campaigns[selectedCampaignId].rejectionCount = (campaigns[selectedCampaignId].rejectionCount || 0) + 1;
                const advertiserId = campaigns[selectedCampaignId].advertiserId;
                advertisers[advertiserId].rejectionCount = (advertisers[advertiserId].rejectionCount || 0) + 1;
                if (advertisers[advertiserId].rejectionCount >= 3) {
                    advertisers[advertiserId].status = 'Suspended';
                    advertisers[advertiserId].suspensionEnd = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
                    notifications[Object.keys(notifications).length + 1] = {
                        id: Object.keys(notifications).length + 1,
                        message: `Advertiser ${advertisers[advertiserId].name} suspended due to multiple rejections`,
                        recipient: 'Admin',
                        date: new Date().toISOString().split('T')[0]
                    };
                }
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message: `Campaign ${campaigns[selectedCampaignId].name} rejected: ${reason}`,
                    recipient: advertisers[advertiserId].name,
                    date: new Date().toISOString().split('T')[0]
                };
                updateSummary();
                searchCampaigns();
                searchRejectedCampaigns();
                updateNotifications();
                closeRejectCampaignModal();
                closeReviewCampaignModal();
                console.log('Campaign rejected:', selectedCampaignId, reason);
            } catch (error) {
                console.error('Error rejecting campaign:', error);
            }
        }

        function reviewCampaign(campaignId, approve) {
            try {
                if (approve) {
                    campaigns[campaignId].reviewStatus = 'Active';
                    campaigns[campaignId].moderationStatus = 'Approved';
                    notifications[Object.keys(notifications).length + 1] = {
                        id: Object.keys(notifications).length + 1,
                        message: `Campaign ${campaigns[campaignId].name} approved`,
                        recipient: advertisers[campaigns[campaignId].advertiserId].name,
                        date: new Date().toISOString().split('T')[0]
                    };
                } else {
                    campaigns[campaignId].reviewStatus = 'Rejected';
                    campaigns[campaignId].rejectionCount = (campaigns[campaignId].rejectionCount || 0) + 1;
                    const advertiserId = campaigns[campaignId].advertiserId;
                    advertisers[advertiserId].rejectionCount = (advertisers[advertiserId].rejectionCount || 0) + 1;
                    if (advertisers[advertiserId].rejectionCount >= 3) {
                        advertisers[advertiserId].status = 'Suspended';
                        advertisers[advertiserId].suspensionEnd = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
                        notifications[Object.keys(notifications).length + 1] = {
                            id: Object.keys(notifications).length + 1,
                            message: `Advertiser ${advertisers[advertiserId].name} suspended due to multiple rejections`,
                            recipient: 'Admin',
                            date: new Date().toISOString().split('T')[0]
                        };
                    }
                }
                updateSummary();
                searchCampaigns();
                searchRejectedCampaigns();
                updateNotifications();
                closeReviewCampaignModal();
                console.log(`Campaign ${approve ? 'approved' : 'rejected'}:`, campaignId);
            } catch (error) {
                console.error('Error reviewing campaign:', error);
            }
        }

        function openViewContentModal(campaignId) {
            try {
                const campaign = campaigns[campaignId];
                const content = document.getElementById('view-content-details');
                content.innerHTML = `
                    <p><strong>Name:</strong> ${campaign.name}</p>
                    <p><strong>Advertiser:</strong> ${advertisers[campaign.advertiserId]?.name || 'Unknown'}</p>
                    <p><strong>Duration:</strong> ${campaign.duration} days</p>
                    <p><strong>Price:</strong> ${campaign.price} ETB</p>
                    <p><strong>Description:</strong> ${campaign.adContent.description}</p>
                    <img src="${campaign.adContent.url}" alt="Campaign Image" class="w-full mt-2 rounded">
                `;
                document.getElementById('view-content-modal').classList.remove('hidden');
                console.log('View content modal opened for campaign:', campaignId);
            } catch (error) {
                console.error('Error opening view content modal:', error);
            }
        }

        function closeViewContentModal() {
            try {
                document.getElementById('view-content-modal').classList.add('hidden');
                console.log('View content modal closed');
            } catch (error) {
                console.error('Error closing view content modal:', error);
            }
        }

        function openSendNotificationModal() {
            try {
                document.getElementById('send-notification-modal').classList.remove('hidden');
                console.log('Send notification modal opened');
            } catch (error) {
                console.error('Error opening send notification modal:', error);
            }
        }

        function closeSendNotificationModal() {
            try {
                document.getElementById('send-notification-modal').classList.add('hidden');
                document.getElementById('notification-recipient').value = 'all';
                document.getElementById('notification-message').value = '';
                console.log('Send notification modal closed');
            } catch (error) {
                console.error('Error closing send notification modal:', error);
            }
        }

        function sendNotification() {
            try {
                const recipient = document.getElementById('notification-recipient').value;
                const message = document.getElementById('notification-message').value;
                if (!message) {
                    alert('Please enter a message.');
                    return;
                }
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message,
                    recipient,
                    date: new Date().toISOString().split('T')[0]
                };
                updateNotifications();
                closeSendNotificationModal();
                console.log('Notification sent:', { recipient, message });
            } catch (error) {
                console.error('Error sending notification:', error);
            }
        }

        function updateNotifications() {
            try {
                const table = document.getElementById('notification-table');
                table.innerHTML = '';
                Object.values(notifications).forEach(notification => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="p-2">${notification.message}</td>
                        <td class="p-2">${notification.recipient}</td>
                        <td class="p-2">${notification.date}</td>
                    `;
                    table.appendChild(row);
                });
                console.log('Notifications updated');
            } catch (error) {
                console.error('Error updating notifications:', error);
            }
        }

        function openNotificationModal() {
            try {
                const content = document.getElementById('notification-content');
                content.innerHTML = '';
                const adminNotifications = Object.values(notifications).filter(n => n.recipient === 'Admin');
                if (adminNotifications.length === 0) {
                    content.textContent = 'You have no notifications.';
                } else {
                    adminNotifications.forEach(notification => {
                        const div = document.createElement('div');
                        div.className = 'mb-2';
                        div.innerHTML = `<p><strong>${notification.date}</strong>: ${notification.message}</p>`;
                        content.appendChild(div);
                    });
                }
                document.getElementById('notification-modal').classList.remove('hidden');
                document.getElementById('notification-dot').classList.add('hidden');
                document.getElementById('mobile-notification-dot').classList.add('hidden');
                console.log('Notification modal opened');
            } catch (error) {
                console.error('Error opening notification modal:', error);
            }
        }

        function closeNotificationModal() {
            try {
                document.getElementById('notification-modal').classList.add('hidden');
                console.log('Notification modal closed');
            } catch (error) {
                console.error('Error closing notification modal:', error);
            }
        }

        function checkNotifications() {
            try {
                const adminNotifications = Object.values(notifications).filter(n => n.recipient === 'Admin');
                if (adminNotifications.length > 0) {
                    document.getElementById('notification-dot').classList.remove('hidden');
                    document.getElementById('mobile-notification-dot').classList.remove('hidden');
                }
                console.log('Notifications checked:', adminNotifications.length);
            } catch (error) {
                console.error('Error checking notifications:', error);
            }
        }

        function openAddSchoolModal() {
            try {
                document.getElementById('add-school-modal').classList.remove('hidden');
                console.log('Add school modal opened');
            } catch (error) {
                console.error('Error opening add school modal:', error);
            }
        }

        function closeAddSchoolModal() {
            try {
                document.getElementById('add-school-modal').classList.add('hidden');
                document.getElementById('school-name').value = '';
                document.getElementById('school-phone').value = '';
                document.getElementById('school-email').value = '';
                document.getElementById('school-location').value = '';
                console.log('Add school modal closed');
            } catch (error) {
                console.error('Error closing add school modal:', error);
            }
        }

        function saveSchool() {
            try {
                const name = document.getElementById('school-name').value;
                const phone = document.getElementById('school-phone').value;
                const email = document.getElementById('school-email').value;
                const location = document.getElementById('school-location').value;
                if (!name || !phone || !email || !location) {
                    alert('Please fill in all fields.');
                    return;
                }
                schools[Object.keys(schools).length + 1] = {
                    id: Object.keys(schools).length + 1,
                    name,
                    phone,
                    email,
                    location,
                    status: 'Approved',
                    rating: 0
                };
                updateSummary();
                searchSchools();
                closeAddSchoolModal();
                console.log('School saved:', { name, phone, email, location });
            } catch (error) {
                console.error('Error saving school:', error);
            }
        }

        function editSchool(schoolId) {
            try {
                const school = schools[schoolId];
                document.getElementById('school-name').value = school.name;
                document.getElementById('school-phone').value = school.phone;
                document.getElementById('school-email').value = school.email;
                document.getElementById('school-location').value = school.location;
                document.getElementById('add-school-modal').classList.remove('hidden');
                document.getElementById('add-school-modal').querySelector('h3').textContent = 'Edit School';
                document.getElementById('add-school-modal').querySelector('button[onclick="saveSchool()"]').onclick = () => {
                    schools[schoolId].name = document.getElementById('school-name').value;
                    schools[schoolId].phone = document.getElementById('school-phone').value;
                    schools[schoolId].email = document.getElementById('school-email').value;
                    schools[schoolId].location = document.getElementById('school-location').value;
                    updateSummary();
                    searchSchools();
                    closeAddSchoolModal();
                    console.log('School edited:', schoolId);
                };
                console.log('Edit school modal opened for:', schoolId);
            } catch (error) {
                console.error('Error editing school:', error);
            }
        }

        function deleteSchool(schoolId) {
            try {
                if (confirm('Are you sure you want to delete this school?')) {
                    delete schools[schoolId];
                    updateSummary();
                    searchSchools();
                    console.log('School deleted:', schoolId);
                }
            } catch (error) {
                console.error('Error deleting school:', error);
            }
        }

        function approveSchool(schoolId) {
            try {
                const school = requestedSchools[schoolId];
                schools[Object.keys(schools).length + 1] = {
                    id: Object.keys(schools).length + 1,
                    name: school.name,
                    phone: school.phone,
                    email: school.email,
                    location: school.location,
                    status: 'Approved',
                    rating: 0
                };
                delete requestedSchools[schoolId];
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message: `School ${school.name} approved`,
                    recipient: 'Admin',
                    date: new Date().toISOString().split('T')[0]
                };
                updateSummary();
                searchRequestedSchools();
                searchSchools();
                updateNotifications();
                console.log('School approved:', schoolId);
            } catch (error) {
                console.error('Error approving school:', error);
            }
        }

        function rejectSchool(schoolId) {
            try {
                if (confirm('Are you sure you want to reject this school?')) {
                    delete requestedSchools[schoolId];
                    updateSummary();
                    searchRequestedSchools();
                    console.log('School rejected:', schoolId);
                }
            } catch (error) {
                console.error('Error rejecting school:', error);
            }
        }

        function approveCourse(courseId) {
            try {
                requestedCourses[courseId].status = 'Approved';
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message: `Course ${requestedCourses[courseId].name} approved`,
                    recipient: 'Admin',
                    date: new Date().toISOString().split('T')[0]
                };
                updateSummary();
                searchRequestedCourses();
                updateNotifications();
                console.log('Course approved:', courseId);
            } catch (error) {
                console.error('Error approving course:', error);
            }
        }

        function rejectCourse(courseId) {
            try {
                if (confirm('Are you sure you want to reject this course?')) {
                    requestedCourses[courseId].status = 'Rejected';
                    updateSummary();
                    searchRequestedCourses();
                    console.log('Course rejected:', courseId);
                }
            } catch (error) {
                console.error('Error rejecting course:', error);
            }
        }

        function openListCertificationsModal(tutorId) {
            try {
                const tutor = tutors[tutorId];
                const content = document.getElementById('certifications-content');
                content.innerHTML = '';
                tutor.certifications.forEach(cert => {
                    const div = document.createElement('div');
                    div.className = 'mb-2';
                    div.innerHTML = `
                        <p><strong>School:</strong> ${cert.certSchool}</p>
                        <p><strong>Phone:</strong> ${cert.certSchoolPhone}</p>
                        <p><strong>Course:</strong> ${cert.courseTitle}</p>
                        <p><strong>Type:</strong> ${cert.type}</p>
                        <p><strong>Certificate:</strong> ${cert.certificate}</p>
                    `;
                    content.appendChild(div);
                });
                document.getElementById('list-certifications-modal').classList.remove('hidden');
                console.log('List certifications modal opened for tutor:', tutorId);
            } catch (error) {
                console.error('Error opening list certifications modal:', error);
            }
        }

        function closeListCertificationsModal() {
            try {
                document.getElementById('list-certifications-modal').classList.add('hidden');
                console.log('List certifications modal closed');
            } catch (error) {
                console.error('Error closing list certifications modal:', error);
            }
        }

        function openListExperienceModal(tutorId) {
            try {
                const tutor = tutors[tutorId];
                const content = document.getElementById('experience-content');
                content.innerHTML = '';
                tutor.experience.forEach(exp => {
                    const div = document.createElement('div');
                    div.className = 'mb-2';
                    div.innerHTML = `
                        <p><strong>Company:</strong> ${exp.company}</p>
                        <p><strong>Contact:</strong> ${exp.companyContact}</p>
                        <p><strong>Experienced In:</strong> ${exp.experiencedIn}</p>
                        <p><strong>Years:</strong> ${exp.years}</p>
                        <p><strong>Proof:</strong> <a href="${exp.proof}" target="_blank">View Proof</a></p>
                        <p><strong>Status:</strong> ${exp.status}</p>
                        <button onclick="verifyExperience(${tutorId}, '${exp.experiencedIn}')" class="px-2 py-1 cta-button mt-2" aria-label="Verify ${exp.experiencedIn}">Verify</button>
                        <button onclick="openDeclineExperienceModal(${tutorId}, '${exp.experiencedIn}')" class="px-2 py-1 bg-red-600 text-white hover:bg-red-700 mt-2 ml-2" aria-label="Decline ${exp.experiencedIn}">Decline</button>
                    `;
                    content.appendChild(div);
                });
                document.getElementById('list-experience-modal').classList.remove('hidden');
                console.log('List experience modal opened for tutor:', tutorId);
            } catch (error) {
                console.error('Error opening list experience modal:', error);
            }
        }

        function closeListExperienceModal() {
            try {
                document.getElementById('list-experience-modal').classList.add('hidden');
                console.log('List experience modal closed');
            } catch (error) {
                console.error('Error closing list experience modal:', error);
            }
        }

        function verifyExperience(tutorId, experiencedIn) {
            try {
                const tutor = tutors[tutorId];
                const experience = tutor.experience.find(exp => exp.experiencedIn === experiencedIn);
                experience.status = 'Verified';
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message: `Experience in ${experiencedIn} verified for ${tutor.name}`,
                    recipient: 'Admin',
                    date: new Date().toISOString().split('T')[0]
                };
                updateNotifications();
                openListExperienceModal(tutorId);
                console.log('Experience verified:', tutorId, experiencedIn);
            } catch (error) {
                console.error('Error verifying experience:', error);
            }
        }

        let selectedTutorId = null;
        let selectedExperience = null;

        function openDeclineExperienceModal(tutorId, experiencedIn) {
            try {
                selectedTutorId = tutorId;
                selectedExperience = experiencedIn;
                document.getElementById('decline-experience-modal').classList.remove('hidden');
                console.log('Decline experience modal opened for tutor:', tutorId, experiencedIn);
            } catch (error) {
                console.error('Error opening decline experience modal:', error);
            }
        }

        function closeDeclineExperienceModal() {
            try {
                document.getElementById('decline-experience-modal').classList.add('hidden');
                document.getElementById('decline-reason').value = '';
                selectedTutorId = null;
                selectedExperience = null;
                console.log('Decline experience modal closed');
            } catch (error) {
                console.error('Error closing decline experience modal:', error);
            }
        }

        function submitDeclineExperience() {
            try {
                const reason = document.getElementById('decline-reason').value;
                if (!reason) {
                    alert('Please provide a reason for decline.');
                    return;
                }
                const tutor = tutors[selectedTutorId];
                const experience = tutor.experience.find(exp => exp.experiencedIn === selectedExperience);
                experience.status = 'Declined';
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message: `Experience in ${selectedExperience} declined for ${tutor.name}: ${reason}`,
                    recipient: tutor.name,
                    date: new Date().toISOString().split('T')[0]
                };
                updateNotifications();
                closeDeclineExperienceModal();
                openListExperienceModal(selectedTutorId);
                console.log('Experience declined:', selectedTutorId, selectedExperience, reason);
            } catch (error) {
                console.error('Error declining experience:', error);
            }
        }

        function approveTutor(tutorId) {
            try {
                tutors[tutorId].status = 'Approved';
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message: `Tutor ${tutors[tutorId].name} approved`,
                    recipient: 'Admin',
                    date: new Date().toISOString().split('T')[0]
                };
                updateSummary();
                searchTutors();
                updateNotifications();
                console.log('Tutor approved:', tutorId);
            } catch (error) {
                console.error('Error approving tutor:', error);
            }
        }

        function rejectTutor(tutorId) {
            try {
                if (confirm('Are you sure you want to reject this tutor?')) {
                    tutors[tutorId].status = 'Rejected';
                    notifications[Object.keys(notifications).length + 1] = {
                        id: Object.keys(notifications).length + 1,
                        message: `Tutor ${tutors[tutorId].name} rejected`,
                        recipient: 'Admin',
                        date: new Date().toISOString().split('T')[0]
                    };
                    updateSummary();
                    searchTutors();
                    updateNotifications();
                    console.log('Tutor rejected:', tutorId);
                }
            } catch (error) {
                console.error('Error rejecting tutor:', error);
            }
        }

        function openMessageAdvertiserModal(advertiserId) {
            try {
                document.getElementById('message-recipient').value = advertisers[advertiserId].name;
                document.getElementById('message-advertiser-modal').classList.remove('hidden');
                console.log('Message advertiser modal opened for:', advertiserId);
            } catch (error) {
                console.error('Error opening message advertiser modal:', error);
            }
        }

        function closeMessageAdvertiserModal() {
            try {
                document.getElementById('message-advertiser-modal').classList.add('hidden');
                document.getElementById('message-content').value = '';
                console.log('Message advertiser modal closed');
            } catch (error) {
                console.error('Error closing message advertiser modal:', error);
            }
        }

        function sendMessage() {
            try {
                const message = document.getElementById('message-content').value;
                if (!message) {
                    alert('Please enter a message.');
                    return;
                }
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message,
                    recipient: document.getElementById('message-recipient').value,
                    date: new Date().toISOString().split('T')[0]
                };
                updateNotifications();
                closeMessageAdvertiserModal();
                console.log('Message sent:', message);
            } catch (error) {
                console.error('Error sending message:', error);
            }
        }

        function openProfilePicModal() {
            try {
                document.getElementById('profile-pic-modal').classList.remove('hidden');
                document.getElementById('profile-pic-upload').value = '';
                document.getElementById('profile-pic-preview').style.display = 'none';
                console.log('Profile picture modal opened');
            } catch (error) {
                console.error('Error opening profile picture modal:', error);
            }
        }

        function closeProfilePicModal() {
            try {
                document.getElementById('profile-pic-modal').classList.add('hidden');
                console.log('Profile picture modal closed');
            } catch (error) {
                console.error('Error closing profile picture modal:', error);
            }
        }

        function uploadProfilePic() {
            try {
                const fileInput = document.getElementById('profile-pic-upload');
                if (fileInput.files.length > 0) {
                    const file = fileInput.files[0];
                    const reader = new FileReader();
                    reader.onload = () => {
                        currentAdmin.profilePic = reader.result;
                        updateAdminProfile();
                        closeProfilePicModal();
                        console.log('Profile picture uploaded');
                    };
                    reader.readAsDataURL(file);
                } else {
                    alert('Please select an image.');
                }
            } catch (error) {
                console.error('Error uploading profile picture:', error);
            }
        }

        document.getElementById('profile-pic-upload').addEventListener('change', (event) => {
            try {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = () => {
                        const preview = document.getElementById('profile-pic-preview');
                        preview.src = reader.result;
                        preview.style.display = 'block';
                        console.log('Profile picture preview updated');
                    };
                    reader.readAsDataURL(file);
                }
            } catch (error) {
                console.error('Error previewing profile picture:', error);
            }
        });

        function openSystemImageModal() {
            try {
                document.getElementById('system-image-modal').classList.remove('hidden');
                document.getElementById('system-image-upload').value = '';
                document.getElementById('system-image-preview').style.display = 'none';
                console.log('System image modal opened');
            } catch (error) {
                console.error('Error opening system image modal:', error);
            }
        }

        function closeSystemImageModal() {
            try {
                document.getElementById('system-image-modal').classList.add('hidden');
                console.log('System image modal closed');
            } catch (error) {
                console.error('Error closing system image modal:', error);
            }
        }

        function uploadSystemImage() {
            try {
                const fileInput = document.getElementById('system-image-upload');
                const imageType = document.getElementById('system-image-type').value;
                if (fileInput.files.length > 0) {
                    const file = fileInput.files[0];
                    const reader = new FileReader();
                    reader.onload = () => {
                        systemImages.push({ type: imageType, url: reader.result });
                        closeSystemImageModal();
                        console.log('System image uploaded:', imageType);
                    };
                    reader.readAsDataURL(file);
                } else {
                    alert('Please select an image.');
                }
            } catch (error) {
                console.error('Error uploading system image:', error);
            }
        }

        document.getElementById('system-image-upload').addEventListener('change', (event) => {
            try {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = () => {
                        const preview = document.getElementById('system-image-preview');
                        preview.src = reader.result;
                        preview.style.display = 'block';
                        console.log('System image preview updated');
                    };
                    reader.readAsDataURL(file);
                }
            } catch (error) {
                console.error('Error previewing system image:', error);
            }
        });

        function openUploadNewsModal() {
            try {
                document.getElementById('upload-news-modal').classList.remove('hidden');
                document.getElementById('news-title').value = '';
                document.getElementById('news-author').value = '';
                document.getElementById('news-date').value = '';
                document.getElementById('news-content').value = '';
                document.getElementById('news-image-upload').value = '';
                document.getElementById('news-video-upload').value = '';
                document.getElementById('video-thumbnail-upload').value = '';
                document.getElementById('news-image-preview').style.display = 'none';
                document.getElementById('video-thumbnail-preview').style.display = 'none';
                console.log('Upload news modal opened');
            } catch (error) {
                console.error('Error opening upload news modal:', error);
            }
        }

        function closeUploadNewsModal() {
            try {
                document.getElementById('upload-news-modal').classList.add('hidden');
                console.log('Upload news modal closed');
            } catch (error) {
                console.error('Error closing upload news modal:', error);
            }
        }

        function uploadNews() {
            try {
                const title = document.getElementById('news-title').value;
                const author = document.getElementById('news-author').value;
                const date = document.getElementById('news-date').value;
                const content = document.getElementById('news-content').value;
                const imageFile = document.getElementById('news-image-upload').files[0];
                const videoFile = document.getElementById('news-video-upload').files[0];
                const thumbnailFile = document.getElementById('video-thumbnail-upload').files[0];
                if (!title || !author || !date || !content) {
                    alert('Please fill in all required fields.');
                    return;
                }
                const newsItem = {
                    id: newsItems.length + 1,
                    title,
                    author,
                    date,
                    content
                };
                if (imageFile) {
                    const reader = new FileReader();
                    reader.onload = () => {
                        newsItem.image = reader.result;
                        if (videoFile) {
                            const videoReader = new FileReader();
                            videoReader.onload = () => {
                                newsItem.video = videoReader.result;
                                if (thumbnailFile) {
                                    const thumbnailReader = new FileReader();
                                    thumbnailReader.onload = () => {
                                        newsItem.thumbnail = thumbnailReader.result;
                                        newsItems.push(newsItem);
                                        closeUploadNewsModal();
                                        console.log('News uploaded:', newsItem);
                                    };
                                    thumbnailReader.readAsDataURL(thumbnailFile);
                                } else {
                                    newsItems.push(newsItem);
                                    closeUploadNewsModal();
                                    console.log('News uploaded:', newsItem);
                                }
                            };
                            videoReader.readAsDataURL(videoFile);
                        } else {
                            newsItems.push(newsItem);
                            closeUploadNewsModal();
                            console.log('News uploaded:', newsItem);
                        }
                    };
                    reader.readAsDataURL(imageFile);
                } else {
                    newsItems.push(newsItem);
                    closeUploadNewsModal();
                    console.log('News uploaded:', newsItem);
                }
            } catch (error) {
                console.error('Error uploading news:', error);
            }
        }

        document.getElementById('news-image-upload').addEventListener('change', (event) => {
            try {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = () => {
                        const preview = document.getElementById('news-image-preview');
                        preview.src = reader.result;
                        preview.style.display = 'block';
                        console.log('News image preview updated');
                    };
                    reader.readAsDataURL(file);
                }
            } catch (error) {
                console.error('Error previewing news image:', error);
            }
        });

        document.getElementById('video-thumbnail-upload').addEventListener('change', (event) => {
            try {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = () => {
                        const preview = document.getElementById('video-thumbnail-preview');
                        preview.src = reader.result;
                        preview.style.display = 'block';
                        console.log('Video thumbnail preview updated');
                    };
                    reader.readAsDataURL(file);
                }
            } catch (error) {
                console.error('Error previewing video thumbnail:', error);
            }
        });

        function openCommentModal() {
            try {
                document.getElementById('comment-modal').classList.remove('hidden');
                console.log('Comment modal opened');
            } catch (error) {
                console.error('Error opening comment modal:', error);
            }
        }

        function closeCommentModal() {
            try {
                document.getElementById('comment-modal').classList.add('hidden');
                document.getElementById('usability-rating').value = '1';
                document.getElementById('culture-rating').value = '1';
                document.getElementById('management-rating').value = '1';
                document.getElementById('role-rating').value = '1';
                document.getElementById('development-rating').value = '1';
                document.getElementById('compensation-rating').value = '1';
                document.getElementById('worklife-rating').value = '1';
                document.getElementById('mentalhealth-rating').value = '1';
                document.getElementById('comment-content').value = '';
                console.log('Comment modal closed');
            } catch (error) {
                console.error('Error closing comment modal:', error);
            }
        }

        function submitAstegniComment() {
            try {
                const comment = {
                    id: Object.keys(astegniComments).length + 1,
                    userName: currentAdmin.name,
                    userType: 'Admin',
                    content: document.getElementById('comment-content').value,
                    date: new Date().toISOString().split('T')[0],
                    usabilityRating: parseInt(document.getElementById('usability-rating').value),
                    cultureRating: parseInt(document.getElementById('culture-rating').value),
                    managementRating: parseInt(document.getElementById('management-rating').value),
                    roleRating: parseInt(document.getElementById('role-rating').value),
                    developmentRating: parseInt(document.getElementById('development-rating').value),
                    compensationRating: parseInt(document.getElementById('compensation-rating').value),
                    worklifeRating: parseInt(document.getElementById('worklife-rating').value),
                    mentalhealthRating: parseInt(document.getElementById('mentalhealth-rating').value),
                    isAdminComment: false
                };
                if (!comment.content) {
                    alert('Please enter a comment.');
                    return;
                }
                astegniComments[comment.id] = comment;
                updateSummary();
                searchAstegniComments();
                closeCommentModal();
                console.log('Astegni comment submitted:', comment);
            } catch (error) {
                console.error('Error submitting Astegni comment:', error);
            }
        }

        function openRequestLeaveModal() {
            try {
                document.getElementById('request-leave-modal').classList.remove('hidden');
                console.log('Request leave modal opened');
            } catch (error) {
                console.error('Error opening request leave modal:', error);
            }
        }

        function closeRequestLeaveModal() {
            try {
                document.getElementById('request-leave-modal').classList.add('hidden');
                document.getElementById('leave-start-date').value = '';
                document.getElementById('leave-end-date').value = '';
                document.getElementById('leave-reason').value = '';
                console.log('Request leave modal closed');
            } catch (error) {
                console.error('Error closing request leave modal:', error);
            }
        }

        function submitLeaveRequest() {
            try {
                const startDate = document.getElementById('leave-start-date').value;
                const endDate = document.getElementById('leave-end-date').value;
                const reason = document.getElementById('leave-reason').value;
                if (!startDate || !endDate || !reason) {
                    alert('Please fill in all fields.');
                    return;
                }
                notifications[Object.keys(notifications).length + 1] = {
                    id: Object.keys(notifications).length + 1,
                    message: `Leave request from ${currentAdmin.name}: ${reason} (${startDate} to ${endDate})`,
                    recipient: 'Admin',
                    date: new Date().toISOString().split('T')[0]
                };
                updateNotifications();
                closeRequestLeaveModal();
                console.log('Leave request submitted:', { startDate, endDate, reason });
            } catch (error) {
                console.error('Error submitting leave request:', error);
            }
        }

        function shareProfile() {
            try {
                const shareUrl = `${window.location.origin}/profile/admin/${currentAdmin.id}`;
                navigator.clipboard.writeText(shareUrl).then(() => {
                    alert('Profile link copied to clipboard!');
                    console.log('Profile shared:', shareUrl);
                });
            } catch (error) {
                console.error('Error sharing profile:', error);
            }
        }

        // Initialize on Load
        document.addEventListener('DOMContentLoaded', () => {
            try {
                initTheme();
                initDashboard();
                console.log('Page loaded and initialized');
            } catch (error) {
                console.error('Error during page load:', error);
            }
        });
    </script>
</body>

</html>