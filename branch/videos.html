<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTEGNI - Tutor Videos</title>
    <script src="../js/config.js?v202602260045"></script>
    <!-- Preconnect for faster font loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Google Fonts - For Appearance Modal Font Selection -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600;700&family=Comic+Neue:wght@400;700&family=Caveat:wght@400;500;600;700&family=Patrick+Hand&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- Import root CSS first for shared styles -->
    <link href="../css/root.css?v202602260045" rel="stylesheet">
    <link rel="stylesheet" href="../css/root/profile-dropdown.css?v202602260045">

    <!-- Import reels main CSS file -->
    <link href="../css/root.css?v202602260045" rel="stylesheet">
    <link href="../css/reels.css?v202602260045" rel="stylesheet">

    <!-- Import modular reels CSS components -->
    <!-- Import shared components -->
    <link href="../css/common-modals/videoplayer.css?v202602260045" rel="stylesheet">
    <link rel="stylesheet" href="../css/common-modals/auth-modal.css?v202602260045">
    <link rel="stylesheet" href="../css/common-modals/add-role-modal.css?v202602260045">
    <link rel="stylesheet" href="../css/common-modals/coming-soon-modal.css?v202602260045">
    <link rel="stylesheet" href="../css/common-modals/promo-modal.css?v202602260045">
    <!-- Standalone Chat Call Modal Styles -->
    <link rel="stylesheet" href="../css/common-modals/chat-call-modal.css?v202602260045">
    <!-- Search bar styling from find-tutors -->
    <link rel="stylesheet" href="../css/find-tutors/navbar.css?v202602260045">

    <!-- Import missing root modules that may not be in root.css -->

</head>

<body class="font-sans">
    <!-- Enhanced Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container" style="max-width: 100%; padding: 0 1rem;">
            <div class="nav-brand">
                <a href="../index.html" class="logo-container">
                    <div class="logo-text">
                        <span class="logo-main">Astegni</span>
                    </div>
                    <span class="logo-badge">Beta</span>
                </a>
            </div>

            <!-- Center Section: Search Bar -->
            <div class="flex-1 mx-4 max-w-2xl">
                <div class="relative">
                    <input id="nav-search-input"
                        name="search-query"
                        class="tutor-search-input w-full pl-10 pr-4 py-2"
                        type="search" placeholder="Search videos, tutors, subjects..."/>
                    <svg class="absolute left-3 top-2.5 w-5 h-5 text-gray-400" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
            </div>

            <!-- Right Section: Nav Menu + Actions (Desktop only) -->
            <div class="nav-actions desktop-nav-actions" style="display: flex; align-items: center; gap: 0.5rem; margin-right: 0;">
                <!-- Navigation Links - Hidden on < 1024px -->
                <div class="nav-items desktop-nav-items" style="display: flex; gap: 0.25rem;">
                    <a class="nav-link" href="#" onclick="handleNavLinkClick(event, 'news')">
                        <span class="nav-icon">üì∞</span> News
                    </a>
                    <a class="nav-link" href="find-tutors.html">
                        <span class="nav-icon">üë®‚Äçüè´</span> Find Tutors
                    </a>
                    <a class="nav-link" href="#" onclick="handleNavLinkClick(event, 'store')">
                        <span class="nav-icon">üìö</span> Bookstore
                    </a>
                    <a class="nav-link" href="#" onclick="handleNavLinkClick(event, 'find-jobs')">
                        <span class="nav-icon">üíº</span> Find a Job
                    </a>
                </div>

                <!-- Profile container -->
                <div id="profile-container" class="profile-dropdown-container">
                    <button id="profile-dropdown-toggle" class="profile-dropdown-toggle"
                        onclick="toggleProfileDropdown()">
                        <img id="profile-pic" class="profile-pic" alt="Profile">
                        <span id="profile-name" class="profile-name"></span>
                        <svg class="dropdown-arrow" width="12" height="12" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>

                    <div id="profile-dropdown-menu" class="profile-dropdown-menu">
                        <!-- User info header - CLICKABLE to go to profile page -->
                        <a href="#" id="dropdown-profile-link" class="dropdown-header-link">
                            <div class="dropdown-header">
                                <img id="dropdown-profile-pic" class="profile-pic" alt="Profile">
                                <div class="dropdown-user-info">
                                    <span id="dropdown-user-name" class="dropdown-user-name"></span>
                                    <span id="dropdown-user-email" class="dropdown-user-email"></span>
                                    <span id="dropdown-user-role" class="dropdown-user-role"></span>
                                </div>
                                <svg class="dropdown-header-arrow" width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                        </a>

                        <div class="dropdown-divider"></div>

                        <!-- Deletion Countdown Banner (shown when role is scheduled for deletion) -->
                        <div id="deletion-countdown-banner" class="deletion-countdown-banner hidden">
                            <div class="countdown-content">
                                <div class="countdown-icon">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                                <div class="countdown-text">
                                    <div class="countdown-title">Role Scheduled for Deletion</div>
                                    <div class="countdown-details">
                                        Your <span id="countdown-role-name" class="font-semibold"></span> role will be deleted in
                                        <span id="countdown-days" class="font-bold text-orange-600"></span> days
                                    </div>
                                </div>
                            </div>
                            <button onclick="restoreScheduledRole()" class="countdown-restore-btn">
                                Restore Role
                            </button>
                        </div>

                        <div class="dropdown-divider" id="countdown-divider" style="display: none;"></div>

                        <!-- Role switcher (shown only if user has multiple roles) -->
                        <div id="role-switcher-section" class="role-switcher-section hidden">
                            <div class="dropdown-item-header">Switch Role</div>
                            <div id="role-options" class="role-options">
                                <!-- Role options will be dynamically added here -->
                            </div>
                            <div class="dropdown-divider"></div>
                        </div>

                        <div class="dropdown-divider"></div>

                        <button class="dropdown-item logout-item" onclick="showLogoutModal()">
                            <svg class="dropdown-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                                </path>
                            </svg>
                            Logout
                        </button>
                    </div>
                </div>

                <!-- Notification Icon -->
                <button id="notificationBtn" class="icon-btn" aria-label="Notifications">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
                        </path>
                    </svg>
                    <span class="notification-badge">3</span>
                </button>

                <!-- Theme Toggle (Desktop) -->
                <button id="theme-toggle-btn" class="icon-btn desktop-only-lg" aria-label="Toggle theme">
                    <svg id="theme-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                        </path>
                    </svg>
                </button>
            </div>

            <!-- Mobile Menu Button (< 1024px) -->
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle mobile menu">
                <span class="mobile-hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu (< 1024px) -->
    <div id="mobileMenu" class="mobile-menu hidden">
        <div class="mobile-menu-content">
            <!-- Mobile Menu Header with Logo -->
            <div class="mobile-menu-header">
                <a href="../index.html" class="mobile-logo-container">
                    <div class="logo-text">
                        <span class="logo-main">Astegni</span>
                        <span class="logo-sub">Videos</span>
                    </div>
                    <span class="logo-badge">Beta</span>
                </a>
            </div>

            <div class="mobile-menu-divider"></div>
            <a class="mobile-menu-link" href="#" onclick="handleNavLinkClick(event, 'news'); closeMobileMenu();">
                <span class="nav-icon">üì∞</span> News
            </a>
            <a class="mobile-menu-link" href="find-tutors.html">
                <span class="nav-icon">üë®‚Äçüè´</span> Find Tutors
            </a>
            <a class="mobile-menu-link" href="#" onclick="handleNavLinkClick(event, 'store'); closeMobileMenu();">
                <span class="nav-icon">üìö</span> Bookstore
            </a>
            <a class="mobile-menu-link" href="#" onclick="handleNavLinkClick(event, 'find-jobs'); closeMobileMenu();">
                <span class="nav-icon">üíº</span> Find a Job
            </a>

            <div class="mobile-menu-divider"></div>

            <!-- Mobile Profile Section (shown when logged in) -->
            <div id="mobile-profile-section" class="mobile-profile-section hidden">
                <div class="mobile-profile-dropdown">
                    <!-- Clickable Header (toggles dropdown) -->
                    <button id="mobile-profile-toggle" class="mobile-profile-header" onclick="toggleMobileProfileDropdown()">
                        <img id="mobile-profile-pic" class="mobile-profile-pic" alt="Profile">
                        <div class="mobile-profile-info">
                            <span id="mobile-profile-name" class="mobile-profile-name"></span>
                            <span id="mobile-profile-role" class="mobile-profile-role"></span>
                        </div>
                        <svg class="mobile-profile-arrow" width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </button>

                    <!-- Expandable Dropdown Content -->
                    <div id="mobile-profile-dropdown-content" class="mobile-profile-dropdown-content">
                        <!-- User Info -->
                        <a href="#" id="mobile-profile-link" class="mobile-dropdown-user-info">
                            <img id="mobile-dropdown-pic" class="mobile-dropdown-pic" alt="Profile">
                            <div class="mobile-dropdown-info">
                                <span id="mobile-dropdown-name" class="mobile-dropdown-name"></span>
                                <span id="mobile-dropdown-email" class="mobile-dropdown-email"></span>
                            </div>
                        </a>

                        <!-- Role Switcher (shown only if user has multiple roles) -->
                        <div id="mobile-role-switcher-section" class="mobile-role-switcher-section hidden">
                            <div class="mobile-role-switcher-header">Switch Role</div>
                            <div id="mobile-role-options" class="mobile-role-options">
                                <!-- Role options will be dynamically added here -->
                            </div>
                        </div>

                        <!-- Logout Button -->
                        <button id="mobile-logout-btn" class="mobile-dropdown-logout" onclick="showLogoutModal(); closeMobileMenu();">
                            <svg class="mobile-menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                            </svg>
                            Logout
                        </button>
                    </div>
                </div>
                <div class="mobile-menu-divider"></div>
            </div>

            <!-- Auth buttons (shown when logged out) -->
            <div id="mobile-auth-section" class="mobile-auth-section">
                <button id="mobile-login-btn" class="mobile-menu-item mobile-auth-btn" onclick="openLoginModal(); closeMobileMenu();">
                    <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                    </svg>
                    Login
                </button>
                <button id="mobile-register-btn" class="mobile-menu-item mobile-auth-btn" onclick="openRegisterModal(); closeMobileMenu();">
                    <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                    </svg>
                    Register
                </button>
            </div>

            <div class="mobile-menu-divider"></div>

            <!-- Theme Toggle -->
            <button id="mobile-theme-toggle-btn" class="mobile-menu-item" onclick="toggleTheme(); closeMobileMenu();">
                <svg id="mobile-theme-icon" class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                    </path>
                </svg>
                Toggle Theme
            </button>

            <!-- Notification Button (Mobile) -->
            <button id="mobile-notification-btn" class="mobile-menu-item hidden" onclick="openNotificationModal(); closeMobileMenu();">
                <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
                    </path>
                </svg>
                Notifications
                <span id="mobile-notification-badge" class="mobile-notification-badge">3</span>
            </button>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobileMenuOverlay" class="mobile-menu-overlay hidden"></div>

    <!-- Promo Container -->
    <div class="leaderboard-banner premium-promo" data-placement="leaderboard_banner" data-profile-type="all" data-location="videos">
        <!-- Ads will be loaded dynamically via adRotationManager -->
    </div>



    <!-- Main Section -->
    <section class="py-2 sm:py-3 md:py-4" style="margin-top: -1rem;">
        <div class="container mx-auto px-3 sm:px-4">
            <!-- Enhanced Filter Buttons (hidden until reels are available) -->
            <div class="filter-container hidden" style="margin-bottom: 0.5rem; padding: 0.75rem;">
                <button class="filter-btn active" onclick="filterVideos('all')" data-filter="all">
                    <svg class="filter-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                    <span>All Videos</span>
                    <span class="filter-badge" id="all-count"></span>
                </button>
                <button class="filter-btn" onclick="filterVideos('favorites')" data-filter="favorites">
                    <svg class="filter-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                        </path>
                    </svg>
                    <span>Favorites</span>
                    <span class="filter-badge" id="favorites-count"></span>
                </button>
                <button class="filter-btn" onclick="filterVideos('saved')" data-filter="saved">
                    <svg class="filter-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                    </svg>
                    <span>Saved</span>
                    <span class="filter-badge" id="saved-count"></span>
                </button>
                <button class="filter-btn" onclick="filterVideos('liked')" data-filter="liked">
                    <svg class="filter-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M14 10h1.652a3 3 0 002.121-.879l1.414-1.414A3 3 0 0021 3.464V3a1 1 0 00-1-1h-4a3 3 0 00-3 3v5m1 0H9m5 0v10a1 1 0 01-1 1h-2a1 1 0 01-1-1V10m-5 0H3.348a3 3 0 00-2.121.879l-1.414 1.414A3 3 0 00-1 16.536V17a1 1 0 001 1h4a3 3 0 003-3v-5">
                        </path>
                    </svg>
                    <span>Liked</span>
                    <span class="filter-badge" id="liked-count"></span>
                </button>
            </div>

            <!-- Videos Grid (hidden for now) -->
            <div id="reels-grid" class="hidden"></div>

            <!-- Coming Soon Notice -->
            <div id="reels-coming-soon-notice">
                <style>
                    #reels-coming-soon-notice {
                        text-align: center;
                        padding: 3rem 1rem;
                    }
                    .coming-soon-icon {
                        width: 80px;
                        height: 80px;
                        margin: 0 auto 1.5rem;
                        opacity: 0.5;
                    }
                    .coming-soon-icon svg {
                        width: 100%;
                        height: 100%;
                        stroke: currentColor;
                        fill: none;
                    }
                    .coming-soon-title {
                        font-size: 1.5rem;
                        font-weight: 700;
                        color: var(--text);
                        margin: 0 0 0.75rem;
                        opacity: 0.9;
                    }
                    .coming-soon-text {
                        font-size: 1rem;
                        color: var(--text-muted);
                        margin: 0 auto 1.5rem;
                        max-width: 500px;
                        line-height: 1.6;
                        opacity: 0.7;
                    }
                    .social-platforms-grid {
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 1.5rem;
                        max-width: 700px;
                        margin: 0 auto 2.5rem;
                    }
                    .social-platform-btn {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        gap: 1rem;
                        padding: 2rem 1rem;
                        border: 2px solid var(--border-color, #e5e7eb);
                        border-radius: 20px;
                        background: var(--card-bg, white);
                        cursor: pointer;
                        transition: all 0.3s ease;
                        text-decoration: none;
                    }
                    [data-theme="dark"] .social-platform-btn {
                        background: rgba(0, 0, 0, 0.2);
                        border-color: rgba(255, 255, 255, 0.1);
                    }
                    .social-platform-btn:hover {
                        transform: translateY(-4px);
                        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
                    }
                    .social-platform-btn svg {
                        width: 56px;
                        height: 56px;
                        transition: transform 0.3s ease;
                    }
                    .social-platform-btn:hover svg {
                        transform: scale(1.15);
                    }
                    .social-platform-btn span {
                        font-size: 1rem;
                        font-weight: 600;
                        color: var(--text);
                    }
                    /* Platform colors */
                    .social-platform-btn.tiktok svg { fill: #000000; }
                    .social-platform-btn.tiktok:hover { border-color: #000000; background: rgba(0,0,0,0.05); }
                    [data-theme="dark"] .social-platform-btn.tiktok svg { fill: #ffffff; }

                    .social-platform-btn.instagram svg { fill: #E1306C; }
                    .social-platform-btn.instagram:hover { border-color: #E1306C; background: linear-gradient(45deg, rgba(245,96,64,0.1), rgba(225,48,108,0.1)); }

                    .social-platform-btn.snapchat svg { fill: #FFFC00; filter: drop-shadow(0 1px 1px rgba(0,0,0,0.3)); }
                    .social-platform-btn.snapchat:hover { border-color: #FFFC00; background: rgba(255,252,0,0.1); }

                    .social-platform-btn.facebook svg { fill: #1877F2; }
                    .social-platform-btn.facebook:hover { border-color: #1877F2; background: rgba(24,119,242,0.1); }

                    .social-platform-btn.telegram svg { fill: #0088CC; }
                    .social-platform-btn.telegram:hover { border-color: #0088CC; background: rgba(0,136,204,0.1); }

                    .social-platform-btn.whatsapp svg { fill: #25D366; }
                    .social-platform-btn.whatsapp:hover { border-color: #25D366; background: rgba(37,211,102,0.1); }

                    .social-platform-btn.linkedin svg { fill: #0077B5; }
                    .social-platform-btn.linkedin:hover { border-color: #0077B5; background: rgba(0,119,181,0.1); }

                    .social-platform-btn.twitter svg { fill: #000000; }
                    .social-platform-btn.twitter:hover { border-color: #000000; background: rgba(0,0,0,0.05); }
                    [data-theme="dark"] .social-platform-btn.twitter svg { fill: #ffffff; }

                    .social-platform-btn.youtube svg { fill: #FF0000; }
                    .social-platform-btn.youtube:hover { border-color: #FF0000; background: rgba(255,0,0,0.1); }

                    .social-platform-btn.github svg { fill: #333333; }
                    .social-platform-btn.github:hover { border-color: #333333; background: rgba(51,51,51,0.1); }
                    [data-theme="dark"] .social-platform-btn.github svg { fill: #ffffff; }

                    .coming-soon-footer {
                        font-size: 0.875rem;
                        color: var(--text-muted);
                        opacity: 0.5;
                    }
                    @media (max-width: 640px) {
                        .social-platforms-grid {
                            grid-template-columns: repeat(4, 1fr);
                            gap: 1rem;
                            max-width: 100%;
                        }
                        .social-platform-btn { padding: 1.5rem 0.5rem; gap: 0.75rem; }
                        .social-platform-btn svg { width: 44px; height: 44px; }
                        .social-platform-btn span { font-size: 0.8rem; }
                    }
                    @media (max-width: 480px) {
                        .social-platforms-grid {
                            grid-template-columns: repeat(3, 1fr);
                            gap: 0.875rem;
                        }
                        .social-platform-btn { padding: 1.25rem 0.5rem; }
                        .social-platform-btn svg { width: 40px; height: 40px; }
                        .social-platform-btn span { font-size: 0.75rem; }
                    }
                    @media (max-width: 360px) {
                        .social-platforms-grid { grid-template-columns: repeat(2, 1fr); }
                        .social-platform-btn { padding: 1.25rem 0.5rem; }
                        .social-platform-btn svg { width: 36px; height: 36px; }
                    }
                </style>

                <div class="coming-soon-icon">
                    <svg viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                    </svg>
                </div>
                <h2 class="coming-soon-title">Videos Coming Soon</h2>
                <p class="coming-soon-text">Kindly use your preferred social media platforms to advertise yourself until we fully build and deploy this feature.</p>

                <div class="social-platforms-grid" id="socialPlatformsGrid">
                    <a href="https://tiktok.com" target="_blank" class="social-platform-btn tiktok" data-platform="tiktok">
                        <svg viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"/></svg>
                        <span>TikTok</span>
                    </a>
                    <a href="https://instagram.com" target="_blank" class="social-platform-btn instagram" data-platform="instagram">
                        <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
                        <span>Instagram</span>
                    </a>
                    <a href="https://snapchat.com" target="_blank" class="social-platform-btn snapchat" data-platform="snapchat">
                        <svg viewBox="0 0 24 24"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>
                        <span>Snapchat</span>
                    </a>
                    <a href="https://facebook.com" target="_blank" class="social-platform-btn facebook" data-platform="facebook">
                        <svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        <span>Facebook</span>
                    </a>
                    <a href="https://telegram.org" target="_blank" class="social-platform-btn telegram" data-platform="telegram">
                        <svg viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0a12 12 0 00-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 01.171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                        <span>Telegram</span>
                    </a>
                    <a href="https://whatsapp.com" target="_blank" class="social-platform-btn whatsapp" data-platform="whatsapp">
                        <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        <span>WhatsApp</span>
                    </a>
                    <a href="https://linkedin.com" target="_blank" class="social-platform-btn linkedin" data-platform="linkedin">
                        <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                        <span>LinkedIn</span>
                    </a>
                    <a href="https://x.com" target="_blank" class="social-platform-btn twitter" data-platform="twitter">
                        <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                        <span>X</span>
                    </a>
                    <a href="https://youtube.com" target="_blank" class="social-platform-btn youtube" data-platform="youtube">
                        <svg viewBox="0 0 24 24"><path d="M22.54 6.42a2.78 2.78 0 00-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 00-1.94 2A29 29 0 001 12a29 29 0 00.46 5.58A2.78 2.78 0 003.4 19.6c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 001.94-2A29 29 0 0023 12a29 29 0 00-.46-5.58zM9.75 15.02V8.98L15.5 12l-5.75 3.02z"/></svg>
                        <span>YouTube</span>
                    </a>
                    <a href="https://github.com" target="_blank" class="social-platform-btn github" data-platform="github">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"/></svg>
                        <span>GitHub</span>
                    </a>
                </div>

                <p class="coming-soon-footer">Thank you for your patience!</p>
            </div>
        </div>
    </section>

    <!-- Enhanced Comment Modal -->
    <div id="comment-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-label="Comments">
        <div class="modal-container comment-modal animate-modal-slide">
            <div class="modal-header">
                <h3 class="modal-title">Comments</h3>
                <button onclick="closeCommentModal()" class="modal-close-btn">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="comment-list" class="comment-list"></div>
            </div>
            <div class="modal-footer">
                <div class="comment-input-wrapper">
                    <textarea id="new-comment" class="comment-input" placeholder="Add a comment..." rows="3"
                        disabled></textarea>
                    <button id="submit-comment" class="comment-submit-btn" onclick="addComment()" disabled>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Notification Modal -->
    <div id="notification-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-label="Notifications">
        <div class="modal-container notification-modal animate-modal-slide">
            <div class="modal-header">
                <h3 class="modal-title">Notifications</h3>
                <button onclick="closeNotificationModal()" class="modal-close-btn">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="notification-content" class="notification-list">
                    <div class="empty-state">
                        <svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 01-6 0v-1m6 0H9">
                            </path>
                        </svg>
                        <p class="text-center opacity-70">No new notifications</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Enhanced Playlist Modal -->
    <div id="playlist-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-label="Create Playlist">
        <div class="modal-container playlist-modal animate-modal-slide">
            <div class="modal-header">
                <h3 class="modal-title">Add to Playlist</h3>
                <button onclick="closePlaylistModal()" class="modal-close-btn">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="playlist-create-section">
                    <input id="new-playlist-name" class="playlist-input" placeholder="Create new playlist..."
                        type="text" />
                    <button onclick="createPlaylist()" class="playlist-create-btn">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4">
                            </path>
                        </svg>
                        Create
                    </button>
                </div>
                <div id="existing-playlists" class="playlist-list"></div>
            </div>
        </div>
    </div>
    <!-- Enhanced Auth Modal -->
    <div id="authRequiredModal" class="auth-modal-overlay">
        <div class="auth-modal-container">
            <div class="auth-modal-content">
                <div class="auth-modal-icon">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                        </path>
                    </svg>
                </div>
                <h2 class="auth-modal-title">Authentication Required</h2>
                <p class="auth-modal-message" id="authModalMessage">
                    Please login to access this page. You'll be redirected to the login page to continue.
                </p>
                <div class="auth-modal-buttons">
                    <button class="auth-modal-btn primary" onclick="redirectToLogin()">
                        Login Now
                    </button>
                    <button class="auth-modal-btn secondary" onclick="goBack()">
                        Go Back
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Logout Modal -->
    <div id="logout-modal" class="modal hidden">
        <div class="modal-content enhanced" style="max-width: 420px;">
            <button class="modal-close-enhanced" onclick="closeModal('logout-modal')">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>

            <div class="modal-header" style="text-align: center; padding: 32px 32px 16px;">
                <div style="width: 72px; height: 72px; background: rgba(239, 68, 68, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                    <svg width="36" height="36" fill="none" stroke="#EF4444" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                        </path>
                    </svg>
                </div>
                <h3 class="modal-title" style="margin-bottom: 8px;">Log Out?</h3>
                <p class="modal-subtitle" style="margin: 0;">Are you sure you want to log out of your account?</p>
            </div>

            <div style="padding: 24px 32px 32px;">
                <!-- Session info -->
                <div id="logout-session-info" style="background: var(--bg-secondary); border-radius: 12px; padding: 16px; margin-bottom: 24px; display: none;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div id="logout-user-avatar" style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, var(--accent-color), var(--accent-hover)); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 16px; flex-shrink: 0;">
                        </div>
                        <div style="flex: 1; min-width: 0;">
                            <p id="logout-user-name" style="margin: 0; font-weight: 600; color: var(--text-primary); font-size: 15px;"></p>
                            <p id="logout-user-email" style="margin: 4px 0 0; font-size: 13px; color: var(--text-muted);"></p>
                            <div id="logout-user-roles" style="display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Warning message -->
                <div style="background: rgba(245, 158, 11, 0.08); border: 1px solid rgba(245, 158, 11, 0.2); border-radius: 10px; padding: 14px; margin-bottom: 24px;">
                    <div style="display: flex; align-items: start; gap: 10px;">
                        <svg style="width: 20px; height: 20px; color: #F59E0B; flex-shrink: 0; margin-top: 1px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                        </svg>
                        <p style="margin: 0; font-size: 13px; color: var(--text-secondary); line-height: 1.5;">
                            You will need to sign in again to access your account and continue your learning journey.
                        </p>
                    </div>
                </div>

                <!-- Action buttons -->
                <div style="display: flex; gap: 12px;">
                    <button onclick="closeModal('logout-modal')" class="submit-btn" style="flex: 1; background: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border-color);">
                        Stay Logged In
                    </button>
                    <button onclick="confirmLogout()" class="submit-btn" style="flex: 1; background: #EF4444; border-color: #EF4444;">
                        <svg style="width: 18px; height: 18px; margin-right: 6px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7"></path>
                        </svg>
                        Log Out
                    </button>
                </div>

                <!-- Remember me option -->
                <div style="margin-top: 20px; text-align: center;">
                    <label style="display: inline-flex; align-items: center; gap: 8px; cursor: pointer; font-size: 13px; color: var(--text-muted);">
                        <input type="checkbox" id="logout-all-devices" style="width: 16px; height: 16px; accent-color: var(--accent-color);">
                        <span>Log out from all devices</span>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Add this HTML right before the closing </body> tag in reels.html -->

    <!-- Ultimate Video Modal (from videoplayer.html) -->
    <div class="ultimate-video-modal" id="ultimate-video-modal">
        <div class="video-theater-container enhanced-bg-primary">
            <!-- Animated Background Effects -->
            <div class="mesh-overlay"></div>

            <!-- Main Video Section -->
            <div class="video-main-section">



                <div class="sidebar-header-enhanced enhanced-bg-warm">
                    <h2 class="video-title-enhanced" id="ultimate-video-title">Loading...</h2>
                    <div class="video-meta-enhanced">
                        <span class="view-count" id="ultimate-view-count">0 views</span>
                        <span class="upload-date" id="ultimate-upload-date">Today</span>
                    </div>
                    <button class="modal-close-btn-enhanced" onclick="closeUltimateModal()">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                        </svg>
                    </button>
                </div>

                <div class="video-wrapper-advanced">
                    <!-- Video Element -->
                    <video class="enhanced-video" id="enhancedVideo">
                        <source src="" type="video/mp4">
                    </video>

                    <!-- Add this after the video element in the video-wrapper-advanced -->
                    <div class="pip-controls" id="pipControls" style="display: none;">
                        <button class="pip-control-btn" onclick="window.player && window.player.previousVideo()">
                            <svg viewBox="0 0 24 24">
                                <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z" />
                            </svg>
                        </button>
                        <button class="pip-control-btn pip-play-pause"
                            onclick="window.player && window.player.togglePlayPause()">
                            <svg viewBox="0 0 24 24">
                                <path d="M8 5v14l11-7z" />
                            </svg>
                        </button>
                        <button class="pip-control-btn" onclick="window.player && window.player.nextVideo()">
                            <svg viewBox="0 0 24 24">
                                <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z" />
                            </svg>
                        </button>
                        <button class="pip-control-btn pip-close" onclick="window.player && window.player.closePiP()">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                            </svg>
                        </button>
                    </div>

                    <!-- Loading Spinner -->
                    <div class="video-loading-spinner">
                        <div class="spinner-ring"></div>
                    </div>

                    <!-- Gesture Indicator -->
                    <div class="gesture-indicator" id="gestureIndicator"></div>

                    <!-- Advanced Controls -->
                    <div class="video-controls-advanced glass-effect" id="videoControls">

                        <!-- Progress Bar -->
                        <div class="progress-container-advanced" id="progressContainer">
                            <div class="progress-buffer" id="progressBuffer"></div>
                            <div class="progress-played" id="progressPlayed"></div>
                            <div class="progress-hover-preview" id="progressPreview">0:00</div>
                            <div class="progress-scrubber" id="progressScrubber"></div>
                        </div>


                        <!-- Control Buttons Row -->
                        <div class="controls-row">
                            <!-- Left Controls -->
                            <div class="controls-left">
                                <!-- NEW: Previous button here -->
                                <button class="control-btn nav-inline" id="prevVideoBtn" title="Previous">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z" />
                                    </svg>
                                </button>
                                <button class="control-btn play-pause" id="playPauseBtn">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M8 5v14l11-7z" />
                                    </svg>
                                </button>

                                <!-- NEW: Next button here -->
                                <button class="control-btn nav-inline" id="nextVideoBtn" title="Next">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z" />
                                    </svg>
                                </button>
                                <button class="control-btn" id="skipBackBtn">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z" />
                                    </svg>
                                </button>

                                <button class="control-btn" id="skipForwardBtn">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z" />
                                    </svg>
                                </button>

                                <!-- Volume Control -->
                                <div class="volume-control">
                                    <button class="control-btn" id="volumeBtn">
                                        <svg viewBox="0 0 24 24">
                                            <path
                                                d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" />
                                        </svg>
                                    </button>
                                    <div class="volume-slider-container">
                                        <div class="volume-slider" id="volumeSlider">
                                            <div class="volume-level" id="volumeLevel">
                                                <div class="volume-handle"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="time-display">
                                    <span id="currentTime">0:00</span>
                                    <span class="time-separator">/</span>
                                    <span id="duration">0:00</span>
                                </div>

                            </div>

                            <!-- Right Controls -->
                            <div class="controls-right">
                                <div class="speed-selector">
                                    <button class="control-btn speed-btn" id="speedBtn">1x</button>
                                    <div class="speed-menu glass-effect" id="speedMenu">
                                        <div class="speed-option" data-speed="0.25">0.25x</div>
                                        <div class="speed-option" data-speed="0.5">0.5x</div>
                                        <div class="speed-option" data-speed="0.75">0.75x</div>
                                        <div class="speed-option active" data-speed="1">Normal</div>
                                        <div class="speed-option" data-speed="1.25">1.25x</div>
                                        <div class="speed-option" data-speed="1.5">1.5x</div>
                                        <div class="speed-option" data-speed="1.75">1.75x</div>
                                        <div class="speed-option" data-speed="2">2x</div>
                                    </div>
                                </div>

                                <div class="quality-selector">
                                    <button class="control-btn quality-badge" id="qualityBtn">HD</button>
                                    <div class="quality-menu glass-effect" id="qualityMenu">
                                        <div class="quality-option" data-quality="2160">
                                            <span class="quality-label">4K</span>
                                            <span class="quality-tag">Ultra</span>
                                        </div>
                                        <div class="quality-option" data-quality="1440">
                                            <span class="quality-label">1440p</span>
                                            <span class="quality-tag">QHD</span>
                                        </div>
                                        <div class="quality-option active" data-quality="1080">
                                            <span class="quality-label">1080p</span>
                                            <span class="quality-tag">HD</span>
                                        </div>
                                        <div class="quality-option" data-quality="720">
                                            <span class="quality-label">720p</span>
                                        </div>
                                        <div class="quality-option" data-quality="480">
                                            <span class="quality-label">480p</span>
                                        </div>
                                        <div class="quality-option" data-quality="360">
                                            <span class="quality-label">360p</span>
                                        </div>
                                        <div class="quality-option" data-quality="auto">
                                            <span class="quality-label">Auto</span>
                                        </div>
                                    </div>
                                </div>

                                <button class="control-btn pip-btn" id="pipBtn">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z" />
                                    </svg>
                                    <span class="pip-indicator"></span>
                                </button>
                                <button class="control-btn" id="theaterBtn" title="Theater mode">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z" />
                                    </svg>
                                </button>
                                <button class="control-btn" id="fullscreenBtn">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Keyboard Shortcuts Overlay -->
                <div class="shortcuts-overlay enhanced-card glass-effect" id="shortcutsOverlay">
                    <h3 class="shortcuts-title gradient-text">Keyboard Shortcuts</h3>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Play/Pause</span>
                        <span class="shortcut-key">Space</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Skip Back 10s</span>
                        <span class="shortcut-key">J</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Skip Forward 10s</span>
                        <span class="shortcut-key">L</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Mute/Unmute</span>
                        <span class="shortcut-key">M</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Fullscreen</span>
                        <span class="shortcut-key">F</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Previous Video</span>
                        <span class="shortcut-key">Shift + ‚Üë</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Next Video</span>
                        <span class="shortcut-key">Shift + ‚Üì</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-action">Show Shortcuts</span>
                        <span class="shortcut-key">?</span>
                    </div>
                </div>
                <!-- NEW: Move engagement bar here -->
                <div class="engagement-bar-enhanced under-video" id="ultimate-engagement-bar">
                    <!-- Engagement buttons -->
                </div>

                <!-- NEW: Related videos section -->
                <div class="related-videos-section">
                    <h3 class="related-title">Related Videos</h3>
                    <div class="related-videos-grid" id="related-videos-container">
                        <!-- Related video cards will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Enhanced Sidebar -->
            <div class="video-info-sidebar-enhanced">
                <!-- Sidebar Header -->


                <!-- Creator Section -->
                <div class="creator-section">
                    <div class="creator-avatar gradient-orb" id="ultimate-creator-avatar">T</div>
                    <div class="creator-info">
                        <div class="creator-name" id="ultimate-creator-name">Loading...</div>
                        <div class="creator-stats" id="ultimate-creator-stats">Loading...</div>

                    </div>
                    <!-- Connection button will be dynamically added here -->
                </div>

                <!-- Tabs Section -->
                <div class="tabs-section">
                    <div class="tabs-header">
                        <button class="tab-btn active" data-tab="description">Description</button>
                        <button class="tab-btn" data-tab="chapters">Chapters</button>
                        <button class="tab-btn" data-tab="comments">Comments</button>
                    </div>

                    <div class="tabs-content">

                        <!-- Description Tab -->
                        <div class="tab-content" id="descriptionTab">
                            <!-- Will be dynamically populated -->
                        </div>

                        <!-- Chapters Tab -->
                        <div class="tab-content" id="chaptersTab" style="display: none;">
                            <!-- Will be dynamically populated -->
                        </div>
                        <!-- Comments Tab -->
                        <div class="tab-content comments-enhanced" id="commentsTab" style="display: none;">
                            <!-- Will be dynamically populated -->
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- Fullscreen Transition -->
        <div class="fullscreen-transition" id="fullscreenTransition"></div>
    </div>
    <!-- Add Role Modal - Loaded by common-modal-loader.js -->

    <!-- Coming Soon Modal - Loaded by common-modal-loader.js -->


    <!-- Enhanced Footer -->
    <footer class="footer-section" id="footer" role="contentinfo">
        <div class="footer-wave" aria-hidden="true">
            <svg viewBox="0 0 1440 120" preserveAspectRatio="none">
                <defs>
                    <linearGradient id="wave-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:var(--footer-accent);stop-opacity:0" />
                        <stop offset="25%" style="stop-color:var(--footer-accent);stop-opacity:1" />
                        <stop offset="75%" style="stop-color:var(--footer-hover);stop-opacity:1" />
                        <stop offset="100%" style="stop-color:var(--footer-hover);stop-opacity:0" />
                    </linearGradient>
                </defs>
                <!-- Main wave fill with explicit class -->
                <path class="wave-fill"
                    d="M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z">
                </path>
                <!-- Animated line following the wave curve -->
                <path class="wave-line"
                    d="M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32">
                </path>
            </svg>
        </div>

        <div class="container">
            <div class="footer-content">
                <div class="footer-section-item">
                    <h3 class="footer-title">Astegni Stats</h3>
                    <div class="footer-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="footer-stat-users">-</span>
                            <span class="stat-label">Active Users</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="footer-stat-courses">-</span>
                            <span class="stat-label">Courses</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">Coming Soon</span>
                            <span class="stat-label">Success Rate</span>
                        </div>
                    </div>
                </div>

                <div class="footer-section-item">
                    <h3 class="footer-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link" onclick="event.preventDefault();openAboutAstegniModal();">About Us</a></li>
                        <li><a href="#" class="footer-link" onclick="event.preventDefault();openComingSoonModal('Success Stories');">Success Stories</a></li>
                        <li><a href="#" class="footer-link" onclick="event.preventDefault();openComingSoonModal('Careers');">Careers</a></li>
                    </ul>
                </div>

                <div class="footer-section-item">
                    <h3 class="footer-title">Support</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Contact Us</a></li>
                        <li><a href="#" class="footer-link">FAQs</a></li>
                        <li><a href="#" class="footer-link">Terms of Service</a></li>
                    </ul>
                </div>

                <div class="footer-section-item">
                    <h3 class="footer-title">Connect With Us</h3>
                    <div class="social-links">
                        <!-- TikTok -->
                        <a href="https://tiktok.com/@astegni" aria-label="TikTok" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"/>
                            </svg>
                        </a>
                        <!-- Instagram -->
                        <a href="https://www.instagram.com/astegniethiopia" aria-label="Instagram" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                            </svg>
                        </a>
                        <!-- Snapchat -->
                        <a href="https://snapchat.com/add/astegni" aria-label="Snapchat" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/>
                            </svg>
                        </a>
                        <!-- Facebook -->
                        <a href="https://facebook.com/astegni" aria-label="Facebook" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </a>
                        <!-- Telegram -->
                        <a href="https://t.me/astegni" aria-label="Telegram" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0a12 12 0 00-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 01.171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                            </svg>
                        </a>
                        <!-- WhatsApp -->
                        <a href="https://wa.me/251935244245" aria-label="WhatsApp" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                            </svg>
                        </a>
                        <!-- LinkedIn -->
                        <a href="https://linkedin.com/company/astegni" aria-label="LinkedIn" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </a>
                        <!-- X (Twitter) -->
                        <a href="https://x.com/astegniethiopia" aria-label="X" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        <!-- YouTube -->
                        <a href="https://www.youtube.com/@Astegni" aria-label="YouTube" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22.54 6.42a2.78 2.78 0 00-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 00-1.94 2A29 29 0 001 12a29 29 0 00.46 5.58A2.78 2.78 0 003.4 19.6c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 001.94-2A29 29 0 0023 12a29 29 0 00-.46-5.58zM9.75 15.02V8.98L15.5 12l-5.75 3.02z"/>
                            </svg>
                        </a>
                        <!-- GitHub -->
                        <a href="https://github.com/astegni" aria-label="GitHub" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"/>
                            </svg>
                        </a>
                    </div>

                    <div class="newsletter-signup">
                        <h4>Subscribe to Newsletter</h4>
                        <form class="newsletter-form" id="newsletterForm">
                            <input type="email" placeholder="Your email address" class="newsletter-input"
                                id="emailInput" aria-label="Email address" required>
                            <button type="submit" class="newsletter-btn" id="submitBtn">Subscribe</button>
                            <div class="newsletter-feedback" id="feedback"></div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer-bottom-content">
                <div class="footer-badges">
                    <div class="company-brand">
                        <span>From the deep of</span>
                        <span class="trademark-symbol">‚Ñ¢</span>
                        <span class="company-text">Eshtaol</span>
                    </div>
                    <a href="tel:+251935244245" class="phone-link">
                        <span class="phone-icon">üìû</span>
                        <span>+251-935-24-42-45</span>
                        <span>+251-997-40-98-66</span>
                    </a>
                </div>
                <div class="footer-badges">
                    <p class="copyright">¬© </p>
                    <p>2025 Astegni. All rights reserved.</p>
                </div>
                <div class="footer-badges">
                    <span class="badge glow" tabindex="0">üîí SSL Secured</span>
                    <span class="badge" tabindex="0">‚úì Verified Platform</span>
                    <span class="badge" tabindex="0">üèÜ Future Awards Winner</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
        </svg>
    </button>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="toast-container"></div>
    <!-- Updated Frontend Code for Profile Picture Integration -->


    <!-- Load core modules first (following four-tier architecture) -->
    <script src="../js/root/auth.js?v202602260045"></script>
    <script src="../js/root/nav.js?v202602260045"></script>
    <!-- Common Modal Loader for add-role, logout, coming-soon modals -->
    <script src="../modals/common-modals/common-modal-loader.js"></script>
    <script src="../js/root/app.js?v202602260045"></script>
    <script src="../js/root/profile-system.js?v202602260045"></script>
    <script src="../js/root/theme-toggle.js?v202602260045"></script>
    <!-- Deletion Countdown Banner - Shows role deletion warning in profile dropdown -->
    <script src="../js/common-modals/deletion-countdown-banner.js?v202602260045"></script>
    <script src="../js/root/news-section.js?v202602260045"></script>
    <script src="../js/root/ripple-effect.js?v202602260045"></script>

    <!-- JavaScript for Interactivity -->
    <script src="../js/reels/ad-PackageManager.js?v202602260045"></script>
    <script src="../js/reels/auth.js?v202602260045"></script>

    <!-- Load reels modular components in correct order -->
    <script src="../js/reels/checkAuth.js?v202602260045"></script>
    <script src="../js/reels/ad-placeholder.js?v202602260045"></script>
    <script src="../js/reels/track-video.js?v202602260045"></script>
    <script src="../js/reels/engagement.js?v202602260045"></script>
    <script src="../js/reels/comments.js?v202602260045"></script>
    <script src="../js/reels/playlist.js?v202602260045"></script>
    <script src="../js/reels/share-reel.js?v202602260045"></script>
    <script src="../js/reels/video-modal.js?v202602260045"></script>
    <script src="../js/reels/filter.js?v202602260045"></script>
    <script src="../js/reels/create-reels.js?v202602260045"></script>
    <script src="../js/reels/load-reels.js?v202602260045"></script>
    <script src="../js/reels/reels_dynamic.js?v202602260045"></script>

    <!-- Load video player plugin modules -->
    <script src="../js/plug-ins/player-bridge.js?v202602260045"></script>
    <script src="../js/plug-ins/videoplayer.js?v202602260045"></script>
    <script src="../js/plug-ins/video-player-integration.js?v202602260045"></script>

    <!-- Load shared modal modules -->
    <script src="../js/common-modals/coming-soon-modal.js?v202602260045"></script>
    <script src="../js/common-modals/footer-manager.js?v202602260045"></script>
    <!-- ad-modal.js removed - AdPackageManager already loaded via ad-PackageManager.js -->
    <script src="../js/common-modals/ad-rotation-manager.js?v202602260045"></script>
    <script src="../js/common-modals/logout-modal.js?v202602260045"></script>
    <!-- Standalone Chat Call Modal JavaScript -->
    <script src="../js/common-modals/chat-call-modal.js?v202602260045"></script>

    <!-- Load Standalone Chat Call Modal HTML -->
    <script>
        // Load standalone chat call modal HTML dynamically (for logged-in users)
        document.addEventListener('DOMContentLoaded', function() {
            fetch('../modals/common-modals/chat-call-modal.html')
                .then(response => response.text())
                .then(html => {
                    document.body.insertAdjacentHTML('beforeend', html);
                    console.log('‚úÖ Standalone Chat Call Modal loaded for reels');
                })
                .catch(err => console.error('Failed to load chat-call-modal:', err));
        });
    </script>

    <script>
        // Close Modal Function (for logout modal and other modals)
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('hidden');
                modal.classList.remove('active', 'show');
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }
        window.closeModal = closeModal;

        // Add Role Modal Functions - handled by profile-system.js
        // Removed local openAddRoleModal() to use global from profile-system.js
        // This ensures user info is populated correctly

        function closeAddRoleModal() {
            const modal = document.getElementById('add-role-modal');
            if (modal) {
                modal.classList.remove('show');
                document.body.style.overflow = 'auto';
                const form = document.getElementById('add-role-form');
                if (form) form.reset();
            }
        }

        async function handleAddRole(event) {
            event.preventDefault();

            const role = document.getElementById('register-as').value;
            const password = document.getElementById('confirm-password').value;

            if (!role) {
                alert('Please select a role');
                return;
            }

            try {
                // Get current user token
                const token = localStorage.getItem('token');
                if (!token) {
                    alert('Please login first');
                    return;
                }

                // Call API to add role
                const response = await fetch('https://api.astegni.com/api/add-role', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        role: role,
                        password: password
                    })
                });

                const data = await response.json();

                if (response.ok) {
                    alert(`Successfully added ${role} role! You can now switch to this role.`);
                    closeAddRoleModal();
                    // Refresh the page to show updated roles
                    window.location.reload();
                } else {
                    alert(data.detail || 'Failed to add role. Please try again.');
                }
            } catch (error) {
                console.error('Error adding role:', error);
                alert('An error occurred. Please try again.');
            }
        }

        // Close modal on background click
        document.getElementById('add-role-modal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeAddRoleModal();
            }
        });

        // Close modal on ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('add-role-modal');
                if (modal && modal.classList.contains('show')) {
                    closeAddRoleModal();
                }
            }
        });

        // Initialize navigation when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof initializeNavigation === 'function') {
                initializeNavigation();
            }

            // Load user's social links into the social platform buttons
            loadUserSocialLinks();
        });

        // Function to load user's social media links from users.social_links
        async function loadUserSocialLinks() {
            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    console.log('[loadUserSocialLinks] User not logged in - using default social links');
                    return;
                }

                // Fetch current user data
                const response = await fetch(`${window.API_BASE_URL}/api/me`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (!response.ok) {
                    console.log('[loadUserSocialLinks] Failed to fetch user data - using default social links');
                    return;
                }

                const userData = await response.json();
                const socialLinks = userData.social_links || {};

                console.log('[loadUserSocialLinks] User social links from database:', socialLinks);

                // If no social links, use defaults
                if (!socialLinks || Object.keys(socialLinks).length === 0) {
                    console.log('[loadUserSocialLinks] No social links found in database, using defaults');
                    return;
                }

                // Update each social platform button if user has provided the link
                const socialPlatformButtons = document.querySelectorAll('.social-platform-btn[data-platform]');
                let linksUpdated = 0;

                socialPlatformButtons.forEach(button => {
                    const platform = button.getAttribute('data-platform');

                    // Try to find matching social link (case-insensitive)
                    let userLink = null;

                    // Direct match (lowercase)
                    if (socialLinks[platform]) {
                        userLink = socialLinks[platform];
                    }
                    // Try capitalized version
                    else if (socialLinks[platform.charAt(0).toUpperCase() + platform.slice(1)]) {
                        userLink = socialLinks[platform.charAt(0).toUpperCase() + platform.slice(1)];
                    }
                    // Special case for Twitter/X
                    else if (platform === 'twitter') {
                        userLink = socialLinks.twitter || socialLinks.Twitter || socialLinks.x || socialLinks.X;
                    }

                    if (userLink && userLink.trim() !== '') {
                        // User has provided this social link, update the href
                        button.href = userLink;
                        button.style.opacity = '1';
                        linksUpdated++;
                        console.log(`‚úÖ [loadUserSocialLinks] Updated ${platform} link to: ${userLink}`);
                    } else {
                        // Dim the button if user hasn't provided a link
                        button.style.opacity = '0.3';
                        button.style.pointerEvents = 'none';
                        console.log(`‚ÑπÔ∏è [loadUserSocialLinks] ${platform} link not provided by user, button dimmed`);
                    }
                });

                console.log(`‚úÖ [loadUserSocialLinks] Updated ${linksUpdated} social link(s) from database`);

            } catch (error) {
                console.error('[loadUserSocialLinks] Error loading user social links:', error);
                // Keep default links if there's an error
            }
        }

        // Make function globally available
        window.loadUserSocialLinks = loadUserSocialLinks;
    </script>
    <!-- Appearance Manager - Theme & Color Palette Sync -->
    <script src="../js/common-modals/appearance-manager.js?v202602260045"></script>
</body>
</html>