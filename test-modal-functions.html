<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Functions Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
        <h1 class="text-3xl font-bold mb-6">üîç Modal Functions Diagnostic Test</h1>

        <div class="space-y-4">
            <h2 class="text-xl font-bold">Test Buttons:</h2>

            <button onclick="openUploadCertificationModal()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                üì§ Upload Certification
            </button>

            <button onclick="openAddAchievementModal()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                üèÜ Add Achievement
            </button>

            <button onclick="openAddExperienceModal()" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">
                üíº Add Experience
            </button>
        </div>

        <div class="mt-8 p-4 bg-gray-100 rounded">
            <h2 class="text-xl font-bold mb-4">Diagnostic Results:</h2>
            <div id="diagnostics" class="space-y-2 font-mono text-sm"></div>
        </div>
    </div>

    <!-- Modals (simplified) -->
    <div id="upload-certification-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg max-w-md">
            <h2 class="text-2xl font-bold mb-4">üì§ Upload Certification</h2>
            <p>Modal opened successfully!</p>
            <button onclick="closeUploadCertificationModal()" class="mt-4 bg-red-500 text-white px-4 py-2 rounded">Close</button>
        </div>
    </div>

    <div id="add-achievement-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg max-w-md">
            <h2 class="text-2xl font-bold mb-4">üèÜ Add Achievement</h2>
            <p>Modal opened successfully!</p>
            <button onclick="closeAddAchievementModal()" class="mt-4 bg-red-500 text-white px-4 py-2 rounded">Close</button>
        </div>
    </div>

    <div id="add-experience-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg max-w-md">
            <h2 class="text-2xl font-bold mb-4">üíº Add Experience</h2>
            <p>Modal opened successfully!</p>
            <button onclick="closeAddExperienceModal()" class="mt-4 bg-red-500 text-white px-4 py-2 rounded">Close</button>
        </div>
    </div>

    <!-- Load required scripts -->
    <script>
        const API_BASE_URL = 'https://api.astegni.com';

        // Diagnostic logging
        function log(message, type = 'info') {
            const div = document.getElementById('diagnostics');
            const color = type === 'error' ? 'text-red-600' : type === 'success' ? 'text-green-600' : 'text-blue-600';
            div.innerHTML += `<div class="${color}">${message}</div>`;
            console.log(message);
        }

        // Check 1: Wait for profile-extensions-manager.js to load
        window.addEventListener('DOMContentLoaded', () => {
            log('‚úÖ DOM loaded');

            // Check if functions are defined
            setTimeout(() => {
                log('<br><strong>Checking function availability:</strong>');
                log(`openUploadCertificationModal: ${typeof window.openUploadCertificationModal}`,
                    typeof window.openUploadCertificationModal === 'function' ? 'success' : 'error');
                log(`openAddAchievementModal: ${typeof window.openAddAchievementModal}`,
                    typeof window.openAddAchievementModal === 'function' ? 'success' : 'error');
                log(`openAddExperienceModal: ${typeof window.openAddExperienceModal}`,
                    typeof window.openAddExperienceModal === 'function' ? 'success' : 'error');

                // List all window properties starting with 'open'
                log('<br><strong>All window.open* functions:</strong>');
                Object.keys(window).filter(k => k.startsWith('open')).forEach(key => {
                    log(`  ${key}: ${typeof window[key]}`);
                });
            }, 1000);
        });
    </script>

    <!-- Load the actual script -->
    <script src="js/tutor-profile/profile-extensions-manager.js?v202602260045"></script>
</body>
</html>
