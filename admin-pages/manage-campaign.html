<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTEGNI - Manage Campaigns</title>
    <!-- TailwindCSS CDN -->
    <script>tailwind.config={corePlugins:{preflight:false}}</script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>html{font-size:18px!important}</style>
    <!-- Custom Styles -->
    <link rel="stylesheet" href="./css/root.css">
    <link rel="stylesheet" href="./css/admin-profile/admin.css">
    <link rel="stylesheet" href="./css/admin-pages/shared/admin-layout-fix.css">
    <link rel="stylesheet" href="./css/admin-pages/manage-campaigns.css">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

</head>

<body class="font-sans">

    <!-- Navigation -->
    <nav class="admin-nav p-4 sticky top-0 z-50" role="navigation" aria-label="Main navigation">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Left: Hamburger + Logo -->
            <div class="nav-left flex items-center gap-4">
                <span class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
                <a href="manage-campaign.html" class="logo-container">
                    <div class="logo-text">
                        <span class="logo-main">Astegni</span>
                        <span class="logo-sub">Manage Campaigns</span>
                    </div>
                    <span class="logo-badge">Beta</span>
                </a>
            </div>

            <!-- Center: Live Clock -->
            <div class="nav-center">
                <div class="live-clock">
                    <span id="current-time" class="time">--:--:--</span>
                    <span id="current-date" class="date">Loading...</span>
                </div>
            </div>

            <!-- Right: Home, Theme, User Controls -->
            <div class="header-right">
                <!-- Home Icon Link -->
                <a href="index.html" class="icon-button" title="Go to Admin Home">
                    <i class="fas fa-home"></i>
                </a>

                <!-- Theme Toggle (always visible) -->
                <button id="theme-toggle" class="icon-button" onclick="toggleTheme()">
                    <span class="theme-icon">
                        <i class="fas fa-moon" id="moon-icon"></i>
                        <i class="fas fa-sun" id="sun-icon" style="display: none;"></i>
                    </span>
                </button>

                <!-- User Controls (hidden by default, shown when logged in) -->
                <div class="user-controls" id="user-controls" style="display: none;">
                    <!-- Notification Icon -->
                    <button class="icon-button notification-button" onclick="openNotificationModal()">
                        <i class="fas fa-bell"></i>
                        <span class="badge notification-count-badge">3</span>
                    </button>

                    <!-- Profile container -->
                    <div id="profile-container" class="profile-dropdown-container">
                        <button id="profile-dropdown-toggle" class="profile-dropdown-toggle"
                            onclick="toggleProfileDropdown()">
                            <img id="profile-pic" class="profile-pic"
                                src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%234F46E5'/%3E%3Ctext x='50' y='50' text-anchor='middle' dy='.3em' fill='white' font-size='40' font-family='Arial'%3EA%3C/text%3E%3C/svg%3E"
                                alt="Profile">
                            <span id="profile-name" class="profile-name">Guest</span>
                            <svg class="dropdown-arrow" width="12" height="12" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </button>

                        <div id="profile-dropdown-menu" class="profile-dropdown-menu hidden">
                            <!-- User info header -->
                            <a href="javascript:void(0)" id="dropdown-profile-link" class="dropdown-header-link">
                                <div class="dropdown-header">
                                    <img id="dropdown-profile-pic" class="profile-pic"
                                        src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%234F46E5'/%3E%3Ctext x='50' y='50' text-anchor='middle' dy='.3em' fill='white' font-size='40' font-family='Arial'%3EA%3C/text%3E%3C/svg%3E"
                                        alt="Profile">
                                    <div class="dropdown-user-info">
                                        <span id="dropdown-user-name" class="dropdown-user-name"></span>
                                        <span id="dropdown-user-email" class="dropdown-user-email"></span>
                                        <span id="dropdown-user-role" class="dropdown-user-role"></span>
                                    </div>
                                    <svg class="dropdown-header-arrow" width="16" height="16" fill="currentColor"
                                        viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                            </a>

                            <div class="dropdown-divider"></div>

                            <!-- Department switcher -->
                            <div id="department-switcher-section" class="department-switcher-section hidden">
                                <div class="dropdown-item-header">Your Departments</div>
                                <div id="department-options" class="department-options"></div>
                                <div class="dropdown-divider"></div>
                            </div>

                            <!-- Add Department button -->
                            <button class="dropdown-item" onclick="openAddDepartmentModal()">
                                <i class="fas fa-plus-circle"></i>
                                <span>Add Department Role</span>
                            </button>

                            <div class="dropdown-divider"></div>

                            <button class="dropdown-item logout-item" onclick="openLogoutModal()">
                                <i class="fas fa-sign-out-alt dropdown-icon"></i>
                                Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
    </nav>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar-container">
        <div class="sidebar-content">
            <div class="sidebar-nav">
                <h3>Campaign Management</h3>
                <span class="sidebar-close" id="sidebar-close">&times;</span>

                <a href="#" onclick="switchPanel('campaign-dashboard'); return false;" class="sidebar-link active"
                    data-panel="campaign-dashboard">
                    <span class="sidebar-icon">üè†</span>
                    <span>Dashboard</span>
                </a>
                <a href="#" onclick="switchPanel('campaign-requested'); return false;" class="sidebar-link"
                    data-panel="campaign-requested">
                    <span class="sidebar-icon">üìù</span>
                    <span>Campaign Requests</span>
                </a>
                <a href="#" onclick="switchPanel('campaign-verified'); return false;" class="sidebar-link"
                    data-panel="campaign-verified">
                    <span class="sidebar-icon">üì¢</span>
                    <span>Verified Campaigns</span>
                </a>
                <a href="#" onclick="switchPanel('campaign-rejected'); return false;" class="sidebar-link"
                    data-panel="campaign-rejected">
                    <span class="sidebar-icon">‚ùå</span>
                    <span>Rejected Campaigns</span>
                </a>
                <a href="#" onclick="switchPanel('campaign-suspended'); return false;" class="sidebar-link"
                    data-panel="campaign-suspended">
                    <span class="sidebar-icon">‚ö†Ô∏è</span>
                    <span>Suspended Campaigns</span>
                </a>

                <!-- Common Links -->
                <a href="#" onclick="switchPanel('credentials'); return false;" class="sidebar-link"
                    data-panel="credentials">
                    <span class="sidebar-icon">üéì</span>
                    <span>Credentials</span>
                </a>
                <a href="#" onclick="switchPanel('reviews'); return false;" class="sidebar-link" data-panel="reviews">
                    <span class="sidebar-icon">‚≠ê</span>
                    <span>Reviews</span>
                </a>

                <hr class="my-4 border-gray-300">

                <a href="#" onclick="openReports(); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üìä</span>
                    <span>Reports</span>
                </a>
                <a href="#" onclick="openVerificationGuidelines(); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üìã</span>
                    <span>Verification Guidelines</span>
                </a>
                <a href="#" onclick="openSettings(); return false;" class="sidebar-link">
                    <span class="sidebar-icon">‚öôÔ∏è</span>
                    <span>Advertiser Settings</span>
                </a>
                <hr class="my-4 border-gray-300">
                <a href="#" onclick="switchPanel('portfolio'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üìÅ</span>
                    <span>Portfolio</span>
                </a>
                <a href="#" onclick="switchPanel('settings'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </a>

                <!-- Logout Button at Bottom -->
                <div class="mt-auto pt-4 border-t border-gray-300">
                    <a href="#" onclick="logout(); return false;" class="sidebar-link text-red-500 hover:bg-red-50">
                        <span class="sidebar-icon">üö™</span>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <section class="py-8">
        <div class="container mx-auto px-4">
            <!-- Main Content with Widgets -->
            <div class="flex gap-6">
                <!-- Left Content Area -->
                <div class="flex-1">
                    <!-- Panels Section -->
                    <div class="panels-container">

                        <!-- ==================== CAMPAIGN PANELS ==================== -->

                        <!-- Campaign Dashboard Panel (Default) -->
                        <div id="campaign-dashboard-panel" class="panel-content active">

                            <!-- Profile Header Section (Only visible in Dashboard) -->
                            <section class="profile-header-section mb-8">
                                <div class="cover-image-container relative">
                                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='300'%3E%3Crect width='1200' height='300' fill='%23e5e7eb'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%239ca3af' font-family='sans-serif' font-size='20'%3E1200x300%3C/text%3E%3C/svg%3E"
                                        alt="Cover" class="cover-img">
                                    <div class="cover-overlay"></div>
                                    <!-- Cover Upload Button -->
                                    <button onclick="openUploadCoverModal()" class="cover-upload-btn">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z">
                                            </path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        </svg>
                                    </button>
                                </div>

                                <div class="profile-main-info">
                                    <div class="profile-info-wrapper">
                                        <div class="profile-avatar-container">
                                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150'%3E%3Crect width='150' height='150' fill='%23e5e7eb'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%239ca3af' font-family='sans-serif' font-size='16'%3E150x150%3C/text%3E%3C/svg%3E"
                                                alt="Admin Profile" class="profile-avatar">
                                            <span class="online-indicator"></span>
                                            <!-- Profile Picture Upload Button -->
                                            <button onclick="openUploadProfileModal()" class="avatar-upload-btn">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z">
                                                    </path>
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                </svg>
                                            </button>
                                        </div>

                                        <div class="profile-details-section">
                                            <div class="profile-name-row">
                                                <h1 class="profile-name" id="adminUsername">admin_username</h1>
                                                <div class="badges-row">
                                                    <span class="profile-badge verified">‚úî System Administrator</span>
                                                    <span class="profile-badge campaign">üì¢ Advertiser Management</span>
                                                    <span class="profile-badge expert">üìä Marketing Expert</span>
                                                </div>
                                            </div>

                                            <div class="rating-section">
                                                <div class="rating-wrapper">
                                                    <span class="rating-value">4.8</span>
                                                    <div class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                                    <span class="rating-count">(312 reviews)</span>
                                                    <div class="rating-label">Performance Rating</div>
                                                </div>
                                            </div>

                                            <div class="profile-location">
                                                <span class="location-icon">üìç</span>
                                                <span>Astegni Admin Panel | Campaign Management</span>
                                            </div>

                                            <div class="profile-quote">
                                                <span>"Maximizing ROI through strategic campaign management and
                                                    advertiser partnerships."</span>
                                            </div>

                                            <div class="profile-actions">
                                                <button onclick="openEditProfileModal()" class="btn-primary">
                                                    <span class="mr-2">‚úèÔ∏è</span>
                                                    Edit Profile
                                                </button>
                                            </div>

                                            <!-- About Me Info -->
                                            <div class="profile-info-grid">
                                                <div class="info-item">
                                                    <span class="info-label">Email:</span>
                                                    <span class="info-value" id="profile-email">admin@astegni.et</span>
                                                </div>
                                                <div class="info-item">
                                                    <span class="info-label">Phone:</span>
                                                    <span class="info-value" id="profile-phone">+251911234567</span>
                                                </div>
                                                <div class="info-item">
                                                    <span class="info-label">Department:</span>
                                                    <span class="info-value" id="profile-department">Marketing &
                                                        Advertising</span>
                                                </div>
                                                <div class="info-item">
                                                    <span class="info-label">Employee ID:</span>
                                                    <span class="info-value"
                                                        id="profile-employee-id">ADM-2024-004</span>
                                                </div>
                                                <div class="info-item">
                                                    <span class="info-label">Joined:</span>
                                                    <span class="info-value" id="profile-joined">February 2020</span>
                                                </div>
                                                <div class="info-description">
                                                    <p>Senior System Administrator specializing in advertising campaign
                                                        management and advertiser relations. Expert in campaign
                                                        performance analytics and optimization.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Page Header -->
                            <div class="mb-8 animate-fadeIn">
                                <h1 class="text-3xl font-bold mb-2">Campaign Management Dashboard</h1>
                                <p class="text-gray-600">Overview of all campaign management activities and statistics
                                </p>
                            </div>

                            <!-- Campaign Statistics Cards -->
                            <div class="dashboard-grid mb-8">
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Pending Requests</h3>
                                    <p class="text-2xl font-bold text-yellow-600" id="campaign-pending-count">0</p>
                                    <span class="text-sm text-gray-500">Awaiting review</span>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Approval Rate</h3>
                                    <p class="text-2xl font-bold text-green-600">0%</p>
                                    <span class="text-sm text-gray-500">Overall rate</span>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Avg Processing</h3>
                                    <p class="text-2xl font-bold text-blue-600">&lt; 24hrs</p>
                                    <span class="text-sm text-gray-500">Response time</span>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Client Satisfaction</h3>
                                    <p class="text-2xl font-bold text-purple-600">0%</p>
                                    <span class="text-sm text-gray-500">User feedback</span>
                                </div>
                            </div>

                            <!-- Recent Reviews Section -->
                            <div class="card p-6 mb-8">
                                <h3 class="text-xl font-semibold mb-4">Recent Reviews</h3>
                                <div class="space-y-4">
                                    <div class="border-l-4 border-blue-500 pl-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <div>
                                                <h4 class="font-semibold">Outstanding Campaign Management</h4>
                                                <p class="text-sm text-gray-600">From: Marketing Director</p>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                            </div>
                                        </div>
                                        <p class="text-gray-700">"Exceptional handling of campaign relationships.
                                            Revenue increased by 25% this quarter."</p>
                                        <p class="text-xs text-gray-500 mt-2">3 days ago</p>
                                    </div>

                                    <div class="border-l-4 border-green-500 pl-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <div>
                                                <h4 class="font-semibold">Quick Approval Process</h4>
                                                <p class="text-sm text-gray-600">From: Sales Team</p>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                            </div>
                                        </div>
                                        <p class="text-gray-700">"Campaign approvals are processed within hours. Great
                                            communication with clients."</p>
                                        <p class="text-xs text-gray-500 mt-2">5 days ago</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Campaign Requested Panel -->
                        <div id="campaign-requested-panel" class="panel-content hidden">
                            <div class="mb-8">
                                <h1 class="text-3xl font-bold mb-2">Campaign Requests</h1>
                                <p class="text-gray-600">Review and process new campaign requests</p>
                            </div>

                            <div class="dashboard-grid mb-8">
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Pending Requests</h3>
                                    <p class="text-2xl font-bold text-yellow-600">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Under Review</h3>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Approved Today</h3>
                                    <p class="text-2xl font-bold text-green-600">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Total Budget</h3>
                                    <p class="text-2xl font-bold">0 ETB</p>
                                </div>
                            </div>

                            <div class="card p-6 mb-6">
                                <div class="flex flex-wrap gap-4 items-center">
                                    <div class="flex-1 min-w-[300px]">
                                        <input type="text" class="search-input w-full p-3 border-2 rounded-lg"
                                            placeholder="Search campaigns by name, company, or ID...">
                                    </div>
                                    <select class="industry-filter p-3 border-2 rounded-lg">
                                        <option value="">All Industries</option>
                                        <option value="Education">Education</option>
                                        <option value="Technology">Technology</option>
                                        <option value="Healthcare">Healthcare</option>
                                        <option value="Finance">Finance</option>
                                    </select>
                                    <select class="ad-type-filter p-3 border-2 rounded-lg">
                                        <option value="">All Types</option>
                                        <option value="image">Image</option>
                                        <option value="video">Video</option>
                                        <option value="carousel">Carousel</option>
                                    </select>
                                </div>
                            </div>

                            <div class="card overflow-hidden">
                                <div class="p-4 border-b">
                                    <h3 class="text-xl font-semibold">Pending Campaign Requests</h3>
                                </div>
                                <table class="w-full">
                                    <thead>
                                        <tr>
                                            <th class="p-4 text-left">Brand Name</th>
                                            <th class="p-4 text-left">Campaign Name</th>
                                            <th class="p-4 text-left">Submitted Date</th>
                                            <th class="p-4 text-left">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="campaign-requests-table-body">
                                        <tr>
                                            <td colspan="4" class="p-8 text-center text-gray-500">
                                                <div class="text-4xl mb-4">‚è≥</div>
                                                <div>Loading campaign requests...</div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Campaign Verified Panel -->
                        <div id="campaign-verified-panel" class="panel-content hidden">
                            <div class="mb-8">
                                <h1 class="text-3xl font-bold mb-2">Verified Campaigns</h1>
                                <p class="text-gray-600">Manage all verified and active campaigns</p>
                            </div>

                            <div class="dashboard-grid mb-8">
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Total Verified</h3>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Active</h3>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Total Budget</h3>
                                    <p class="text-2xl font-bold">0 ETB</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Avg Performance</h3>
                                    <p class="text-2xl font-bold">0%</p>
                                </div>
                            </div>

                            <div class="card overflow-hidden">
                                <div class="p-4 border-b">
                                    <h3 class="text-xl font-semibold">Verified Campaigns</h3>
                                </div>
                                <table class="w-full">
                                    <thead>
                                        <tr>
                                            <th class="p-4 text-left">Brand Name</th>
                                            <th class="p-4 text-left">Campaign Name</th>
                                            <th class="p-4 text-left">Verified Date</th>
                                            <th class="p-4 text-left">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="campaign-verified-table-body">
                                        <tr>
                                            <td colspan="4" class="p-8 text-center text-gray-500">
                                                <div class="text-4xl mb-4">‚è≥</div>
                                                <div>Loading campaigns...</div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Campaign Rejected Panel -->
                        <div id="campaign-rejected-panel" class="panel-content hidden">
                            <div class="mb-8">
                                <h1 class="text-3xl font-bold mb-2">Rejected Campaign Applications</h1>
                                <p class="text-gray-600">Review rejected applications and reconsider if needed</p>
                            </div>

                            <div class="dashboard-grid mb-8">
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Total Rejected</h3>
                                    <p class="text-2xl font-bold text-red-600">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">This Month</h3>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Reconsidered</h3>
                                    <p class="text-2xl font-bold text-green-600">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Awaiting Review</h3>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                            </div>

                            <div class="card overflow-hidden">
                                <div class="p-4 border-b">
                                    <h3 class="text-xl font-semibold">Rejected Campaign Applications</h3>
                                </div>
                                <table class="w-full">
                                    <thead>
                                        <tr>
                                            <th class="p-4 text-left">Brand Name</th>
                                            <th class="p-4 text-left">Campaign Name</th>
                                            <th class="p-4 text-left">Rejected Date</th>
                                            <th class="p-4 text-left">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="campaign-rejected-table-body">
                                        <tr>
                                            <td colspan="4" class="p-8 text-center text-gray-500">
                                                <div class="text-4xl mb-4">‚è≥</div>
                                                <div>Loading rejected campaigns...</div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Campaign Suspended Panel -->
                        <div id="campaign-suspended-panel" class="panel-content hidden">
                            <div class="mb-8">
                                <h1 class="text-3xl font-bold mb-2">Suspended Campaigns</h1>
                                <p class="text-gray-600">Manage campaigns under temporary suspension</p>
                            </div>

                            <div class="dashboard-grid mb-8">
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Currently Suspended</h3>
                                    <p class="text-2xl font-bold text-orange-600">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Policy Violations</h3>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Under Investigation</h3>
                                    <p class="text-2xl font-bold">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-lg font-semibold">Reinstated This Year</h3>
                                    <p class="text-2xl font-bold text-green-600">0</p>
                                </div>
                            </div>

                            <div class="card overflow-hidden">
                                <div class="p-4 border-b">
                                    <h3 class="text-xl font-semibold">Suspended Campaigns</h3>
                                </div>
                                <table class="w-full">
                                    <thead>
                                        <tr>
                                            <th class="p-4 text-left">Brand Name</th>
                                            <th class="p-4 text-left">Campaign Name</th>
                                            <th class="p-4 text-left">Suspended Date</th>
                                            <th class="p-4 text-left">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="campaign-suspended-table-body">
                                        <tr>
                                            <td colspan="4" class="p-8 text-center text-gray-500">
                                                <div class="text-4xl mb-4">‚è≥</div>
                                                <div>Loading suspended campaigns...</div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- ==================== CREDENTIALS PANEL (SHARED) ==================== -->
                        <div id="credentials-panel" class="panel-content hidden">
                            <div class="mb-8">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h1 class="text-3xl font-bold mb-2">My Credentials</h1>
                                        <p class="text-gray-600">View and manage your professional achievements and work
                                            experience</p>
                                    </div>
                                    <button onclick="openAddCredentialModal()"
                                        class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium flex items-center gap-2">
                                        <i class="fas fa-plus"></i>
                                        Add Credential
                                    </button>
                                </div>
                            </div>

                            <div class="card p-4 mb-6">
                                <div class="flex gap-4">
                                    <button onclick="switchCredentialsSection('achievements')"
                                        class="credentials-tab active px-6 py-3 rounded-lg font-semibold transition-all bg-blue-500 text-white"
                                        id="achievements-tab">
                                        <span class="mr-2">üèÜ</span> Achievements
                                    </button>
                                    <button onclick="switchCredentialsSection('experience')"
                                        class="credentials-tab px-6 py-3 rounded-lg font-semibold transition-all bg-gray-100 hover:bg-gray-200"
                                        id="experience-tab">
                                        <span class="mr-2">üíº</span> Experience
                                    </button>
                                </div>
                            </div>

                            <!-- Achievements Section -->
                            <div id="credentials-achievements-section" class="credentials-section">
                                <div class="dashboard-grid mb-8">
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Total Achievements</h3>
                                        <p class="text-3xl font-bold mt-2 text-yellow-500">12</p>
                                    </div>
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Certifications</h3>
                                        <p class="text-3xl font-bold mt-2 text-blue-500">5</p>
                                    </div>
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Recognition Awards</h3>
                                        <p class="text-3xl font-bold mt-2 text-purple-500">7</p>
                                    </div>
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Current Level</h3>
                                        <p class="text-3xl font-bold mt-2 text-green-500">Level 8</p>
                                    </div>
                                </div>

                                <div class="card p-6">
                                    <h3 class="text-xl font-semibold mb-4">Achievement Badges</h3>
                                    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                                        <div
                                            class="achievement-badge text-center p-4 rounded-lg bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-200">
                                            <div class="text-4xl mb-2">üèÜ</div>
                                            <div class="font-semibold text-sm">Top Performer</div>
                                            <div class="text-xs text-gray-500">Q4 2024</div>
                                        </div>
                                        <div
                                            class="achievement-badge text-center p-4 rounded-lg bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200">
                                            <div class="text-4xl mb-2">ü•á</div>
                                            <div class="font-semibold text-sm">Excellence Award</div>
                                            <div class="text-xs text-gray-500">Annual 2024</div>
                                        </div>
                                        <div
                                            class="achievement-badge text-center p-4 rounded-lg bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200">
                                            <div class="text-4xl mb-2">‚≠ê</div>
                                            <div class="font-semibold text-sm">5-Star Admin</div>
                                            <div class="text-xs text-gray-500">200+ Reviews</div>
                                        </div>
                                        <div
                                            class="achievement-badge text-center p-4 rounded-lg bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200">
                                            <div class="text-4xl mb-2">üì¢</div>
                                            <div class="font-semibold text-sm">Campaign Expert</div>
                                            <div class="text-xs text-gray-500">500+ Campaigns</div>
                                        </div>
                                        <div
                                            class="achievement-badge text-center p-4 rounded-lg bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200">
                                            <div class="text-4xl mb-2">üéØ</div>
                                            <div class="font-semibold text-sm">Goal Achiever</div>
                                            <div class="text-xs text-gray-500">100% Targets</div>
                                        </div>
                                        <div
                                            class="achievement-badge text-center p-4 rounded-lg bg-gradient-to-br from-indigo-50 to-indigo-100 border-2 border-indigo-200">
                                            <div class="text-4xl mb-2">üíé</div>
                                            <div class="font-semibold text-sm">Premium Admin</div>
                                            <div class="text-xs text-gray-500">Level 10</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Experience Section (Hidden by default) -->
                            <div id="credentials-experience-section" class="credentials-section hidden">
                                <div class="dashboard-grid mb-8">
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Total Experience</h3>
                                        <p class="text-3xl font-bold mt-2 text-blue-500">4+ Years</p>
                                    </div>
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Campaigns Managed</h3>
                                        <p class="text-3xl font-bold mt-2 text-green-500">1,200+</p>
                                    </div>
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Brands Onboarded</h3>
                                        <p class="text-3xl font-bold mt-2 text-purple-500">150+</p>
                                    </div>
                                    <div class="card p-4">
                                        <h3 class="text-gray-600 text-sm font-semibold">Total Ad Budget</h3>
                                        <p class="text-3xl font-bold mt-2 text-orange-500">50M ETB</p>
                                    </div>
                                </div>

                                <div class="card p-6">
                                    <h3 class="text-xl font-semibold mb-6">Work Experience</h3>
                                    <div class="space-y-6">
                                        <div class="relative pl-8 border-l-4 border-blue-500">
                                            <div
                                                class="absolute -left-3 top-0 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center">
                                                <span class="text-white text-xs">‚úì</span>
                                            </div>
                                            <div class="bg-blue-50 p-4 rounded-lg">
                                                <div class="flex justify-between items-start mb-2">
                                                    <div>
                                                        <h4 class="font-bold text-lg">Senior Advertiser Administrator
                                                        </h4>
                                                        <p class="text-blue-600 font-semibold">Astegni Education
                                                            Platform</p>
                                                    </div>
                                                    <span
                                                        class="px-3 py-1 bg-blue-500 text-white rounded-full text-xs font-semibold">Current</span>
                                                </div>
                                                <p class="text-sm text-gray-600 mb-2">Jan 2023 - Present</p>
                                                <ul class="text-sm text-gray-700 list-disc list-inside space-y-1">
                                                    <li>Lead campaign verification and advertiser relations</li>
                                                    <li>Manage campaign approvals and performance tracking</li>
                                                    <li>Increased advertiser retention by 35%</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Reviews Panel -->
                        <div id="reviews-panel" class="panel-content hidden">
                            <div class="mb-8">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h1 class="text-3xl font-bold mb-2">Platform Reviews</h1>
                                        <p class="text-gray-600">View and manage reviews from users about the Astegni
                                            platform</p>
                                    </div>
                                    <div class="flex gap-2">
                                        <select id="reviews-role-filter" onchange="filterReviews()"
                                            class="px-4 py-2 border rounded-lg bg-white">
                                            <option value="">All Roles</option>
                                            <option value="student">Students</option>
                                            <option value="tutor">Tutors</option>
                                            <option value="parent">Parents</option>
                                            <option value="advertiser">Advertisers</option>
                                        </select>
                                        <select id="reviews-rating-filter" onchange="filterReviews()"
                                            class="px-4 py-2 border rounded-lg bg-white">
                                            <option value="">All Ratings</option>
                                            <option value="5">5 Stars</option>
                                            <option value="4">4 Stars</option>
                                            <option value="3">3 Stars</option>
                                            <option value="2">2 Stars</option>
                                            <option value="1">1 Star</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Reviews Stats Cards -->
                            <div class="dashboard-grid mb-8">
                                <div class="card p-4">
                                    <h3 class="text-gray-600 text-sm font-semibold">Total Reviews</h3>
                                    <p class="text-3xl font-bold mt-2 text-blue-500" id="reviews-total">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-gray-600 text-sm font-semibold">Average Rating</h3>
                                    <p class="text-3xl font-bold mt-2 text-yellow-500" id="reviews-avg-rating">0.0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-gray-600 text-sm font-semibold">5-Star Reviews</h3>
                                    <p class="text-3xl font-bold mt-2 text-green-500" id="reviews-five-star">0</p>
                                </div>
                                <div class="card p-4">
                                    <h3 class="text-gray-600 text-sm font-semibold">Featured Reviews</h3>
                                    <p class="text-3xl font-bold mt-2 text-purple-500" id="reviews-featured">0</p>
                                </div>
                            </div>

                            <!-- Rating Distribution -->
                            <div class="card p-6 mb-8">
                                <h3 class="text-xl font-semibold mb-4">Rating Distribution</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center gap-3">
                                        <span class="w-16 text-sm text-gray-600">5 Stars</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-4">
                                            <div class="bg-green-500 h-4 rounded-full" id="rating-bar-5"
                                                style="width: 0%"></div>
                                        </div>
                                        <span class="w-12 text-sm text-gray-600 text-right" id="rating-count-5">0</span>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="w-16 text-sm text-gray-600">4 Stars</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-4">
                                            <div class="bg-blue-500 h-4 rounded-full" id="rating-bar-4"
                                                style="width: 0%"></div>
                                        </div>
                                        <span class="w-12 text-sm text-gray-600 text-right" id="rating-count-4">0</span>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="w-16 text-sm text-gray-600">3 Stars</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-4">
                                            <div class="bg-yellow-500 h-4 rounded-full" id="rating-bar-3"
                                                style="width: 0%"></div>
                                        </div>
                                        <span class="w-12 text-sm text-gray-600 text-right" id="rating-count-3">0</span>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="w-16 text-sm text-gray-600">2 Stars</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-4">
                                            <div class="bg-orange-500 h-4 rounded-full" id="rating-bar-2"
                                                style="width: 0%"></div>
                                        </div>
                                        <span class="w-12 text-sm text-gray-600 text-right" id="rating-count-2">0</span>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="w-16 text-sm text-gray-600">1 Star</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-4">
                                            <div class="bg-red-500 h-4 rounded-full" id="rating-bar-1"
                                                style="width: 0%"></div>
                                        </div>
                                        <span class="w-12 text-sm text-gray-600 text-right" id="rating-count-1">0</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Reviews List -->
                            <div class="card p-6">
                                <h3 class="text-xl font-semibold mb-4">All Reviews</h3>
                                <div id="reviews-list" class="space-y-4">
                                    <p class="text-gray-500 text-center py-4">Loading reviews...</p>
                                </div>
                                <!-- Pagination -->
                                <div id="reviews-pagination" class="flex justify-center gap-2 mt-6 hidden">
                                    <button onclick="loadReviews(currentReviewsPage - 1)" id="reviews-prev-btn"
                                        class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50"
                                        disabled>Previous</button>
                                    <span id="reviews-page-info" class="px-4 py-2">Page 1</span>
                                    <button onclick="loadReviews(currentReviewsPage + 1)" id="reviews-next-btn"
                                        class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300">Next</button>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Portfolio Panel -->
                    <div id="portfolio-panel" class="panel-content hidden">
                        <div class="mb-8">
                            <h1 class="text-3xl font-bold mb-2">My Portfolio</h1>
                            <p class="text-gray-600">Showcase your work, achievements, and professional accomplishments
                            </p>
                        </div>
                        <!-- Coming Soon -->
                        <div class="flex flex-col items-center justify-center py-20">
                            <div
                                class="w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-6">
                                <i class="fas fa-folder-open text-white text-5xl"></i>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-700 mb-2">Coming Soon</h2>
                            <p class="text-gray-500 text-center max-w-md">
                                We're working on an amazing portfolio feature where you can showcase your work,
                                achievements, and professional accomplishments. Stay tuned!
                            </p>
                            <div class="mt-6 flex items-center gap-2 text-blue-600">
                                <i class="fas fa-clock"></i>
                                <span class="text-sm">Expected: Q2 2025</span>
                            </div>
                        </div>
                    </div>

                    <!-- Settings Panel -->
                    <div id="settings-panel" class="panel-content hidden">
                        <div class="mb-8">
                            <h1 class="text-3xl font-bold mb-2">Settings</h1>
                            <p class="text-gray-600">Manage your account preferences and configurations</p>
                        </div>
                        <!-- Settings Cards Grid -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Verify Personal Information Card -->
                            <div class="card p-6 hover:shadow-lg transition-shadow cursor-pointer"
                                onclick="openVerifyPersonalInfoModal()">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                        <i class="fas fa-user-check text-blue-600 text-2xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold mb-1">Verify Personal Information</h3>
                                        <p class="text-gray-500 text-sm">Update and verify your personal details for
                                            account security</p>
                                    </div>
                                </div>
                            </div>
                            <!-- Add Payment Method Card -->
                            <div class="card p-6 hover:shadow-lg transition-shadow cursor-pointer"
                                onclick="openAddPaymentMethodModal()">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                        <i class="fas fa-credit-card text-green-600 text-2xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold mb-1">Add Payment Method</h3>
                                        <p class="text-gray-500 text-sm">Set up your preferred payment methods for
                                            transactions</p>
                                    </div>
                                </div>
                            </div>
                            <!-- File a Leave Request Card -->
                            <div class="card p-6 hover:shadow-lg transition-shadow cursor-pointer"
                                onclick="openLeaveRequestModal()">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-14 h-14 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                        <i class="fas fa-calendar-minus text-purple-600 text-2xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold mb-1">File a Leave Request</h3>
                                        <p class="text-gray-500 text-sm">Submit time-off requests and manage your leave
                                            balance</p>
                                    </div>
                                </div>
                            </div>
                            <!-- Resign Card -->
                            <div class="card p-6 hover:shadow-lg transition-shadow cursor-pointer border-red-100"
                                onclick="openResignModal()">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-14 h-14 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                        <i class="fas fa-sign-out-alt text-red-600 text-2xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-red-600 mb-1">Resign</h3>
                                        <p class="text-gray-500 text-sm">Submit your resignation and begin the
                                            offboarding process</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar Widgets -->
                <div class="admin-right-widgets">

                    <!-- Campaign Requests Widget -->
                    <div class="admin-widget-card advertiser-requests-widget" id="campaign-requests-widget">
                        <h3 class="text-lg font-semibold mb-4">
                            üì¢ Live Campaign Requests
                            <span class="live-indicator ml-2 text-xs text-green-500">
                                <span class="inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                                Live
                            </span>
                        </h3>
                        <div class="advertiser-requests-container">
                            <div id="live-campaign-requests" class="advertiser-requests-scroll">
                                <p class="text-gray-500 text-sm text-center py-4">Loading campaign requests...</p>
                            </div>
                        </div>
                        <div class="advertiser-requests-fade-top"></div>
                        <div class="advertiser-requests-fade-bottom"></div>
                    </div>

                    <!-- Activity Stats Widget -->
                    <div class="admin-widget-card">
                        <h3 class="text-lg font-semibold mb-4" id="streak-widget-title">üìä Activity Stats</h3>
                        <div class="text-center">
                            <div class="text-4xl font-bold text-blue-500" id="streak-count">
                                <span id="campaign-total-widget">0</span>
                            </div>
                            <div class="text-sm text-gray-600">Total Campaigns</div>
                            <div class="mt-4 text-xs text-gray-500">
                                <span>Managing ad campaigns</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Daily Quota Widget -->
                    <div class="admin-widget-card">
                        <h3 class="text-lg font-semibold mb-4" id="quota-widget-title">Status Overview</h3>
                        <div class="space-y-3">
                            <!-- Campaign Quotas -->
                            <div id="campaign-quota-content">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Verified</span>
                                    <span class="font-semibold" id="quota-campaign-verified">0</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                                    <div class="bg-green-500 h-2 rounded-full" id="quota-campaign-verified-bar"
                                        style="width: 0%"></div>
                                </div>

                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Pending</span>
                                    <span class="font-semibold" id="quota-campaign-pending">0</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                                    <div class="bg-yellow-500 h-2 rounded-full" id="quota-campaign-pending-bar"
                                        style="width: 0%"></div>
                                </div>

                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Rejected</span>
                                    <span class="font-semibold" id="quota-campaign-rejected">0</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                                    <div class="bg-red-500 h-2 rounded-full" id="quota-campaign-rejected-bar"
                                        style="width: 0%"></div>
                                </div>

                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Suspended</span>
                                    <span class="font-semibold" id="quota-campaign-suspended">0</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-orange-500 h-2 rounded-full" id="quota-campaign-suspended-bar"
                                        style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End of admin-right-widgets -->

            </div>
            <!-- End of flex gap-6 container -->

        </div>
        <!-- End of container mx-auto px-4 -->
    </section>

    <!-- Footer -->
    <footer class="footer-section mt-16">
        <div class="container mx-auto px-4 py-8">
            <div class="text-center">
                <p>&copy; 2025 Astegni. All rights reserved. | Admin Panel</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="./js/api-config.js"></script>
    <script src="./js/auth.js"></script>

    <!-- Admin DB Service -->
    <script src="./js/admin-pages/shared/admin-api-service.js"></script>
    <script src="./js/admin-pages/shared/array-field-utils.js"></script>
    <!-- Geolocation Utils for GPS detection -->
    <script src="./js/admin-pages/shared/geolocation-utils.js"></script>

    <!-- Standalone Script - All Navigation & Panel Management -->
    <script src="./js/admin-pages/manage-advertisers-standalone.js"></script>

    <!-- Credentials Manager -->
    <script src="./js/admin-pages/shared/admin-credentials-manager.js"></script>

    <!-- Theme and Credentials Section Switching -->
    <script>
        // Switch between Achievements and Experience sections in Credentials panel
        function switchCredentialsSection(section) {
            const achievementsTab = document.getElementById('achievements-tab');
            const experienceTab = document.getElementById('experience-tab');
            const achievementsSection = document.getElementById('credentials-achievements-section');
            const experienceSection = document.getElementById('credentials-experience-section');

            if (section === 'achievements') {
                achievementsSection.classList.remove('hidden');
                experienceSection.classList.add('hidden');
                achievementsTab.classList.remove('bg-gray-100', 'hover:bg-gray-200');
                achievementsTab.classList.add('bg-blue-500', 'text-white');
                experienceTab.classList.remove('bg-blue-500', 'text-white');
                experienceTab.classList.add('bg-gray-100', 'hover:bg-gray-200');
            } else if (section === 'experience') {
                experienceSection.classList.remove('hidden');
                achievementsSection.classList.add('hidden');
                experienceTab.classList.remove('bg-gray-100', 'hover:bg-gray-200');
                experienceTab.classList.add('bg-blue-500', 'text-white');
                achievementsTab.classList.remove('bg-blue-500', 'text-white');
                achievementsTab.classList.add('bg-gray-100', 'hover:bg-gray-200');
            }
        }

        // Switch between Images and Videos tabs in Campaign Media section
        function switchCampaignMediaTab(tab) {
            const imagesTab = document.getElementById('campaign-images-tab');
            const videosTab = document.getElementById('campaign-videos-tab');
            const imagesContent = document.getElementById('campaign-images-content');
            const videosContent = document.getElementById('campaign-videos-content');

            if (tab === 'images') {
                imagesContent.classList.remove('hidden');
                videosContent.classList.add('hidden');
                imagesTab.classList.remove('border-transparent', 'text-gray-600', 'dark:text-gray-400');
                imagesTab.classList.add('border-blue-500', 'text-blue-600', 'dark:text-blue-400');
                videosTab.classList.remove('border-blue-500', 'text-blue-600', 'dark:text-blue-400');
                videosTab.classList.add('border-transparent', 'text-gray-600', 'dark:text-gray-400');
            } else if (tab === 'videos') {
                videosContent.classList.remove('hidden');
                imagesContent.classList.add('hidden');
                videosTab.classList.remove('border-transparent', 'text-gray-600', 'dark:text-gray-400');
                videosTab.classList.add('border-blue-500', 'text-blue-600', 'dark:text-blue-400');
                imagesTab.classList.remove('border-blue-500', 'text-blue-600', 'dark:text-blue-400');
                imagesTab.classList.add('border-transparent', 'text-gray-600', 'dark:text-gray-400');
            }
        }

        // Ensure dark theme background is applied correctly
        document.addEventListener('DOMContentLoaded', function () {
            function applyThemeBackground() {
                const theme = document.documentElement.getAttribute('data-theme');
                if (theme === 'dark') {
                    document.body.style.backgroundColor = '#1E1E1E';
                    document.documentElement.style.backgroundColor = '#1E1E1E';
                } else {
                    document.body.style.backgroundColor = '#ffffff';
                    document.documentElement.style.backgroundColor = '#ffffff';
                }
            }

            applyThemeBackground();

            const observer = new MutationObserver(function (mutations) {
                mutations.forEach(function (mutation) {
                    if (mutation.attributeName === 'data-theme') {
                        applyThemeBackground();
                    }
                });
            });

            observer.observe(document.documentElement, {
                attributes: true,
                attributeFilter: ['data-theme']
            });
        });
    </script>

    <!-- View Campaign Details Modal -->
    <div id="view-campaign-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div
            class="modal-content bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-4xl max-h-[85vh] overflow-y-auto mx-4">

            <!-- A. Modal Header - Brand Details -->
            <div class="border-b border-gray-200 dark:border-gray-700 pb-4 mb-6">
                <div class="flex justify-between items-start">
                    <div class="flex items-start gap-4 flex-1">
                        <img id="view-brand-logo" src="../system_images/default-brand.png" alt="Brand Logo"
                            class="w-16 h-16 rounded-lg object-cover border-2 border-gray-300">
                        <div class="flex-1">
                            <h3 class="text-2xl font-bold text-gray-900 dark:text-white" id="view-campaign-brand">Brand Name</h3>
                            <p class="text-gray-500 text-sm mt-1" id="view-brand-description">Brand description</p>
                            <div class="flex gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400">
                                <span><i class="fas fa-tag mr-1"></i><span id="view-brand-category">Category</span></span>
                                <span><i class="fas fa-globe mr-1"></i><span id="view-brand-website">Website</span></span>
                            </div>
                        </div>
                    </div>
                    <button onclick="closeViewCampaignModal()"
                        class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-3xl ml-4">&times;</button>
                </div>
            </div>

            <!-- B. Campaign Details -->
            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Campaign Details</h4>

                <!-- Campaign Name and ID -->
                <div class="mb-4">
                    <h5 class="text-lg font-bold text-gray-800 dark:text-gray-200" id="view-campaign-name">Campaign Name</h5>
                    <p class="text-gray-500 text-sm" id="view-campaign-id">ID: CMP-001</p>
                </div>

                <!-- Basic Info Grid -->
                <div class="grid grid-cols-3 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1">Ad Type</label>
                        <p class="text-base text-gray-800 dark:text-gray-200" id="view-campaign-type">Image</p>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1">Target Audience</label>
                        <p class="text-base text-gray-800 dark:text-gray-200" id="view-campaign-audience">Students</p>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1">Status</label>
                        <p id="view-campaign-status">
                            <span class="px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800">Pending</span>
                        </p>
                    </div>
                </div>

                <!-- Schedule -->
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1">Start Date</label>
                        <p class="text-base text-gray-800 dark:text-gray-200" id="view-campaign-start">N/A</p>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1">End Date</label>
                        <p class="text-base text-gray-800 dark:text-gray-200" id="view-campaign-end">N/A</p>
                    </div>
                </div>

                <!-- Description -->
                <div class="mb-4">
                    <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2">Campaign Description</label>
                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                        <p class="text-gray-700 dark:text-gray-300" id="view-campaign-description">No description available.</p>
                    </div>
                </div>

                <!-- Rejection/Suspension Reason (if applicable) -->
                <div id="view-campaign-reason-section" class="mb-4 hidden">
                    <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2" id="view-campaign-reason-label">Rejection Reason</label>
                    <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800">
                        <p class="text-red-700 dark:text-red-400" id="view-campaign-reason">Reason not specified</p>
                    </div>
                </div>

                <!-- Performance Statistics (for verified campaigns) -->
                <div id="view-campaign-stats-section" class="mb-4 hidden">
                    <label class="block text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2">Campaign Performance</label>
                    <div class="grid grid-cols-4 gap-4">
                        <div class="bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-blue-600" id="view-campaign-impressions">0</p>
                            <p class="text-xs text-gray-600 dark:text-gray-400">Impressions</p>
                        </div>
                        <div class="bg-green-50 dark:bg-green-900/20 p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-green-600" id="view-campaign-clicks">0</p>
                            <p class="text-xs text-gray-600 dark:text-gray-400">Clicks</p>
                        </div>
                        <div class="bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-purple-600" id="view-campaign-ctr">0%</p>
                            <p class="text-xs text-gray-600 dark:text-gray-400">CTR</p>
                        </div>
                        <div class="bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-orange-600" id="view-campaign-spent">0 ETB</p>
                            <p class="text-xs text-gray-600 dark:text-gray-400">Spent</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- C. Media Tab -->
            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Campaign Media</h4>

                <!-- Tab Navigation -->
                <div class="flex gap-2 mb-4 border-b border-gray-200 dark:border-gray-700">
                    <button onclick="switchCampaignMediaTab('images')"
                        id="campaign-images-tab"
                        class="px-4 py-2 font-semibold border-b-2 border-blue-500 text-blue-600 dark:text-blue-400">
                        <i class="fas fa-image mr-2"></i>Images
                    </button>
                    <button onclick="switchCampaignMediaTab('videos')"
                        id="campaign-videos-tab"
                        class="px-4 py-2 font-semibold border-b-2 border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200">
                        <i class="fas fa-video mr-2"></i>Videos
                    </button>
                </div>

                <!-- Images Tab Content -->
                <div id="campaign-images-content" class="min-h-[200px]">
                    <div id="campaign-images-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        <p class="text-gray-500 text-sm col-span-full text-center py-8">No images uploaded</p>
                    </div>
                </div>

                <!-- Videos Tab Content -->
                <div id="campaign-videos-content" class="min-h-[200px] hidden">
                    <div id="campaign-videos-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <p class="text-gray-500 text-sm col-span-full text-center py-8">No videos uploaded</p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex justify-end gap-3 border-t border-gray-200 dark:border-gray-700 pt-4">
                <button onclick="closeViewCampaignModal()"
                    class="px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">Close</button>
                <div id="view-campaign-actions" class="flex gap-2">
                    <!-- Action buttons will be populated dynamically based on status -->
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <!-- This modal edits manage_advertisers_profile table fields only -->
    <div id="edit-profile-modal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div
            class="modal-content bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-2xl max-h-[85vh] overflow-y-auto mx-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white">Edit Profile</h2>
                <button onclick="closeEditProfileModal()"
                    class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>

            <form id="edit-profile-form" class="space-y-4" onsubmit="handleProfileUpdate(event)">
                <!-- Username -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Username (Display
                        Name) <span class="text-red-500">*</span></label>
                    <input type="text" id="editUsername"
                        class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                        placeholder="your_username" required>
                    <p class="text-xs text-gray-500 mt-1">This will be displayed as your admin username</p>
                </div>

                <!-- Hero Titles (Array) -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Hero Titles</label>
                    <div id="heroTitleContainer" class="space-y-2">
                        <!-- Dynamic hero title inputs will be added here -->
                    </div>
                    <button type="button" onclick="addHeroTitleField()"
                        class="mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1">
                        <i class="fas fa-plus"></i> Add Hero Title
                    </button>
                    <p class="text-xs text-gray-500 mt-1">Add multiple titles (e.g., Advertisers Manager, Marketing
                        Lead)</p>
                </div>

                <!-- Hero Subtitle -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Hero Subtitle</label>
                    <input type="text" id="editHeroSubtitle"
                        class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                        placeholder="e.g., Astegni Admin Panel">
                </div>

                <!-- Bio -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Bio</label>
                    <textarea id="editBio" rows="3"
                        class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                        placeholder="Tell us about yourself..."></textarea>
                </div>

                <!-- Quote -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Quote</label>
                    <input type="text" id="editQuote"
                        class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                        placeholder="Your personal quote or motto">
                </div>

                <!-- Locations (Array) -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Locations</label>
                    <div id="locationContainer" class="space-y-2">
                        <!-- Dynamic location inputs will be added here -->
                    </div>
                    <button type="button" onclick="addLocationField()"
                        class="mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1">
                        <i class="fas fa-plus"></i> Add Location
                    </button>
                    <p class="text-xs text-gray-500 mt-1">Add multiple locations (e.g., Addis Ababa, Bahir Dar)</p>

                    <!-- Allow Location Checkbox with GPS Detection -->
                    <div class="flex items-center mt-3">
                        <input type="checkbox" id="editAllowLocation"
                            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"
                            onchange="handleAllowLocationChange(this)">
                        <label for="editAllowLocation"
                            class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                            Allow system to detect my location (GPS)
                        </label>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Uses GPS/WiFi positioning to detect your physical location
                        (not affected by VPN)</p>

                    <!-- Detect Location Button (shown when checkbox is checked) -->
                    <button type="button" id="detectLocationBtn" onclick="detectCurrentLocation()"
                        class="hidden mt-2 text-sm bg-green-500 text-white px-3 py-1.5 rounded-lg hover:bg-green-600 flex items-center gap-1">
                        <i class="fas fa-location-arrow mr-1"></i> Detect Location
                    </button>
                    <p id="locationStatus" class="hidden text-xs mt-1"></p>

                    <!-- Display Location Checkbox -->
                    <div class="flex items-center mt-3">
                        <input type="checkbox" id="editDisplayLocation"
                            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2">
                        <label for="editDisplayLocation"
                            class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                            Display location on my public profile
                        </label>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">When enabled, your location will be visible to others on your
                        profile</p>
                </div>

                <!-- Languages -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Languages</label>
                    <input type="text" id="editLanguages"
                        class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                        placeholder="e.g., English, Amharic, Oromo">
                    <p class="text-xs text-gray-500 mt-1">Separate multiple languages with commas</p>
                </div>

                <!-- Actions -->
                <div class="flex justify-end gap-3 pt-4 border-t dark:border-gray-600">
                    <button type="button" onclick="closeEditProfileModal()"
                        class="px-6 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 dark:border-gray-600 dark:text-gray-300">Cancel</button>
                    <button type="submit" id="editProfileSubmitBtn"
                        class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        <i class="fas fa-save mr-2"></i>Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modals Container -->
    <div id="add-department-modal-container"></div>
    <div id="notification-modal-container"></div>
    <div id="logout-modal-container"></div>

    <!-- Load Common Modals -->
    <script>
        // Load modals from common-modals directory
        ['add-department-modal', 'notification-modal', 'logout-modal'].forEach(modal => {
            fetch(`common-modals/${modal}.html`)
                .then(response => response.text())
                .then(html => {
                    document.getElementById(`${modal}-container`).innerHTML = html;
                    const scripts = document.getElementById(`${modal}-container`).querySelectorAll('script');
                    scripts.forEach(script => {
                        const newScript = document.createElement('script');
                        newScript.textContent = script.textContent;
                        document.body.appendChild(newScript);
                    });
                })
                .catch(error => console.error(`Error loading ${modal}:`, error));
        });

        // Placeholder functions
        if (typeof window.openAddDepartmentModal !== 'function') {
            window.openAddDepartmentModal = function () {
                const modal = document.getElementById('add-department-modal');
                if (modal) modal.classList.add('active');
            };
        }
        if (typeof window.closeAddDepartmentModal !== 'function') {
            window.closeAddDepartmentModal = function () {
                const modal = document.getElementById('add-department-modal');
                if (modal) modal.classList.remove('active');
            };
        }
    </script>

</body>

</html>