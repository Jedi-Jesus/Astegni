<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTEGNI - View Student</title>
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Animate.css for animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <!-- Custom Styles -->
    <link rel="stylesheet" href="../css/root.css?v=3">
    <!-- admin.css removed - not needed for view pages, was causing tooltip transparency -->
    <link rel="stylesheet" href="../css/tutor-profile/tutor-profile.css?v=3">
    <link rel="stylesheet" href="../css/find-tutors/hero-section.css?v=3">
    <link rel="stylesheet" href="../css/view-student/view-student.css?v=4">
    <!-- Clubs & Events Styles -->
    <link rel="stylesheet" href="../css/view-student/clubs-events.css">
    <!-- Shared Modal Styles -->
    <link rel="stylesheet" href="../css/common-modals/add-role-modal.css">
    <link rel="stylesheet" href="../css/common-modals/coming-soon-modal.css">
    <link rel="stylesheet" href="../css/common-modals/ad-modal.css">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Minimal inline styles - only for profile-specific fixes -->
    <style>
        /* Compensate for fixed navbar */
        body {
            padding-top: 72px;
        }

        /* Profile header fixes */
        .profile-header-section {
            overflow: visible !important;
        }

        .profile-name {
            font-size: 2rem;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            white-space: normal !important;
            overflow: visible !important;
            text-overflow: clip !important;
            word-wrap: break-word;
        }

        /* Related Tutors Section - Fade-in styling */
        .related-tutors-section {
            margin-top: 3rem;
            margin-bottom: 3rem;
            opacity: 0;
            animation: fadeInSection 1s ease forwards;
            animation-delay: 0.3s;
        }

        @keyframes fadeInSection {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .related-tutors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .tutor-card-minimal {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            opacity: 0;
            animation: fadeInCard 0.6s ease forwards;
        }

        .tutor-card-minimal:nth-child(1) {
            animation-delay: 0.5s;
        }

        .tutor-card-minimal:nth-child(2) {
            animation-delay: 0.6s;
        }

        .tutor-card-minimal:nth-child(3) {
            animation-delay: 0.7s;
        }

        .tutor-card-minimal:nth-child(4) {
            animation-delay: 0.8s;
        }

        @keyframes fadeInCard {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tutor-card-minimal:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .tutor-card-minimal .tutor-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 1rem;
            border: 3px solid var(--button-bg);
        }

        .tutor-card-minimal .tutor-name {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--heading);
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .tutor-card-minimal .tutor-subjects {
            font-size: 0.875rem;
            color: var(--text-muted);
            text-align: center;
            margin-bottom: 0.75rem;
        }

        .tutor-card-minimal .tutor-rating {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #f59e0b;
            margin-bottom: 1rem;
        }

        .tutor-card-minimal .view-profile-btn {
            width: 100%;
            padding: 0.625rem;
            background: var(--button-bg);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tutor-card-minimal .view-profile-btn:hover {
            background: var(--button-hover);
            transform: scale(1.05);
        }

        /* Right sidebar container - matching student-profile.html exactly */
        .right-sidebar-container {
            width: 320px !important;
            flex-shrink: 0 !important;
            position: sticky !important;
            top: 5rem !important;
            height: fit-content !important;
        }

        .right-sidebar-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Main content animation when sidebar opens - only target the main section */
        section.py-8 {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(0);
            position: relative;
        }

        section.py-8.sidebar-active {
            transform: translateX(280px) !important;
        }

        /* Prevent nested sections from double-transforming */
        section.sidebar-active section {
            transform: none !important;
        }

        /* Specifically prevent these nested sections from shifting */
        .profile-header-section.sidebar-active,
        .related-tutors-section.sidebar-active,
        .bottom-widgets.sidebar-active,
        .hero-section.sidebar-active {
            transform: none !important;
        }

        /* Ad containers animation */
        .ad-container.sidebar-active,
        .ad-placeholder.sidebar-active {
            transform: translateX(280px) !important;
        }

        /* Body animation for full page push */
        body {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.sidebar-active {
            overflow-x: hidden;
        }

        /* Story Ring Animation - Astegni Theme */
        @keyframes astegniPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4);
            }

            70% {
                box-shadow: 0 0 0 15px rgba(79, 70, 229, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(79, 70, 229, 0);
            }
        }

        .story-ring-container:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
            box-shadow: 0 10px 30px rgba(79, 70, 229, 0.3);
        }

        /* Story Viewer Modal */
        .story-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .story-modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .story-content {
            max-width: 500px;
            max-height: 90vh;
            position: relative;
        }

        .story-image {
            width: 100%;
            height: auto;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 12px;
        }

        .story-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 24px;
            transition: all 0.3s ease;
        }

        .story-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        /* Rating Tooltip Styles - Matching tutor-profile.html */
        .rating-tooltip-container {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }

        .rating-tooltip {
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--card-bg) !important;
            border: 1px solid rgba(var(--border-rgb), 0.2);
            border-radius: 16px;
            padding: 1.25rem;
            min-width: 320px;
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 10000;
            pointer-events: none;
            backdrop-filter: none !important;
        }

        .rating-tooltip-container:hover .rating-tooltip {
            opacity: 1;
            visibility: visible;
            bottom: calc(100% + 10px);
            pointer-events: auto;
        }

        .rating-tooltip::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: var(--card-bg) !important;
            filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.1));
        }

        /* Dark mode support - now handled by var(--card-bg) */

        /* Rating Metrics */
        .rating-metric {
            margin-bottom: 0.75rem;
        }

        .rating-metric:last-child {
            margin-bottom: 0;
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.25rem;
        }

        .metric-label {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .metric-score {
            font-size: 0.8rem;
            font-weight: 600;
            color: #f59e0b;
        }

        .metric-bar {
            height: 6px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        [data-theme="dark"] .metric-bar {
            background: rgba(255, 255, 255, 0.1);
        }

        .metric-fill {
            height: 100%;
            background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%);
            border-radius: 3px;
            transition: width 0.6s ease;
        }

        .story-progress {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }

        .story-progress-bar {
            height: 100%;
            background: white;
            border-radius: 2px;
            width: 0;
            animation: storyProgress 5s linear forwards;
        }

        @keyframes storyProgress {
            from {
                width: 0;
            }

            to {
                width: 100%;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Story Panel Styles - Astegni Theme */
        .story-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .story-card img {
            transition: transform 0.3s ease;
        }

        .story-card:hover img {
            transform: scale(1.05);
        }

        .tutor-stories-grid {
            animation: fadeIn 0.6s ease;
        }

        /* Story Viewer Enhanced */
        .story-viewer-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .story-viewer-modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .story-viewer-content {
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            position: relative;
        }

        .story-navigation {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            pointer-events: none;
        }

        .story-nav-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            pointer-events: all;
            transition: all 0.3s ease;
        }

        .story-nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .story-viewer-modal .story-header {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 10;
        }

        .story-user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px 12px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }

        .story-user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .story-user-details {
            color: white;
        }

        .story-username {
            font-weight: 600;
            font-size: 0.875rem;
            margin: 0;
        }

        .story-time {
            font-size: 0.75rem;
            opacity: 0.8;
            margin: 0;
        }

        /* Sidebar animation styles */
        #sidebar {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #sidebar.active {
            transform: translateX(0);
        }

        /* Responsive behavior */
        @media (max-width: 768px) {
            section.py-8.sidebar-active {
                transform: translateX(0) !important;
            }

            .ad-container.sidebar-active,
            .ad-placeholder.sidebar-active {
                transform: translateX(0) !important;
            }
        }

        /* Panel system */
        .panel-content {
            display: none;
        }

        .panel-content.active {
            display: block;
        }

        /* ============================================
           SUCCESS STORIES TICKER ANIMATION
           ============================================ */
        .success-ticker-container {
            height: 120px;
            overflow: hidden;
            position: relative;
            background: rgba(var(--button-bg-rgb), 0.02);
            border-radius: var(--radius-md);
        }

        .success-ticker,
        .subjects-ticker {
            animation: successTickerRoll 18s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }

        .success-story-item {
            display: flex;
            align-items: start;
            gap: 0.5rem;
            padding: 0.75rem;
            height: 120px;
            box-sizing: border-box;
            transition: background var(--transition-base);
        }

        .success-story-item:hover {
            background: rgba(var(--button-bg-rgb), 0.05);
        }

        /* Success Story Cards for Main Section - REMOVED: Now in css/view-tutor/view-tutor.css */
        /* These inline styles were conflicting with the external stylesheet */
        /* All .success-story, .story-student, .story-rating, .story-quote, .story-time styles moved to external CSS */

        @keyframes successTickerRoll {
            0% {
                transform: translateY(0);
            }

            14.28% {
                transform: translateY(0);
            }

            14.29% {
                transform: translateY(-120px);
            }

            28.57% {
                transform: translateY(-120px);
            }

            28.58% {
                transform: translateY(-240px);
            }

            42.86% {
                transform: translateY(-240px);
            }

            42.87% {
                transform: translateY(-360px);
            }

            57.14% {
                transform: translateY(-360px);
            }

            57.15% {
                transform: translateY(-480px);
            }

            71.43% {
                transform: translateY(-480px);
            }

            71.44% {
                transform: translateY(-600px);
            }

            85.71% {
                transform: translateY(-600px);
            }

            85.72% {
                transform: translateY(-720px);
            }

            99.99% {
                transform: translateY(-720px);
            }

            100% {
                transform: translateY(0);
            }
        }

        /* Pause animation on hover */
        .success-ticker-container:hover .success-ticker,
        .success-ticker-container:hover .subjects-ticker {
            animation-play-state: paused;
        }
    </style>
    <!-- Profile Dropdown Fix - MUST load last -->
    <link rel="stylesheet" href="../css/view-student/profile-specific-fix.css">
</head>

<body class="font-sans">

    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container" style="max-width: 100%; padding: 0 1rem;">
            <div class="nav-brand">
                <button class="sidebar-toggle" id="hamburger" aria-label="Toggle sidebar">
                    <span class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                </button>
                <a href="../index.html" class="logo-container">
                    <div class="logo-text">
                        <span class="logo-main">Astegni</span>
                        <span class="logo-sub">View Student</span>
                    </div>
                    <span class="logo-badge">Beta</span>
                </a>
            </div>

            <!-- Right Section: Nav Menu + Actions -->
            <div class="nav-actions" style="display: flex; align-items: center; gap: 0.5rem; margin-right: 0;">
                <div class="nav-items" style="display: flex; gap: 0.25rem;">
                    <a class="nav-link" href="../index.html">
                        <span class="nav-icon">üè†</span> Home
                    </a>
                    <a class="nav-link" href="#" onclick="handleNavLinkClick(event, 'news')">
                        <span class="nav-icon">üì∞</span> News
                    </a>
                    <a class="nav-link" href="../branch/find-tutors.html">
                        <span class="nav-icon">üë®‚Äçüè´</span> Find Tutors
                    </a>
                    <a class="nav-link" href="../branch/reels.html">
                        <span class="nav-icon">üé¨</span> Reels
                    </a>
                    <a class="nav-link" href="#" onclick="handleNavLinkClick(event, 'store')">
                        <span class="nav-icon">üìö</span> Bookstore
                    </a>
                    <a class="nav-link" href="#" onclick="handleNavLinkClick(event, 'find-jobs')">
                        <span class="nav-icon">üíº</span> Find a Job
                    </a>
                </div>
                <!-- Profile container -->
                <div id="profile-container" class="profile-dropdown-container">
                    <button id="profile-dropdown-toggle" class="profile-dropdown-toggle"
                        onclick="toggleProfileDropdown()">
                        <img id="profile-pic" class="profile-pic" alt="Profile">
                        <span id="profile-name" class="profile-name"></span>
                        <svg class="dropdown-arrow" width="12" height="12" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>

                    <div id="profile-dropdown-menu" class="profile-dropdown-menu">
                        <!-- User info header - CLICKABLE to go to profile page -->
                        <a href="#" id="dropdown-profile-link" class="dropdown-header-link">
                            <div class="dropdown-header">
                                <img id="dropdown-profile-pic" class="profile-pic" alt="Profile">
                                <div class="dropdown-user-info">
                                    <span id="dropdown-user-name" class="dropdown-user-name"></span>
                                    <span id="dropdown-user-email" class="dropdown-user-email"></span>
                                    <span id="dropdown-user-role" class="dropdown-user-role"></span>
                                </div>
                                <svg class="dropdown-header-arrow" width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                        </a>

                        <div class="dropdown-divider"></div>

                        <!-- Role switcher (shown only if user has multiple roles) -->
                        <div id="role-switcher-section" class="role-switcher-section hidden">
                            <div class="dropdown-item-header">Switch Role</div>
                            <div id="role-options" class="role-options">
                                <!-- Role options will be dynamically added here -->
                            </div>
                            <div class="dropdown-divider"></div>
                        </div>

                        <div class="dropdown-divider"></div>

                        <button class="dropdown-item logout-item" onclick="logout()">
                            <svg class="dropdown-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                                </path>
                            </svg>
                            Logout
                        </button>
                    </div>
                </div>

                <!-- Notification Icon -->
                <button class="icon-btn" aria-label="Notifications">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
                        </path>
                    </svg>
                    <span class="notification-badge">3</span>
                </button>

                <!-- Theme Toggle -->
                <button id="theme-toggle-btn" class="icon-btn" aria-label="Toggle theme">
                    <svg id="theme-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                        </path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Top Advertisement Placeholder -->
    <div class="ad-container premium-ad" style="margin-top: 2rem;" onclick="openAdAnalyticsModal()">
        <div class="ad-animation">
            <div class="pulse-ring"></div>
            <div class="pulse-ring"></div>
        </div>
        <div class="ad-content">
            <span class="ad-label">Advertisement</span>
            <h3 class="ad-title">Unlock Your Full Potential</h3>
            <p class="ad-text">Premium tutoring available</p>
            <button class="ad-cta" onclick="openAdAnalyticsModal()">Learn More</button>
        </div>
        <div class="ad-visual">
            <div class="ad-circles">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
                <div class="circle circle-3"></div>
            </div>
        </div>
    </div>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar-container">
        <div class="sidebar-content">
            <div class="sidebar-nav">
                <h3>Student Information</h3>

                <a href="#" onclick="switchPanel('dashboard'); return false;" class="sidebar-link active">
                    <span class="sidebar-icon">üìä</span>
                    <span>Dashboard</span>
                </a>
                <a href="#" onclick="switchPanel('overview'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üë§</span>
                    <span>Student Overview</span>
                </a>
                <hr class="my-4 border-gray-300">
                <a href="#" onclick="switchPanel('credentials'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üìú</span>
                    <span>Credentials</span>
                    <span class="badge-count">12</span>
                </a>
                <hr class="my-4 border-gray-300">
                <a href="#" onclick="switchPanel('blog'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üìù</span>
                    <span>Blog</span>
                    <span class="badge-count">7</span>
                </a>
                <a href="#" onclick="switchPanel('clubs'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üë•</span>
                    <span>Clubs</span>
                    <span class="badge-count">Active</span>
                </a>
                <a href="#" onclick="switchPanel('events'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üìÖ</span>
                    <span>Events</span>
                    <span class="badge-count">3</span>
                </a>
                <hr class="my-4 border-gray-300">
                <a href="#" onclick="switchPanel('parents'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üë®‚Äçüë©‚Äçüëß</span>
                    <span>Parents</span>
                    <span class="badge-count">2</span>
                </a>
                <a href="#" onclick="switchPanel('behavioral-notes'); return false;" class="sidebar-link">
                    <span class="sidebar-icon">üìã</span>
                    <span>Behavioral Notes</span>
                    <span class="badge-count">12</span>
                </a>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <section class="py-8" style="padding-top: 1rem;">
        <div class="container mx-auto px-4">

            <!-- Main Content with Widgets -->
            <div class="flex gap-6">
                <!-- Left Content Area -->
                <div class="flex-1" style="min-width: 0;">
                    <!-- Panels Section -->
                    <div class="panels-container">
                        <!-- Dashboard Panel (Default) -->
                        <div id="dashboard-panel" class="panel-content active">

                            <!-- Hero Section -->
                            <section class="hero-section animate__animated animate__fadeIn mb-8">
                                <h2 class="hero-title">
                                    <span id="typedText">Excellence in Learning, Driven by Passion</span>
                                    <span id="cursor" class="cursor-blink">|</span>
                                </h2>
                                <p id="hero-subtitle" class="hero-subtitle">Dedicated student pursuing academic excellence and personal growth</p>
                            </section>

                            <!-- Profile Header Section (Only visible in Dashboard) -->
                            <section class="profile-header-section mb-8">
                                <div class="cover-image-container relative">
                                    <img id="cover-img"
                                        src="../uploads/system_images/system_cover_pictures/students cover.jpeg"
                                        alt="Cover" class="cover-img">
                                    <div class="cover-overlay"></div>
                                    <!-- View Mode Badge -->
                                    <div class="view-mode-badge">
                                        <span>üëÅÔ∏è</span>
                                        <span>View Mode</span>
                                    </div>
                                </div>

                                <div class="profile-main-info">
                                    <div class="profile-info-wrapper">
                                        <div class="profile-avatar-container">
                                            <img id="profile-avatar"
                                                src="../uploads/system_images/system_profile_pictures/student-college-girl.jpg"
                                                alt="Student Profile" class="profile-avatar">
                                            <span class="online-indicator"></span>
                                        </div>

                                        <div class="profile-details-section" style="flex: 1; padding-top: 1.5rem;">
                                            <div class="profile-name-row" style="margin-bottom: 1.25rem;">
                                                <h1 class="profile-name" id="studentName"
                                                    style="margin-bottom: 0.5rem; white-space: nowrap !important; word-break: keep-all !important; max-width: none !important; width: auto !important; display: inline-block !important;">
                                                    Sarah Kebede</h1>
                                                <!-- Username field under name -->
                                                <div id="studentUsername"
                                                    style="font-size: 0.95rem; color: var(--text-muted); font-weight: 500; margin-bottom: 1rem;">
                                                    <!-- Username will be populated dynamically -->
                                                </div>
                                                <div class="badges-row"
                                                    style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 1rem; margin-top: 1rem;">
                                                    <span class="profile-badge verified" id="verification-badge">‚úî
                                                        Verified Student</span>
                                                    <span class="profile-badge school" id="subject-badge">üìö
                                                        Grade 12</span>
                                                    <span class="profile-badge expert">‚≠ê Honor Roll Student</span>
                                                </div>
                                            </div>

                                            <div class="rating-section" style="margin-bottom: 1rem;">
                                                <div class="rating-wrapper"
                                                    style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <div class="rating-tooltip-container">
                                                        <div class="rating-stars" id="rating-stars"
                                                            style="color: #f59e0b; font-size: 1.5rem; letter-spacing: 2px;">
                                                            ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                                        <div class="rating-tooltip" id="rating-tooltip">
                                                            <h4
                                                                style="margin: 0 0 1rem 0; font-size: 0.9rem; font-weight: 600; color: var(--heading);">
                                                                Rating Breakdown</h4>

                                                            <div class="rating-metric">
                                                                <div class="metric-header">
                                                                    <span class="metric-label">Class Activity</span>
                                                                    <span class="metric-score">4.6</span>
                                                                </div>
                                                                <div class="metric-bar">
                                                                    <div class="metric-fill" style="width: 92%"></div>
                                                                </div>
                                                            </div>

                                                            <div class="rating-metric">
                                                                <div class="metric-header">
                                                                    <span class="metric-label">Discipline</span>
                                                                    <span class="metric-score">4.7</span>
                                                                </div>
                                                                <div class="metric-bar">
                                                                    <div class="metric-fill" style="width: 94%"></div>
                                                                </div>
                                                            </div>

                                                            <div class="rating-metric">
                                                                <div class="metric-header">
                                                                    <span class="metric-label">Punctuality</span>
                                                                    <span class="metric-score">4.4</span>
                                                                </div>
                                                                <div class="metric-bar">
                                                                    <div class="metric-fill" style="width: 88%"></div>
                                                                </div>
                                                            </div>

                                                            <div class="rating-metric">
                                                                <div class="metric-header">
                                                                    <span class="metric-label">Communication</span>
                                                                    <span class="metric-score">4.3</span>
                                                                </div>
                                                                <div class="metric-bar">
                                                                    <div class="metric-fill" style="width: 86%"></div>
                                                                </div>
                                                            </div>

                                                            <div class="rating-metric">
                                                                <div class="metric-header">
                                                                    <span class="metric-label">Subject Intake</span>
                                                                    <span class="metric-score">4.5</span>
                                                                </div>
                                                                <div class="metric-bar">
                                                                    <div class="metric-fill" style="width: 90%"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <span class="rating-value" id="student-rating"
                                                        style="font-size: 1.5rem; font-weight: 700; color: #f59e0b;">4.5</span>
                                                    <span class="rating-count" id="rating-count"
                                                        style="color: var(--text-secondary); font-size: 0.95rem; font-weight: 500;">(12
                                                        reviews)</span>
                                                </div>
                                            </div>

                                            <!-- Gender and Location in One Row -->
                                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; margin-bottom: 0.75rem;">
                                                <!-- Gender -->
                                                <div class="profile-location" id="gender-container">
                                                    <span class="location-icon">üë§</span>
                                                    <span id="student-gender">Female</span>
                                                </div>

                                                <!-- Location -->
                                                <div class="profile-location">
                                                    <span class="location-icon">üìç</span>
                                                    <span id="student-location">Addis Ababa, Ethiopia | 12th Grade</span>
                                                </div>
                                            </div>

                                            <!-- Contact Information (Email & Phone) -->
                                            <div class="profile-contact-info"
                                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; margin-bottom: 0.75rem;">
                                                <div id="email-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üìß</span>
                                                    <div style="flex: 1; overflow: hidden;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Email</div>
                                                        <div id="student-email"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                                            email@example.com</div>
                                                    </div>
                                                </div>
                                                <div id="phone-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üì±</span>
                                                    <div style="flex: 1;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Phone</div>
                                                        <div id="student-phone"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500;">
                                                            +251 912 345 678</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Currently Studying At & Grade Level (Contact Info Style) -->
                                            <div class="profile-contact-info"
                                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; margin-bottom: 0.75rem;">
                                                <div id="school-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üè´</span>
                                                    <div style="flex: 1;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Currently Studying At</div>
                                                        <div id="student-school"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500;">
                                                            St. Joseph School</div>
                                                    </div>
                                                </div>
                                                <div id="grade-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üéì</span>
                                                    <div style="flex: 1;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Grade Level</div>
                                                        <div id="student-grade"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500;">
                                                            Grade 12</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Interested In & Learning Methods (Contact Info Style) -->
                                            <div class="profile-contact-info"
                                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; margin-bottom: 0.75rem;">
                                                <div id="subjects-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üìö</span>
                                                    <div style="flex: 1;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Interested In</div>
                                                        <div id="interested-in"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500;">
                                                            Mathematics, Physics, Chemistry</div>
                                                    </div>
                                                </div>
                                                <div id="learning-methods-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üéØ</span>
                                                    <div style="flex: 1;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Preferred Learning Method</div>
                                                        <div id="student-learning-methods"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500;">
                                                            Visual, Hands-on</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Languages and Hobbies (Card Style - Matching Other Sections) -->
                                            <div class="profile-contact-info"
                                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; margin-bottom: 0.75rem;">
                                                <div id="languages-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üåê</span>
                                                    <div style="flex: 1;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Languages</div>
                                                        <div id="student-languages-compact"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500;">
                                                            English, Amharic</div>
                                                    </div>
                                                </div>
                                                <div id="hobbies-container"
                                                    style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px;">
                                                    <span style="font-size: 1.25rem;">üé®</span>
                                                    <div style="flex: 1;">
                                                        <div
                                                            style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.125rem;">
                                                            Hobbies</div>
                                                        <div id="student-hobbies-compact"
                                                            style="color: var(--text); font-size: 0.875rem; font-weight: 500;">
                                                            Reading, Sports</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="profile-quote">
                                                <span id="student-quote">"Knowledge is power. Learning never
                                                    stops."</span>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div style="margin-top: 1.5rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                                <!-- Connect Button -->
                                                <button onclick="connectStudent()" class="btn-primary" style="padding: 0.875rem; font-size: 1rem; font-weight: 600; border-radius: 12px; display: flex; align-items: center; justify-content: center; gap: 0.5rem; transition: all 0.3s; border: none; cursor: pointer;">
                                                    <span>üîó</span> Connect
                                                </button>

                                                <!-- Message Button -->
                                                <button onclick="messageStudent()" style="padding: 0.875rem; font-size: 1rem; font-weight: 600; border-radius: 12px; display: flex; align-items: center; justify-content: center; gap: 0.5rem; transition: all 0.3s; background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; border: none; cursor: pointer; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);">
                                                    <span>üí¨</span> Message
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- About Section -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: var(--heading);">
                                    About This Student</h3>
                                <p id="student-bio" style="color: var(--text); line-height: 1.7;">Passionate about
                                    learning and technology. Currently in 12th grade with a focus on STEM subjects.
                                    Active member of the school's robotics club and debate team.</p>
                            </section>

                            <!-- Recent Feedback from Tutors Section -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h2
                                    style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.75rem;">
                                    <span>üí¨</span> Recent Feedback from Tutors & Parents
                                </h2>
                                <div id="recent-feedback-container"
                                    style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                                    <!-- Feedback cards will be dynamically loaded here -->
                                    <div
                                        style="grid-column: 1 / -1; text-align: center; padding: 2rem; color: var(--text-secondary);">
                                        Loading feedback...
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Student Overview Panel -->
                        <div id="overview-panel" class="panel-content">
                            <h2
                                style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem; color: var(--heading); display: flex; align-items: center; gap: 0.75rem;">
                                <span>üë§</span> Student Overview
                            </h2>

                            <!-- Academic Profile Summary -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üìã</span> Academic Profile
                                </h3>
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #3b82f6;">
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                            Student ID</p>
                                        <p style="font-size: 1.25rem; font-weight: 600; color: var(--heading);">
                                            STD-2024-0542</p>
                                    </div>
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #10b981;">
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                            Grade Level</p>
                                        <p style="font-size: 1.25rem; font-weight: 600; color: var(--heading);">Grade 12
                                            (Senior Year)</p>
                                    </div>
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #f59e0b;">
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                            Academic Track</p>
                                        <p style="font-size: 1.25rem; font-weight: 600; color: var(--heading);">Natural
                                            Sciences</p>
                                    </div>
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #8b5cf6;">
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                            Enrollment Date</p>
                                        <p style="font-size: 1.25rem; font-weight: 600; color: var(--heading);">January
                                            2020</p>
                                    </div>
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #ef4444;">
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                            Expected Graduation</p>
                                        <p style="font-size: 1.25rem; font-weight: 600; color: var(--heading);">June
                                            2025</p>
                                    </div>
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #06b6d4;">
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                            Years in School</p>
                                        <p style="font-size: 1.25rem; font-weight: 600; color: var(--heading);">4 Years
                                        </p>
                                    </div>
                                </div>
                            </section>

                            <!-- Learning Progress Tracker -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üìà</span> Learning Progress Tracker
                                </h3>
                                <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                                    <!-- Mathematics Progress -->
                                    <div>
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                            <span style="font-weight: 600; color: var(--heading);">üìê Mathematics</span>
                                            <span style="font-weight: 600; color: #3b82f6;">92%</span>
                                        </div>
                                        <div
                                            style="width: 100%; height: 12px; background: rgba(var(--button-bg-rgb), 0.1); border-radius: 6px; overflow: hidden;">
                                            <div
                                                style="width: 92%; height: 100%; background: linear-gradient(90deg, #3b82f6, #2563eb); border-radius: 6px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">
                                            Excellent problem-solving skills, advanced calculus mastery</p>
                                    </div>

                                    <!-- Physics Progress -->
                                    <div>
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                            <span style="font-weight: 600; color: var(--heading);">‚öõÔ∏è Physics</span>
                                            <span style="font-weight: 600; color: #10b981;">88%</span>
                                        </div>
                                        <div
                                            style="width: 100%; height: 12px; background: rgba(var(--button-bg-rgb), 0.1); border-radius: 6px; overflow: hidden;">
                                            <div
                                                style="width: 88%; height: 100%; background: linear-gradient(90deg, #10b981, #059669); border-radius: 6px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">
                                            Strong theoretical understanding, improving lab skills</p>
                                    </div>

                                    <!-- Chemistry Progress -->
                                    <div>
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                            <span style="font-weight: 600; color: var(--heading);">üß™ Chemistry</span>
                                            <span style="font-weight: 600; color: #8b5cf6;">95%</span>
                                        </div>
                                        <div
                                            style="width: 100%; height: 12px; background: rgba(var(--button-bg-rgb), 0.1); border-radius: 6px; overflow: hidden;">
                                            <div
                                                style="width: 95%; height: 100%; background: linear-gradient(90deg, #8b5cf6, #7c3aed); border-radius: 6px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">
                                            Outstanding organic chemistry knowledge, lab excellence</p>
                                    </div>

                                    <!-- Biology Progress -->
                                    <div>
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                            <span style="font-weight: 600; color: var(--heading);">üß¨ Biology</span>
                                            <span style="font-weight: 600; color: #22c55e;">87%</span>
                                        </div>
                                        <div
                                            style="width: 100%; height: 12px; background: rgba(var(--button-bg-rgb), 0.1); border-radius: 6px; overflow: hidden;">
                                            <div
                                                style="width: 87%; height: 100%; background: linear-gradient(90deg, #22c55e, #16a34a); border-radius: 6px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">
                                            Strong genetics knowledge, active in lab research</p>
                                    </div>

                                    <!-- English Progress -->
                                    <div>
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                            <span style="font-weight: 600; color: var(--heading);">üìö English</span>
                                            <span style="font-weight: 600; color: #f59e0b;">90%</span>
                                        </div>
                                        <div
                                            style="width: 100%; height: 12px; background: rgba(var(--button-bg-rgb), 0.1); border-radius: 6px; overflow: hidden;">
                                            <div
                                                style="width: 90%; height: 100%; background: linear-gradient(90deg, #f59e0b, #d97706); border-radius: 6px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <p
                                            style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">
                                            Strong writing skills, active debate team participant</p>
                                    </div>
                                </div>
                            </section>

                            <!-- Study Habits & Patterns -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üìñ</span> Study Habits & Patterns
                                </h3>
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                                    <div
                                        style="padding: 1.5rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05)); border-radius: 12px;">
                                        <div
                                            style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                            <span style="font-size: 2.5rem;">‚è∞</span>
                                            <div>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Average
                                                    Study Time</p>
                                                <p style="font-size: 1.5rem; font-weight: 700; color: var(--heading);">
                                                    24 hrs/week</p>
                                            </div>
                                        </div>
                                        <p style="font-size: 0.875rem; color: var(--text); line-height: 1.6;">Consistent
                                            study schedule, prefers evening sessions (6-9 PM)</p>
                                    </div>

                                    <div
                                        style="padding: 1.5rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border-radius: 12px;">
                                        <div
                                            style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                            <span style="font-size: 2.5rem;">üéØ</span>
                                            <div>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Assignment
                                                    Completion</p>
                                                <p style="font-size: 1.5rem; font-weight: 700; color: var(--heading);">
                                                    98%</p>
                                            </div>
                                        </div>
                                        <p style="font-size: 0.875rem; color: var(--text); line-height: 1.6;">Excellent
                                            time management, rarely misses deadlines</p>
                                    </div>

                                    <div
                                        style="padding: 1.5rem; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05)); border-radius: 12px;">
                                        <div
                                            style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                            <span style="font-size: 2.5rem;">üë•</span>
                                            <div>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Learning
                                                    Style</p>
                                                <p style="font-size: 1.5rem; font-weight: 700; color: var(--heading);">
                                                    Collaborative</p>
                                            </div>
                                        </div>
                                        <p style="font-size: 0.875rem; color: var(--text); line-height: 1.6;">Excels in
                                            group projects, helps peers understand concepts</p>
                                    </div>

                                    <div
                                        style="padding: 1.5rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.05)); border-radius: 12px;">
                                        <div
                                            style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                            <span style="font-size: 2.5rem;">üîç</span>
                                            <div>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Research
                                                    Skills</p>
                                                <p style="font-size: 1.5rem; font-weight: 700; color: var(--heading);">
                                                    Advanced</p>
                                            </div>
                                        </div>
                                        <p style="font-size: 0.875rem; color: var(--text); line-height: 1.6;">
                                            Independently researches topics, uses credible sources</p>
                                    </div>
                                </div>
                            </section>

                            <!-- Attendance & Participation -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>‚úÖ</span> Attendance & Participation
                                </h3>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem;">
                                    <div
                                        style="text-align: center; padding: 1.5rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(22, 163, 74, 0.05)); border-radius: 12px;">
                                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">96%</div>
                                        <p style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                            Attendance Rate</p>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary);">4 absences this
                                            year</p>
                                    </div>
                                    <div
                                        style="text-align: center; padding: 1.5rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05)); border-radius: 12px;">
                                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">94%</div>
                                        <p style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                            Class Participation</p>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary);">Active contributor
                                        </p>
                                    </div>
                                    <div
                                        style="text-align: center; padding: 1.5rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.05)); border-radius: 12px;">
                                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">100%</div>
                                        <p style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                            Punctuality</p>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary);">Never late</p>
                                    </div>
                                </div>
                            </section>

                            <!-- Tutor Engagement History -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üë®‚Äçüè´</span> Tutor Engagement History
                                </h3>
                                <div style="display: flex; flex-direction: column; gap: 1rem;">
                                    <div
                                        style="display: flex; align-items: center; gap: 1rem; padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #3b82f6;">
                                        <img src="../uploads/system_images/system_profile_pictures/tutor-.jpg"
                                            alt="Tutor"
                                            style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover;">
                                        <div style="flex: 1;">
                                            <p
                                                style="font-weight: 600; font-size: 1.125rem; color: var(--heading); margin-bottom: 0.25rem;">
                                                Mr. Getachew Tesfaye</p>
                                            <p
                                                style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                                Mathematics Tutor ‚Ä¢ 24 sessions completed</p>
                                            <div style="display: flex; gap: 1rem; font-size: 0.875rem;">
                                                <span style="color: var(--text);">üìÖ Since Jan 2024</span>
                                                <span style="color: #f59e0b;">‚≠ê 5.0 rating</span>
                                            </div>
                                        </div>
                                        <div
                                            style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(22, 163, 74, 0.05)); border-radius: 8px;">
                                            <p style="font-size: 1.5rem; font-weight: 700; color: #22c55e;">+15%</p>
                                            <p style="font-size: 0.75rem; color: var(--text-secondary);">Improvement</p>
                                        </div>
                                    </div>

                                    <div
                                        style="display: flex; align-items: center; gap: 1rem; padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #10b981;">
                                        <img src="../uploads/system_images/system_profile_pictures/tutor-woman.jpg"
                                            alt="Tutor"
                                            style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover;">
                                        <div style="flex: 1;">
                                            <p
                                                style="font-weight: 600; font-size: 1.125rem; color: var(--heading); margin-bottom: 0.25rem;">
                                                Dr. Hanna Bekele</p>
                                            <p
                                                style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                                Science Tutor ‚Ä¢ 18 sessions completed</p>
                                            <div style="display: flex; gap: 1rem; font-size: 0.875rem;">
                                                <span style="color: var(--text);">üìÖ Since Feb 2024</span>
                                                <span style="color: #f59e0b;">‚≠ê 4.9 rating</span>
                                            </div>
                                        </div>
                                        <div
                                            style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(22, 163, 74, 0.05)); border-radius: 8px;">
                                            <p style="font-size: 1.5rem; font-weight: 700; color: #22c55e;">+12%</p>
                                            <p style="font-size: 0.75rem; color: var(--text-secondary);">Improvement</p>
                                        </div>
                                    </div>

                                    <div
                                        style="display: flex; align-items: center; gap: 1rem; padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.05); border-radius: 12px; border-left: 4px solid #8b5cf6;">
                                        <img src="../uploads/system_images/system_profile_pictures/man-user.png"
                                            alt="Tutor"
                                            style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover;">
                                        <div style="flex: 1;">
                                            <p
                                                style="font-weight: 600; font-size: 1.125rem; color: var(--heading); margin-bottom: 0.25rem;">
                                                Mr. Solomon Assefa</p>
                                            <p
                                                style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                                Physics Tutor ‚Ä¢ 15 sessions completed</p>
                                            <div style="display: flex; gap: 1rem; font-size: 0.875rem;">
                                                <span style="color: var(--text);">üìÖ Since Mar 2024</span>
                                                <span style="color: #f59e0b;">‚≠ê 4.8 rating</span>
                                            </div>
                                        </div>
                                        <div
                                            style="text-align: center; padding: 1rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(22, 163, 74, 0.05)); border-radius: 8px;">
                                            <p style="font-size: 1.5rem; font-weight: 700; color: #22c55e;">+10%</p>
                                            <p style="font-size: 0.75rem; color: var(--text-secondary);">Improvement</p>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Academic Performance (From Performance Panel) -->
                            <h2
                                style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem; color: var(--heading); display: flex; align-items: center; gap: 0.75rem;">
                                <span>üìà</span> Academic Performance
                            </h2>

                            <!-- Performance Summary Stats -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üìä</span> Performance Summary
                                </h3>
                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem;">
                                    <div
                                        style="padding: 1.75rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05)); border-radius: 12px; text-align: center; border: 1px solid rgba(59, 130, 246, 0.2);">
                                        <div
                                            style="font-size: 3rem; font-weight: 700; color: #3b82f6; margin-bottom: 0.5rem;">
                                            3.8</div>
                                        <div
                                            style="font-size: 0.875rem; color: var(--text-secondary); font-weight: 600; margin-bottom: 0.25rem;">
                                            Overall GPA</div>
                                        <div style="font-size: 0.75rem; color: #10b981; font-weight: 500;">‚Üë +0.2 from
                                            last semester</div>
                                    </div>
                                    <div
                                        style="padding: 1.75rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border-radius: 12px; text-align: center; border: 1px solid rgba(16, 185, 129, 0.2);">
                                        <div
                                            style="font-size: 3rem; font-weight: 700; color: #10b981; margin-bottom: 0.5rem;">
                                            92%</div>
                                        <div
                                            style="font-size: 0.875rem; color: var(--text-secondary); font-weight: 600; margin-bottom: 0.25rem;">
                                            Average Score</div>
                                        <div style="font-size: 0.75rem; color: #10b981; font-weight: 500;">Top 5% of
                                            class</div>
                                    </div>
                                    <div
                                        style="padding: 1.75rem; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05)); border-radius: 12px; text-align: center; border: 1px solid rgba(245, 158, 11, 0.2);">
                                        <div
                                            style="font-size: 3rem; font-weight: 700; color: #f59e0b; margin-bottom: 0.5rem;">
                                            5/120</div>
                                        <div
                                            style="font-size: 0.875rem; color: var(--text-secondary); font-weight: 600; margin-bottom: 0.25rem;">
                                            Class Ranking</div>
                                        <div style="font-size: 0.75rem; color: #10b981; font-weight: 500;">‚Üë Improved
                                            from 8th</div>
                                    </div>
                                    <div
                                        style="padding: 1.75rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.05)); border-radius: 12px; text-align: center; border: 1px solid rgba(139, 92, 246, 0.2);">
                                        <div
                                            style="font-size: 3rem; font-weight: 700; color: #8b5cf6; margin-bottom: 0.5rem;">
                                            A</div>
                                        <div
                                            style="font-size: 0.875rem; color: var(--text-secondary); font-weight: 600; margin-bottom: 0.25rem;">
                                            Grade Level</div>
                                        <div style="font-size: 0.75rem; color: #10b981; font-weight: 500;">Honor Roll
                                            Status</div>
                                    </div>
                                </div>
                            </section>

                            <!-- GPA Trend Over Time -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üìâ</span> GPA Trend (4-Year History)
                                </h3>
                                <div
                                    style="display: flex; align-items: flex-end; justify-content: space-around; height: 300px; border-bottom: 2px solid rgba(var(--border-rgb), 0.2); position: relative;">
                                    <!-- Y-axis labels -->
                                    <div
                                        style="position: absolute; left: -30px; top: 0; height: 100%; display: flex; flex-direction: column; justify-content: space-between; font-size: 0.75rem; color: var(--text-secondary);">
                                        <span>4.0</span>
                                        <span>3.5</span>
                                        <span>3.0</span>
                                        <span>2.5</span>
                                        <span>2.0</span>
                                    </div>

                                    <!-- Grade 9 -->
                                    <div
                                        style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; flex: 1;">
                                        <div
                                            style="width: 60px; height: 180px; background: linear-gradient(180deg, #3b82f6, #2563eb); border-radius: 8px 8px 0 0; position: relative; display: flex; align-items: flex-start; justify-content: center; padding-top: 0.5rem;">
                                            <span
                                                style="color: white; font-weight: 700; font-size: 1.125rem;">3.6</span>
                                        </div>
                                        <span style="font-weight: 600; color: var(--text); font-size: 0.875rem;">Grade
                                            9</span>
                                        <span style="font-size: 0.75rem; color: var(--text-secondary);">2021</span>
                                    </div>

                                    <!-- Grade 10 -->
                                    <div
                                        style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; flex: 1;">
                                        <div
                                            style="width: 60px; height: 200px; background: linear-gradient(180deg, #10b981, #059669); border-radius: 8px 8px 0 0; position: relative; display: flex; align-items: flex-start; justify-content: center; padding-top: 0.5rem;">
                                            <span
                                                style="color: white; font-weight: 700; font-size: 1.125rem;">3.7</span>
                                        </div>
                                        <span style="font-weight: 600; color: var(--text); font-size: 0.875rem;">Grade
                                            10</span>
                                        <span style="font-size: 0.75rem; color: var(--text-secondary);">2022</span>
                                    </div>

                                    <!-- Grade 11 -->
                                    <div
                                        style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; flex: 1;">
                                        <div
                                            style="width: 60px; height: 200px; background: linear-gradient(180deg, #f59e0b, #d97706); border-radius: 8px 8px 0 0; position: relative; display: flex; align-items: flex-start; justify-content: center; padding-top: 0.5rem;">
                                            <span
                                                style="color: white; font-weight: 700; font-size: 1.125rem;">3.7</span>
                                        </div>
                                        <span style="font-weight: 600; color: var(--text); font-size: 0.875rem;">Grade
                                            11</span>
                                        <span style="font-size: 0.75rem; color: var(--text-secondary);">2023</span>
                                    </div>

                                    <!-- Grade 12 (Current) -->
                                    <div
                                        style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem; flex: 1;">
                                        <div
                                            style="width: 60px; height: 240px; background: linear-gradient(180deg, #8b5cf6, #7c3aed); border-radius: 8px 8px 0 0; position: relative; display: flex; align-items: flex-start; justify-content: center; padding-top: 0.5rem; box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);">
                                            <span
                                                style="color: white; font-weight: 700; font-size: 1.125rem;">3.8</span>
                                        </div>
                                        <span style="font-weight: 600; color: var(--text); font-size: 0.875rem;">Grade
                                            12</span>
                                        <span
                                            style="font-size: 0.75rem; color: #8b5cf6; font-weight: 600;">Current</span>
                                    </div>
                                </div>
                            </section>

                            <!-- Current Semester Grades -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üìö</span> Current Semester Grades
                                </h3>
                                <div style="display: grid; gap: 1.25rem;">
                                    <!-- Advanced Mathematics -->
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.03); border-radius: 12px; border-left: 4px solid #10b981;">
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                            <div>
                                                <div
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem; font-size: 1.125rem;">
                                                    Advanced Mathematics</div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">Mr.
                                                    Getachew Tesfaye ‚Ä¢ Semester 2</div>
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="font-weight: 700; font-size: 1.75rem; color: #10b981;">A
                                                </div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">92%
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            style="width: 100%; height: 10px; background: rgba(0,0,0,0.1); border-radius: 5px; overflow: hidden;">
                                            <div
                                                style="width: 92%; height: 100%; background: linear-gradient(90deg, #10b981, #059669); border-radius: 5px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(var(--border-rgb), 0.1);">
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Assignments</p>
                                                <p style="font-weight: 700; color: var(--heading);">94%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Exams</p>
                                                <p style="font-weight: 700; color: var(--heading);">90%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Participation</p>
                                                <p style="font-weight: 700; color: var(--heading);">95%</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Physics -->
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.03); border-radius: 12px; border-left: 4px solid #3b82f6;">
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                            <div>
                                                <div
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem; font-size: 1.125rem;">
                                                    Physics</div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">Mr.
                                                    Solomon Assefa ‚Ä¢ Semester 2</div>
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="font-weight: 700; font-size: 1.75rem; color: #3b82f6;">B+
                                                </div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">88%
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            style="width: 100%; height: 10px; background: rgba(0,0,0,0.1); border-radius: 5px; overflow: hidden;">
                                            <div
                                                style="width: 88%; height: 100%; background: linear-gradient(90deg, #3b82f6, #2563eb); border-radius: 5px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(var(--border-rgb), 0.1);">
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Lab Work</p>
                                                <p style="font-weight: 700; color: var(--heading);">86%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Exams</p>
                                                <p style="font-weight: 700; color: var(--heading);">89%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Projects</p>
                                                <p style="font-weight: 700; color: var(--heading);">92%</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Chemistry -->
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.03); border-radius: 12px; border-left: 4px solid #8b5cf6;">
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                            <div>
                                                <div
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem; font-size: 1.125rem;">
                                                    Chemistry</div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">Dr.
                                                    Hanna Bekele ‚Ä¢ Semester 2</div>
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="font-weight: 700; font-size: 1.75rem; color: #8b5cf6;">A
                                                </div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">95%
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            style="width: 100%; height: 10px; background: rgba(0,0,0,0.1); border-radius: 5px; overflow: hidden;">
                                            <div
                                                style="width: 95%; height: 100%; background: linear-gradient(90deg, #8b5cf6, #7c3aed); border-radius: 5px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(var(--border-rgb), 0.1);">
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Lab Work</p>
                                                <p style="font-weight: 700; color: var(--heading);">97%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Exams</p>
                                                <p style="font-weight: 700; color: var(--heading);">94%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Research</p>
                                                <p style="font-weight: 700; color: var(--heading);">96%</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Biology -->
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.03); border-radius: 12px; border-left: 4px solid #22c55e;">
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                            <div>
                                                <div
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem; font-size: 1.125rem;">
                                                    Biology</div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">Dr.
                                                    Yohannes Molla ‚Ä¢ Semester 2</div>
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="font-weight: 700; font-size: 1.75rem; color: #22c55e;">B+
                                                </div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">87%
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            style="width: 100%; height: 10px; background: rgba(0,0,0,0.1); border-radius: 5px; overflow: hidden;">
                                            <div
                                                style="width: 87%; height: 100%; background: linear-gradient(90deg, #22c55e, #16a34a); border-radius: 5px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(var(--border-rgb), 0.1);">
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Lab Work</p>
                                                <p style="font-weight: 700; color: var(--heading);">90%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Exams</p>
                                                <p style="font-weight: 700; color: var(--heading);">85%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Projects</p>
                                                <p style="font-weight: 700; color: var(--heading);">88%</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- English Literature -->
                                    <div
                                        style="padding: 1.25rem; background: rgba(var(--button-bg-rgb), 0.03); border-radius: 12px; border-left: 4px solid #f59e0b;">
                                        <div
                                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                            <div>
                                                <div
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem; font-size: 1.125rem;">
                                                    English Literature</div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">Ms.
                                                    Tigist Wolde ‚Ä¢ Semester 2</div>
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="font-weight: 700; font-size: 1.75rem; color: #f59e0b;">A-
                                                </div>
                                                <div style="font-size: 0.875rem; color: var(--text-secondary);">90%
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            style="width: 100%; height: 10px; background: rgba(0,0,0,0.1); border-radius: 5px; overflow: hidden;">
                                            <div
                                                style="width: 90%; height: 100%; background: linear-gradient(90deg, #f59e0b, #d97706); border-radius: 5px; transition: width 1s ease;">
                                            </div>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(var(--border-rgb), 0.1);">
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Essays</p>
                                                <p style="font-weight: 700; color: var(--heading);">92%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Exams</p>
                                                <p style="font-weight: 700; color: var(--heading);">88%</p>
                                            </div>
                                            <div style="text-align: center;">
                                                <p
                                                    style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">
                                                    Participation</p>
                                                <p style="font-weight: 700; color: var(--heading);">91%</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Performance Breakdown by Category -->
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h3
                                    style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üéØ</span> Performance Breakdown
                                </h3>
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem;">
                                    <!-- Strengths -->
                                    <div>
                                        <h4
                                            style="font-weight: 600; color: #10b981; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                            <span>‚úÖ</span> Academic Strengths
                                        </h4>
                                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                            <div
                                                style="padding: 0.75rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border-radius: 8px; border-left: 3px solid #10b981;">
                                                <p
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                                    Chemistry (95%)</p>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">
                                                    Exceptional lab work and research skills</p>
                                            </div>
                                            <div
                                                style="padding: 0.75rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border-radius: 8px; border-left: 3px solid #10b981;">
                                                <p
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                                    Mathematics (92%)</p>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Strong
                                                    analytical and problem-solving abilities</p>
                                            </div>
                                            <div
                                                style="padding: 0.75rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border-radius: 8px; border-left: 3px solid #10b981;">
                                                <p
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                                    English (90%)</p>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Excellent
                                                    writing and communication skills</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Areas for Improvement -->
                                    <div>
                                        <h4
                                            style="font-weight: 600; color: #f59e0b; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                            <span>üìå</span> Areas for Improvement
                                        </h4>
                                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                            <div
                                                style="padding: 0.75rem; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05)); border-radius: 8px; border-left: 3px solid #f59e0b;">
                                                <p
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                                    Physics - Lab Work (86%)</p>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Focus on
                                                    experimental technique and precision</p>
                                            </div>
                                            <div
                                                style="padding: 0.75rem; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05)); border-radius: 8px; border-left: 3px solid #f59e0b;">
                                                <p
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                                    Biology - Exams (85%)</p>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Review
                                                    complex systems and memorization</p>
                                            </div>
                                            <div
                                                style="padding: 0.75rem; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05)); border-radius: 8px; border-left: 3px solid #f59e0b;">
                                                <p
                                                    style="font-weight: 600; color: var(--heading); margin-bottom: 0.25rem;">
                                                    English - Exam Performance (88%)</p>
                                                <p style="font-size: 0.875rem; color: var(--text-secondary);">Practice
                                                    timed essay writing under pressure</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Credentials Panel (Combined: Achievements, Certifications, Extracurricular) -->
                        <div id="credentials-panel" class="panel-content">
                            <!-- Credential Type Selection Cards -->
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                                <!-- Achievements Card -->
                                <div id="cred-card-achievements" class="credential-type-card"
                                    onclick="switchCredentialSection('achievements')"
                                    style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05)); border-radius: 12px; padding: 1.5rem; cursor: pointer; transition: all 0.3s; border: 2px solid transparent;">
                                    <div style="text-align: center;">
                                        <span style="font-size: 3rem; display: block; margin-bottom: 0.75rem;">üèÜ</span>
                                        <h3 style="font-weight: 600; font-size: 1.25rem; color: var(--heading); margin-bottom: 0.5rem;">Achievements</h3>
                                        <p style="color: var(--text-secondary); font-size: 0.875rem;">View awards & recognition</p>
                                        <span id="achievements-count" style="display: inline-block; margin-top: 0.5rem; padding: 0.25rem 0.75rem; background: rgba(251, 191, 36, 0.2); border-radius: 12px; font-size: 0.875rem; font-weight: 600; color: #f59e0b;">Loading...</span>
                                    </div>
                                </div>

                                <!-- Certifications Card -->
                                <div id="cred-card-certifications" class="credential-type-card"
                                    onclick="switchCredentialSection('certifications')"
                                    style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05)); border-radius: 12px; padding: 1.5rem; cursor: pointer; transition: all 0.3s; border: 2px solid transparent;">
                                    <div style="text-align: center;">
                                        <span style="font-size: 3rem; display: block; margin-bottom: 0.75rem;">üìú</span>
                                        <h3 style="font-weight: 600; font-size: 1.25rem; color: var(--heading); margin-bottom: 0.5rem;">Certifications</h3>
                                        <p style="color: var(--text-secondary); font-size: 0.875rem;">View certificates & qualifications</p>
                                        <span id="certifications-count" style="display: inline-block; margin-top: 0.5rem; padding: 0.25rem 0.75rem; background: rgba(59, 130, 246, 0.2); border-radius: 12px; font-size: 0.875rem; font-weight: 600; color: #3b82f6;">Loading...</span>
                                    </div>
                                </div>

                                <!-- Extracurricular Card -->
                                <div id="cred-card-extracurricular" class="credential-type-card"
                                    onclick="switchCredentialSection('extracurricular')"
                                    style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border-radius: 12px; padding: 1.5rem; cursor: pointer; transition: all 0.3s; border: 2px solid transparent;">
                                    <div style="text-align: center;">
                                        <span style="font-size: 3rem; display: block; margin-bottom: 0.75rem;">üé≠</span>
                                        <h3 style="font-weight: 600; font-size: 1.25rem; color: var(--heading); margin-bottom: 0.5rem;">Extracurricular</h3>
                                        <p style="color: var(--text-secondary); font-size: 0.875rem;">View activities & involvement</p>
                                        <span id="extracurricular-count" style="display: inline-block; margin-top: 0.5rem; padding: 0.25rem 0.75rem; background: rgba(16, 185, 129, 0.2); border-radius: 12px; font-size: 0.875rem; font-weight: 600; color: #10b981;">Loading...</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Achievements Section -->
                            <div id="achievements-section" class="credential-section">
                                <!-- Content will be dynamically loaded by JavaScript -->
                            </div>

                            <!-- Certifications Section -->
                            <div id="certifications-section" class="credential-section hidden">
                                <!-- Content will be dynamically loaded by JavaScript -->
                            </div>

                            <!-- Extracurricular Section -->
                            <div id="extracurricular-section" class="credential-section hidden">
                                <!-- Content will be dynamically loaded by JavaScript -->
                            </div>
                        </div>

                        <!-- Clubs Panel -->
                        <div id="clubs-panel" class="panel-content">
                            <section class="sidebar-content-panel">
                                <div class="section-header">
                                    <h2 class="section-title">
                                        <i class="fas fa-users"></i> Student Clubs & Activities
                                    </h2>
                                </div>

                                <!-- Clubs Content (Dynamic - Loaded from Database) -->
                                <div class="clubs-content">
                                    <!-- Loading state -->
                                    <div style="text-align: center; padding: 3rem;">
                                        <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem;"></i>
                                        <p style="color: var(--text-secondary);">Loading clubs...</p>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Blog Panel -->
                        <div id="blog-panel" class="panel-content">
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h2
                                    style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.75rem;">
                                    <span>üìù</span> Student Blog Posts
                                </h2>

                                <!-- Blog Posts Grid (Dynamic - Loaded from Database) -->
                                <div id="student-blogs-container">
                                    <!-- Loading state -->
                                    <div style="text-align: center; padding: 3rem;">
                                        <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem;"></i>
                                        <p style="color: var(--text-secondary);">Loading blog posts...</p>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Events Panel -->
                        <div id="events-panel" class="panel-content">
                            <section class="sidebar-content-panel">
                                <div class="section-header">
                                    <h2 class="section-title">
                                        <i class="fas fa-calendar-alt"></i> Student Events & Schedule
                                    </h2>
                                </div>

                                <!-- Events Content (Dynamic - Loaded from Database) -->
                                <div class="events-content">
                                    <!-- Loading state -->
                                    <div style="text-align: center; padding: 3rem;">
                                        <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem;"></i>
                                        <p style="color: var(--text-secondary);">Loading events...</p>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Parents Panel -->
                        <div id="parents-panel" class="panel-content">
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h2
                                    style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.75rem;">
                                    <span>üë®‚Äçüë©‚Äçüëß</span> Parents & Guardians
                                </h2>

                                <!-- Parents Grid -->
                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                                    <!-- Father Card -->
                                    <div
                                        style="background: var(--card-bg); border-radius: 16px; padding: 2rem; border: 2px solid rgba(245, 158, 11, 0.2); position: relative; overflow: hidden; box-shadow: 0 2px 12px rgba(0,0,0,0.08); transition: transform 0.3s ease, box-shadow 0.3s ease;">
                                        <div
                                            style="position: absolute; top: 1rem; right: 1rem; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600; box-shadow: 0 2px 8px rgba(245,158,11,0.3);">
                                            Primary</div>

                                        <div style="display: flex; gap: 1.5rem; margin-bottom: 1.5rem;">
                                            <div style="flex-shrink: 0;">
                                                <img src="../uploads/system_images/system_profile_pictures/Dad-profile.jpg"
                                                    alt="Father"
                                                    style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary-color); box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);">
                                            </div>
                                            <div style="flex: 1;">
                                                <a href="../view-profiles/view-parent.html?id=1"
                                                    style="text-decoration: none; color: inherit;">
                                                    <h3 style="font-size: 1.5rem; font-weight: 600; color: var(--heading); margin-bottom: 0.5rem; cursor: pointer; transition: color 0.3s;"
                                                        onmouseover="this.style.color='var(--primary-color)'"
                                                        onmouseout="this.style.color='var(--heading)'">Tesfaye Kebede
                                                    </h3>
                                                </a>
                                                <p
                                                    style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 0.75rem;">
                                                    Father ‚Ä¢ Primary Guardian</p>
                                                <div style="display: flex; gap: 0.5rem;">
                                                    <span
                                                        style="background: rgba(245, 158, 11, 0.15); color: var(--primary-color); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">Active</span>
                                                    <span
                                                        style="background: rgba(34, 197, 94, 0.15); color: #059669; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">Verified</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div
                                            style="background: rgba(245, 158, 11, 0.05); border-radius: 12px; padding: 1.25rem; margin-bottom: 1rem; border: 1px solid rgba(245, 158, 11, 0.1);">
                                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 1.25rem;">üìß</span>
                                                    <div>
                                                        <p
                                                            style="font-size: 0.75rem; color: var(--text-secondary); margin: 0;">
                                                            Email</p>
                                                        <p
                                                            style="font-size: 0.95rem; color: var(--text); margin: 0; font-weight: 500;">
                                                            tesfaye.kebede@email.com</p>
                                                    </div>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 1.25rem;">üì±</span>
                                                    <div>
                                                        <p
                                                            style="font-size: 0.75rem; color: var(--text-secondary); margin: 0;">
                                                            Phone</p>
                                                        <p
                                                            style="font-size: 0.95rem; color: var(--text); margin: 0; font-weight: 500;">
                                                            +251 911 234 567</p>
                                                    </div>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 1.25rem;">üíº</span>
                                                    <div>
                                                        <p
                                                            style="font-size: 0.75rem; color: var(--text-secondary); margin: 0;">
                                                            Occupation</p>
                                                        <p
                                                            style="font-size: 0.95rem; color: var(--text); margin: 0; font-weight: 500;">
                                                            Civil Engineer</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div style="display: flex; justify-content: center;">
                                            <a href="../view-profiles/view-parent.html?id=1"
                                                style="width: 100%; padding: 0.75rem; background: var(--card-bg); color: var(--primary-color); border: 2px solid var(--primary-color); border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem; text-decoration: none;">
                                                <span>üëÅÔ∏è</span> View Profile
                                            </a>
                                        </div>
                                    </div>

                                    <!-- Mother Card -->
                                    <div
                                        style="background: var(--card-bg); border-radius: 16px; padding: 2rem; border: 2px solid rgba(245, 158, 11, 0.2); position: relative; overflow: hidden; box-shadow: 0 2px 12px rgba(0,0,0,0.08); transition: transform 0.3s ease, box-shadow 0.3s ease;">
                                        <div
                                            style="position: absolute; top: 1rem; right: 1rem; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600; box-shadow: 0 2px 8px rgba(245,158,11,0.3);">
                                            Co-Guardian</div>

                                        <div style="display: flex; gap: 1.5rem; margin-bottom: 1.5rem;">
                                            <div style="flex-shrink: 0;">
                                                <img src="../uploads/system_images/system_profile_pictures/Mom-profile.jpg"
                                                    alt="Mother"
                                                    style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary-color); box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);">
                                            </div>
                                            <div style="flex: 1;">
                                                <a href="../view-profiles/view-parent.html?id=2"
                                                    style="text-decoration: none; color: inherit;">
                                                    <h3 style="font-size: 1.5rem; font-weight: 600; color: var(--heading); margin-bottom: 0.5rem; cursor: pointer; transition: color 0.3s;"
                                                        onmouseover="this.style.color='var(--primary-color)'"
                                                        onmouseout="this.style.color='var(--heading)'">Almaz Tadesse
                                                    </h3>
                                                </a>
                                                <p
                                                    style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 0.75rem;">
                                                    Mother ‚Ä¢ Co-Guardian</p>
                                                <div style="display: flex; gap: 0.5rem;">
                                                    <span
                                                        style="background: rgba(245, 158, 11, 0.15); color: var(--primary-color); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">Active</span>
                                                    <span
                                                        style="background: rgba(34, 197, 94, 0.15); color: #059669; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">Verified</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div
                                            style="background: rgba(245, 158, 11, 0.05); border-radius: 12px; padding: 1.25rem; margin-bottom: 1rem; border: 1px solid rgba(245, 158, 11, 0.1);">
                                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 1.25rem;">üìß</span>
                                                    <div>
                                                        <p
                                                            style="font-size: 0.75rem; color: var(--text-secondary); margin: 0;">
                                                            Email</p>
                                                        <p
                                                            style="font-size: 0.95rem; color: var(--text); margin: 0; font-weight: 500;">
                                                            almaz.tadesse@email.com</p>
                                                    </div>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 1.25rem;">üì±</span>
                                                    <div>
                                                        <p
                                                            style="font-size: 0.75rem; color: var(--text-secondary); margin: 0;">
                                                            Phone</p>
                                                        <p
                                                            style="font-size: 0.95rem; color: var(--text); margin: 0; font-weight: 500;">
                                                            +251 911 345 678</p>
                                                    </div>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 1.25rem;">üíº</span>
                                                    <div>
                                                        <p
                                                            style="font-size: 0.75rem; color: var(--text-secondary); margin: 0;">
                                                            Occupation</p>
                                                        <p
                                                            style="font-size: 0.95rem; color: var(--text); margin: 0; font-weight: 500;">
                                                            Medical Doctor</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div style="display: flex; justify-content: center;">
                                            <a href="../view-profiles/view-parent.html?id=2"
                                                style="width: 100%; padding: 0.75rem; background: var(--card-bg); color: var(--primary-color); border: 2px solid var(--primary-color); border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem; text-decoration: none;">
                                                <span>üëÅÔ∏è</span> View Profile
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Overall Rating Section Removed - Moved to Behavioral Notes Panel -->

                                <!-- Parent Stats Section Removed -->

                                <!-- Parent Reviews Section Removed -->
                            </section>
                        </div>

                        <!-- Blog Panel -->
                        <div id="blog-panel" class="panel-content">
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <h2
                                    style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--heading); display: flex; align-items: center; gap: 0.75rem;">
                                    <span>üìù</span> Student Blog Posts
                                </h2>

                                <!-- Blog Posts Grid (Dynamic - Loaded from Database) -->
                                <div id="student-blogs-container">
                                    <!-- Loading state -->
                                    <div style="text-align: center; padding: 3rem;">
                                        <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem;"></i>
                                        <p style="color: var(--text-secondary);">Loading blog posts...</p>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Behavioral Notes Panel -->
                        <div id="behavioral-notes-panel" class="panel-content">
                            <section
                                style="background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                                    <h2
                                        style="font-size: 1.75rem; font-weight: 700; margin: 0; color: var(--heading); display: flex; align-items: center; gap: 0.75rem;">
                                        <span>üìã</span> Behavioral Notes & Observations
                                    </h2>
                                </div>

                                <!-- Overall Rating Section (From Student Reviews) -->
                                <section class="overall-rating-section"
                                    style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 4px 16px rgba(245,158,11,0.3); color: white;">
                                    <div
                                        style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2rem;">
                                        <div style="flex: 1; min-width: 200px;">
                                            <div id="overall-rating-label"
                                                style="font-size: 0.95rem; font-weight: 600; margin-bottom: 0.5rem; opacity: 0.95;">
                                                Overall Student Rating</div>
                                            <div
                                                style="display: flex; align-items: baseline; gap: 0.75rem; margin-bottom: 0.75rem;">
                                                <div id="overall-rating-value"
                                                    style="font-size: 3.5rem; font-weight: 700; line-height: 1;">0.0
                                                </div>
                                                <div style="font-size: 1.25rem; opacity: 0.9;">/ 5.0</div>
                                            </div>
                                            <div id="overall-rating-stars"
                                                style="color: rgba(255,255,255,0.95); font-size: 1rem; margin-bottom: 1rem;">
                                                ‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ
                                            </div>
                                            <div id="overall-rating-count" style="font-size: 0.95rem; opacity: 0.9;">
                                                Based on 0 tutor reviews</div>
                                        </div>

                                        <div style="flex: 2; min-width: 300px;">
                                            <div id="rating-breakdown"
                                                style="display: flex; flex-direction: column; gap: 0.75rem;">
                                                <!-- Behavioral Categories (Dynamic) -->
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 0.875rem; width: 180px;">Subject Understanding</span>
                                                    <div
                                                        style="flex: 1; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; overflow: hidden;">
                                                        <div id="rating-bar-subject"
                                                            style="height: 100%; width: 0%; background: white; border-radius: 4px;">
                                                        </div>
                                                    </div>
                                                    <span id="rating-count-subject"
                                                        style="font-size: 0.875rem; width: 40px; text-align: right;">0.0</span>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 0.875rem; width: 180px;">Communication Skills</span>
                                                    <div
                                                        style="flex: 1; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; overflow: hidden;">
                                                        <div id="rating-bar-communication"
                                                            style="height: 100%; width: 0%; background: white; border-radius: 4px;">
                                                        </div>
                                                    </div>
                                                    <span id="rating-count-communication"
                                                        style="font-size: 0.875rem; width: 40px; text-align: right;">0.0</span>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 0.875rem; width: 180px;">Discipline</span>
                                                    <div
                                                        style="flex: 1; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; overflow: hidden;">
                                                        <div id="rating-bar-discipline"
                                                            style="height: 100%; width: 0%; background: white; border-radius: 4px;">
                                                        </div>
                                                    </div>
                                                    <span id="rating-count-discipline"
                                                        style="font-size: 0.875rem; width: 40px; text-align: right;">0.0</span>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 0.875rem; width: 180px;">Punctuality</span>
                                                    <div
                                                        style="flex: 1; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; overflow: hidden;">
                                                        <div id="rating-bar-punctuality"
                                                            style="height: 100%; width: 0%; background: white; border-radius: 4px;">
                                                        </div>
                                                    </div>
                                                    <span id="rating-count-punctuality"
                                                        style="font-size: 0.875rem; width: 40px; text-align: right;">0.0</span>
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <span style="font-size: 0.875rem; width: 180px;">Class Activity</span>
                                                    <div
                                                        style="flex: 1; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; overflow: hidden;">
                                                        <div id="rating-bar-class-activity"
                                                            style="height: 100%; width: 0%; background: white; border-radius: 4px;">
                                                        </div>
                                                    </div>
                                                    <span id="rating-count-class-activity"
                                                        style="font-size: 0.875rem; width: 40px; text-align: right;">0.0</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <!-- Reviews from Tutors -->
                                <div style="margin-bottom: 2rem;">
                                    <h3 id="reviews-title"
                                        style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; color: var(--heading); display: flex; align-items: center; gap: 0.5rem;">
                                        <span>‚≠ê</span> Reviews from Tutors
                                    </h3>
                                    <p id="reviews-subtitle"
                                        style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 1rem;">
                                        See what tutors are saying about this student</p>

                                    <!-- Star Filter Tabs -->
                                    <div id="star-filter-tabs"
                                        style="display: flex; gap: 0.5rem; margin-bottom: 1.5rem; overflow-x: auto; padding-bottom: 0.5rem;">
                                        <button class="star-filter-tab active" data-filter="all"
                                            style="padding: 0.5rem 1rem; border: 2px solid var(--primary-color); border-radius: 20px; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; font-size: 0.875rem;">
                                            All Reviews
                                        </button>
                                        <button class="star-filter-tab" data-filter="5"
                                            style="padding: 0.5rem 1rem; border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 20px; background: var(--card-bg); color: var(--text); font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; font-size: 0.875rem;">
                                            ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (5)
                                        </button>
                                        <button class="star-filter-tab" data-filter="4"
                                            style="padding: 0.5rem 1rem; border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 20px; background: var(--card-bg); color: var(--text); font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; font-size: 0.875rem;">
                                            ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4)
                                        </button>
                                        <button class="star-filter-tab" data-filter="3"
                                            style="padding: 0.5rem 1rem; border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 20px; background: var(--card-bg); color: var(--text); font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; font-size: 0.875rem;">
                                            ‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ (3)
                                        </button>
                                        <button class="star-filter-tab" data-filter="2"
                                            style="padding: 0.5rem 1rem; border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 20px; background: var(--card-bg); color: var(--text); font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; font-size: 0.875rem;">
                                            ‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ (2)
                                        </button>
                                        <button class="star-filter-tab" data-filter="1"
                                            style="padding: 0.5rem 1rem; border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 20px; background: var(--card-bg); color: var(--text); font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; font-size: 0.875rem;">
                                            ‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ (1)
                                        </button>
                                    </div>

                                    <div id="reviews-container"
                                        style="display: flex; flex-direction: column; gap: 1.5rem;">
                                        <!-- Loading state -->
                                        <div style="text-align: center; padding: 3rem;">
                                            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem;"></i>
                                            <p style="color: var(--text-secondary);">Loading reviews...</p>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>

                    <!-- Right Sidebar -->
                    <div class="right-sidebar-container">
                        <div class="right-sidebar-content">

                    
                    <!-- Interested In Widget (Single Item Display) -->
                    <div class="sidebar-widget interested-widget card" style="padding: 1.5rem;">
                        <div class="widget-header" style="margin-bottom: 1rem;">
                            <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0; color: var(--heading);">
                                üí° Interested In</h3>
                        </div>
                        <div class="interested-single-display" style="min-height: 60px; display: flex; align-items: center; justify-content: center;">
                            <div class="interested-item-container" style="position: relative; width: 100%; text-align: center;">
                                <span class="interested-current-item active"
                                    style="background: var(--button-bg); color: white; padding: 0.75rem 1.5rem; border-radius: 25px; font-size: 1rem; font-weight: 600; display: inline-flex; align-items: center; gap: 0.6rem; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); transition: all 0.5s ease; opacity: 1;">
                                    <span style="font-size: 1.5rem;">üßÆ</span>
                                    <span>Mathematics</span>
                                </span>
                            </div>
                        </div>
                        <!-- Navigation dots (dynamically generated based on student data) -->
                        <div class="interested-dots" style="display: flex; justify-content: center; gap: 0.5rem; margin-top: 1rem;">
                            <!-- Dots will be generated by InterestedSingleDisplayManager -->
                        </div>
                    </div>

                    <!-- Academic Statistics Widget -->
                    <div class="widget-card">
                        <h3 class="text-lg font-semibold mb-4">üìä Academic Statistics</h3>
                        <div class="stats-container"
                            style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                            <!-- Current GPA -->
                            <div
                                style="text-align: center; padding: 0.75rem; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05)); border-radius: 8px;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: #f59e0b;">3.8</div>
                                <div style="font-size: 0.75rem; color: var(--text-secondary);">Current GPA</div>
                            </div>
                            <!-- Enrolled Courses Count -->
                            <div
                                style="text-align: center; padding: 0.75rem; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.05)); border-radius: 8px;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: #667eea;">6</div>
                                <div style="font-size: 0.75rem; color: var(--text-secondary);">Enrolled Courses</div>
                            </div>
                            <!-- Improvement Rate -->
                            <div
                                style="text-align: center; padding: 0.75rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border-radius: 8px;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: #10b981;">+12%</div>
                                <div style="font-size: 0.75rem; color: var(--text-secondary);">Improvement Rate</div>
                            </div>
                            <!-- Overall rating -->
                            <div
                                style="text-align: center; padding: 0.75rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05)); border-radius: 8px;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: #3b82f6;">96%</div>
                                <div style="font-size: 0.75rem; color: var(--text-secondary);">Overall rating</div>
                            </div>
                        </div>
                    </div>

                    <!-- Academic Timeline Widget -->
                    <div class="widget-card"
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
                        <h3 class="text-lg font-semibold mb-4" style="color: white;">üìà Academic Journey</h3>
                        <div class="timeline-content" style="display: flex; flex-direction: column; gap: 1rem;">
                            <div class="timeline-item"
                                style="display: flex; gap: 0.75rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.2);">
                                <div class="timeline-dot"
                                    style="width: 12px; height: 12px; background: white; border-radius: 50%; margin-top: 0.25rem; flex-shrink: 0; box-shadow: 0 0 10px rgba(255,255,255,0.5);">
                                </div>
                                <div style="flex: 1;">
                                    <p style="font-weight: 600; margin-bottom: 0.25rem; font-size: 0.95rem;">Grade 12 -
                                        Current</p>
                                    <p style="font-size: 0.875rem; opacity: 0.9;">GPA: 3.8/4.0 ‚Ä¢ Class Rank: 5/120</p>
                                </div>
                            </div>
                            <div class="timeline-item"
                                style="display: flex; gap: 0.75rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <div class="timeline-dot"
                                    style="width: 12px; height: 12px; background: rgba(255,255,255,0.7); border-radius: 50%; margin-top: 0.25rem; flex-shrink: 0;">
                                </div>
                                <div style="flex: 1;">
                                    <p style="font-weight: 600; margin-bottom: 0.25rem; font-size: 0.95rem;">Grade 11 -
                                        2023</p>
                                    <p style="font-size: 0.875rem; opacity: 0.9;">GPA: 3.7/4.0 ‚Ä¢ Honor Roll</p>
                                </div>
                            </div>
                            <div class="timeline-item" style="display: flex; gap: 0.75rem;">
                                <div class="timeline-dot"
                                    style="width: 12px; height: 12px; background: rgba(255,255,255,0.5); border-radius: 50%; margin-top: 0.25rem; flex-shrink: 0;">
                                </div>
                                <div style="flex: 1;">
                                    <p style="font-weight: 600; margin-bottom: 0.25rem; font-size: 0.95rem;">Grade 10 -
                                        2022</p>
                                    <p style="font-size: 0.875rem; opacity: 0.9;">GPA: 3.6/4.0 ‚Ä¢ Math Olympiad Winner
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- Bottom Widgets Section -->
    <section class="bottom-widgets" style="margin-top: 3rem; margin-bottom: 3rem;">
        <div class="container mx-auto px-4">
            <div class="bottom-widgets-grid"
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem;">

                <!-- News Widget -->
                <div class="sidebar-widget news-widget card"
                    style="cursor: pointer; padding: 1.5rem; background: var(--card-bg); border-radius: 16px;">
                    <div class="widget-header"
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0;">üì∞ Latest News</h3>
                        <a href="#" onclick="return false;"
                            style="color: var(--button-bg); text-decoration: none; font-size: 0.875rem;">View All</a>
                    </div>

                    <div class="news-carousel" style="position: relative; overflow: hidden;">
                        <div class="news-card-container">
                            <div class="news-card active">
                                <div class="news-card-header"
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                    <span class="news-category-badge"
                                        style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">Education</span>
                                    <span class="news-time" style="color: var(--text-muted); font-size: 0.875rem;">2h
                                        ago</span>
                                </div>
                                <div class="news-card-image" style="margin-bottom: 1rem;">
                                    <img src="https://images.unsplash.com/photo-1427504494785-3a9ca7044f45?w=400"
                                        alt="Education News"
                                        style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px;">
                                </div>
                                <div class="news-card-content">
                                    <h4
                                        style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">
                                        New Education Reforms Transform Ethiopian Schools</h4>
                                    <p
                                        style="color: var(--text); opacity: 0.8; font-size: 0.875rem; line-height: 1.6; margin-bottom: 1rem;">
                                        Latest educational initiatives are revolutionizing how students learn across
                                        Ethiopia...</p>
                                    <div class="news-stats" style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                        <span class="news-stat"
                                            style="display: flex; align-items: center; gap: 0.25rem; font-size: 0.875rem; color: var(--text-muted);">üî•
                                            Trending</span>
                                        <span class="news-stat"
                                            style="display: flex; align-items: center; gap: 0.25rem; font-size: 0.875rem; color: var(--text-muted);">üëÅÔ∏è
                                            1.2k views</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bookstore Widget -->
                <div class="sidebar-widget bookstore-widget card" onclick="openComingSoonModal('store')"
                    style="cursor: pointer; padding: 1.5rem; background: var(--card-bg); border-radius: 16px; transition: transform 0.3s ease, box-shadow 0.3s ease;"
                    onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.1)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <div class="widget-header"
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0; color: var(--heading);">üìö Bookstore
                        </h3>
                        <span
                            style="background: var(--button-bg); color: white; padding: 0.5rem 0.75rem; border-radius: 8px; font-size: 0.75rem; font-weight: 600;">Coming
                            Soon</span>
                    </div>

                    <!-- Bookstore Content -->
                    <div class="bookstore-content">
                        <div class="bookstore-main" style="text-align: center; margin-bottom: 1.5rem;">
                            <div class="bookstore-icon" style="font-size: 4rem; margin-bottom: 0.5rem;">üìñ</div>
                            <div class="bookstore-title-animated"
                                style="position: relative; height: 2.5rem; overflow: hidden;">
                                <div class="bookstore-title"
                                    style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem; color: var(--heading); position: absolute; width: 100%; opacity: 1; transition: opacity 0.6s ease, transform 0.6s ease;">
                                    Educational Books</div>
                            </div>
                            <div class="bookstore-subtitle" style="font-size: 1rem; color: var(--text);">Buy, Sell &
                                Rent Textbooks</div>
                        </div>
                        <div class="bookstore-features"
                            style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üìó</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">New Books</span>
                            </div>
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üìò</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">Used Books</span>
                            </div>
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üí∞</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">Best
                                    Prices</span>
                            </div>
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üöö</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">Fast
                                    Delivery</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gamestore Widget -->
                <div class="sidebar-widget gamestore-widget card" onclick="openComingSoonModal('gamestore')"
                    style="cursor: pointer; padding: 1.5rem; background: var(--card-bg); border-radius: 16px; transition: transform 0.3s ease, box-shadow 0.3s ease;"
                    onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.1)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <div class="widget-header"
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 style="font-size: 1.25rem; font-weight: 600; margin: 0; color: var(--heading);">üéÆ Gamestore
                        </h3>
                        <span
                            style="background: var(--button-bg); color: white; padding: 0.5rem 0.75rem; border-radius: 8px; font-size: 0.75rem; font-weight: 600;">Coming
                            Soon</span>
                    </div>
                    <div class="gamestore-content">
                        <div class="gamestore-main" style="text-align: center; margin-bottom: 1.5rem;">
                            <div class="gamestore-icon" style="font-size: 4rem; margin-bottom: 0.5rem;">üéÆ</div>
                            <div class="gamestore-title-animated"
                                style="position: relative; height: 2.5rem; overflow: hidden;">
                                <div class="gamestore-title"
                                    style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem; color: var(--heading); position: absolute; width: 100%; opacity: 1; transition: opacity 0.6s ease, transform 0.6s ease;">
                                    Educational Games</div>
                            </div>
                            <div class="gamestore-subtitle" style="font-size: 1rem; color: var(--text);">Learn While
                                Playing</div>
                        </div>
                        <div class="gamestore-features"
                            style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üßÆ</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">Puzzle
                                    Games</span>
                            </div>
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üéØ</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">Strategy
                                    Games</span>
                            </div>
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üèÜ</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">Top Rated</span>
                            </div>
                            <div class="feature-item"
                                style="background: var(--highlight-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.25rem;">üéÅ</span>
                                <span style="display: block; font-size: 0.875rem; color: var(--text);">Free to
                                    Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ticker Animation Styles -->
    <style>
        @keyframes ticker-scroll {
            0% {
                transform: translateX(0);
            }

            100% {
                transform: translateX(-50%);
            }
        }

        .ticker-wrapper:hover {
            animation-play-state: paused;
        }

        .ticker-item:hover {
            transform: scale(1.05);
            transition: transform 0.2s ease;
        }

        /* Action Buttons Hover Effects */
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        button[onclick="messageStudent()"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.5);
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        button[onclick="messageStudent()"]:active {
            transform: translateY(0);
        }
    </style>

    <!-- Scripts -->
    <script src="../js/root/app.js"></script>
    <script src="../js/root/auth.js"></script>
    <script src="../js/root/profile-system.js"></script>
    <script src="../js/root/theme.js"></script>
    <script src="../js/student-profile/student-profile.js"></script>
    <!-- Common Modal Loader for add-role, logout, coming-soon modals -->
    <script src="../modals/common-modals/common-modal-loader.js"></script>
    <script src="../js/common-modals/coming-soon-modal.js"></script>
    <script src="../js/common-modals/ad-modal.js"></script>
    <script src="../js/common-modals/logout-modal.js"></script>
    <!-- Student Reviews Loader - Loads reviews from tutors and parents -->
    <script src="../js/view-student/view-student-reviews.js"></script>
    <!-- Interested In Ticker Manager - Populates ticker animation from database -->
    <script src="../js/view-student/interested-ticker.js"></script>
    <!-- View Student Profile Loader - Loads data from database -->
    <script src="../js/view-student/view-student-loader.js"></script>
    <!-- View Student Credentials Manager - Handles credential section switching -->
    <script src="../js/view-student/view-student-credentials.js"></script>
    <!-- View Student Blogs Manager - Loads and displays blog posts from database -->
    <script src="../js/view-student/view-student-blogs.js"></script>
    <!-- View Student Clubs Manager - Loads and displays clubs from database -->
    <script src="../js/view-student/view-student-clubs.js"></script>
    <!-- View Student Events Manager - Loads and displays events from database -->
    <script src="../js/view-student/view-student-events.js"></script>
    <!-- Connection Manager - Handles connection requests -->
    <script src="../js/view-tutor/connection-manager.js?v=3"></script>

    <script>
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async () => {
            // Initialize core app
            initializeApp();

            // Authentication is automatically restored in AuthenticationManager constructor
            // No need to call initialize()

            // Load student data (placeholder for now)
            loadStudentData();

            // Initialize parents panel with combined data
            initializeParentsPanel();

            // Initialize animations
            animateStats();
        });

        // Initialize parents panel with combined/default data
        function initializeParentsPanel() {
            // Show combined parent data initially
            const combinedData = {
                name: 'Both Parents',
                rating: 4.8,
                reviewCount: 45,
                breakdown: { 5: 37, 4: 6, 3: 2, 2: 0, 1: 0 }
            };

            // Update overall rating with combined data
            document.getElementById('overall-rating-label').textContent = 'Overall Parent Rating';
            document.getElementById('overall-rating-value').textContent = combinedData.rating.toFixed(1);

            const fullStars = Math.floor(combinedData.rating);
            const hasHalfStar = combinedData.rating % 1 >= 0.5;
            let starsHTML = '‚òÖ'.repeat(fullStars);
            if (hasHalfStar && fullStars < 5) starsHTML += '‚òÜ';
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            starsHTML += '‚òÜ'.repeat(emptyStars);
            document.getElementById('overall-rating-stars').textContent = starsHTML;

            document.getElementById('overall-rating-count').textContent = `Based on ${combinedData.reviewCount} tutor reviews`;

            // Update rating breakdown
            const total = combinedData.reviewCount;
            for (let i = 1; i <= 5; i++) {
                const count = combinedData.breakdown[i];
                const percentage = total > 0 ? (count / total * 100) : 0;
                document.getElementById(`rating-bar-${i}`).style.width = `${percentage}%`;
                document.getElementById(`rating-count-${i}`).textContent = count;
            }

            // Show combined stats
            document.getElementById('parent-stats-title').innerHTML = '<span>üìä</span> Parent Statistics';
            document.getElementById('stat-engagement-tutor').textContent = '4.9';
            document.getElementById('stat-engagement-child').textContent = '5.0';
            document.getElementById('stat-responsiveness').textContent = '4.8';
            document.getElementById('stat-payment').textContent = '5.0';

            // Show message to select a parent
            document.getElementById('reviews-title').innerHTML = '<span>‚≠ê</span> Reviews from Tutors';
            document.getElementById('reviews-subtitle').textContent = 'Click "View Reviews" on a parent card to see their specific reviews';

            const container = document.getElementById('reviews-container');
            container.innerHTML = `
                <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05)); border-radius: 16px; padding: 3rem; text-align: center; border: 2px dashed rgba(59, 130, 246, 0.3);">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üë®‚Äçüë©‚Äçüëß</div>
                    <h4 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">Select a Parent to View Reviews</h4>
                    <p style="color: var(--text-secondary); font-size: 1rem;">Click the "View Reviews" button on either parent card above to see their specific reviews from tutors.</p>
                </div>
            `;
        }

        // Load student data
        function loadStudentData() {
            // This would normally fetch from API
            // For now, using placeholder data
            const studentId = new URLSearchParams(window.location.search).get('id');

            if (studentId) {
                console.log('Loading data for student ID:', studentId);
                // Fetch student data from API and update the UI
            }
        }

        // Panel switching
        function switchPanel(panelName) {
            console.log('Switching to panel:', panelName);

            // Hide all panels
            const allPanels = document.querySelectorAll('.panel-content');
            allPanels.forEach(panel => {
                panel.classList.remove('active');
            });

            // Show selected panel
            const selectedPanel = document.getElementById(panelName + '-panel');
            if (selectedPanel) {
                selectedPanel.classList.add('active');
                console.log(`‚úÖ Panel "${panelName}-panel" is now active. Display:`, window.getComputedStyle(selectedPanel).display);
            } else {
                console.error(`‚ùå Panel "${panelName}-panel" not found!`);
            }

            // Update sidebar active link/button
            const allLinks = document.querySelectorAll('.sidebar-link, .sidebar-btn');
            allLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Try to find the active link or button
            const activeLink = document.querySelector(`.sidebar-link[data-panel="${panelName}"]`);
            const activeBtn = document.querySelector(`.sidebar-btn[data-content="${panelName}"]`);

            if (activeLink) {
                activeLink.classList.add('active');
            } else if (activeBtn) {
                activeBtn.classList.add('active');
            }

            // Load data for specific panels
            const urlParams = new URLSearchParams(window.location.search);
            const studentId = urlParams.get('id');

            if (panelName === 'clubs' && studentId && typeof loadStudentClubs === 'function') {
                loadStudentClubs(studentId);
            } else if (panelName === 'events' && studentId && typeof loadStudentEvents === 'function') {
                loadStudentEvents(studentId);
            }
        }

        // Handle nav clicks
        function handleNavLinkClick(event, section) {
            event.preventDefault();
            console.log('Navigation to:', section);
        }

        // Open community modal
        function openCommunityModal() {
            console.log('Opening community modal');
        }

        // Open ad analytics modal
        function openAdAnalyticsModal() {
            console.log('Opening ad analytics');
        }

        // Connect with student function (using ConnectionManager like view-tutor.html)
        async function connectStudent() {
            const connectionManager = window.connectionManagerInstance;
            if (!connectionManager) {
                console.error('Connection manager not initialized');
                return;
            }

            // Get the student's user ID from the page
            const studentUserId = window.currentStudentUserId;
            if (!studentUserId) {
                console.error('Student user ID not found');
                connectionManager.showNotification('Unable to connect: Student information not found', 'error');
                return;
            }

            // Check if user is logged in
            const token = connectionManager.getToken();
            if (!token) {
                connectionManager.showNotification('Please log in to connect with students', 'error');
                // Open auth modal if available
                if (typeof openAuthModal === 'function') {
                    openAuthModal();
                }
                return;
            }

            // Get current connection status
            const currentStatus = connectionManager.currentConnectionStatus;
            const button = document.querySelector('button[onclick="connectStudent()"]');

            // Debug: Check if button was found
            console.log('üîç Connect button found:', button);
            console.log('üîç Current status:', currentStatus);

            if (!button && currentStatus !== 'connecting') {
                console.error('‚ùå Connect button not found!');
                connectionManager.showNotification('Button not found. Please refresh the page.', 'error');
                return;
            }

            try {
                if (currentStatus === 'connected') {
                    // Already connected - show options to disconnect
                    const confirmDisconnect = confirm('You are already connected with this student. Do you want to disconnect?');
                    if (confirmDisconnect) {
                        await connectionManager.disconnectFromTutor(connectionManager.currentConnectionId);
                        connectionManager.showNotification('Disconnected successfully', 'success');

                        // Check status again to update button
                        const newStatus = await connectionManager.checkConnectionStatus(studentUserId);
                        connectionManager.updateConnectionButtonUI(button, newStatus);
                    }
                } else if (currentStatus === 'connecting') {
                    // Pending request - dropdown handles the cancel action
                    // Just show a message that they can use the dropdown
                    connectionManager.showNotification('Click the dropdown arrow to cancel the connection request', 'info');
                } else {
                    // No connection or disconnected - send new request
                    if (button) {
                        button.disabled = true;
                        button.innerHTML = '‚è≥ Sending...';
                    }

                    const response = await connectionManager.sendConnectionRequest(studentUserId);
                    connectionManager.showNotification('Connection request sent successfully!', 'success');

                    // Update button UI
                    const newStatus = await connectionManager.checkConnectionStatus(studentUserId);
                    const currentButton = document.querySelector('button[onclick="connectStudent()"]');
                    if (currentButton) {
                        connectionManager.updateConnectionButtonUI(currentButton, newStatus);
                    }
                }
            } catch (error) {
                console.error('Connection error:', error);
                connectionManager.showNotification(error.message || 'Failed to process connection request', 'error');

                // Reset button on error
                if (button) {
                    button.disabled = false;
                    button.innerHTML = 'üîó Connect';
                }
            }
        }

        // Make function globally available
        window.connectStudent = connectStudent;

        // Message student function
        async function messageStudent() {
            if (!window.currentStudentUserId) {
                console.error('Student user ID not available');
                alert('Unable to message: Student information not loaded');
                return;
            }

            console.log('Opening message with student user ID:', window.currentStudentUserId);

            // Check if user is authenticated
            if (!authManager || !authManager.isAuthenticated()) {
                console.log('User not authenticated, showing auth modal');
                if (typeof openAuthModal === 'function') {
                    openAuthModal();
                } else {
                    alert('Please log in to message this student');
                }
                return;
            }

            // Get the button element
            const button = event.target.closest('button');
            if (button) {
                button.disabled = true;
                button.innerHTML = '‚è≥ Opening...';
            }

            try {
                // Check if chat modal exists and open it
                if (typeof openChatModal === 'function') {
                    openChatModal(window.currentStudentUserId);
                } else {
                    // Fallback: redirect to chat page
                    window.location.href = `/plug-ins/Chat.html?userId=${window.currentStudentUserId}`;
                }

                // Reset button after a short delay
                setTimeout(() => {
                    if (button) {
                        button.disabled = false;
                        button.innerHTML = '<span>üí¨</span> Message';
                    }
                }, 1000);
            } catch (error) {
                console.error('Message error:', error);
                alert('Failed to open chat');

                // Reset button
                if (button) {
                    button.disabled = false;
                    button.innerHTML = '<span>üí¨</span> Message';
                }
            }
        }

        // Make function globally available
        window.messageStudent = messageStudent;

        // Read blog post
        function readBlogPost(postId) {
            console.log('Reading blog post:', postId);
            alert('Opening blog post #' + postId);
        }

        // Open Add Behavioral Note Modal
        function openAddBehavioralNoteModal() {
            const modal = document.createElement('div');
            modal.id = 'add-behavioral-note-modal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); display: flex; align-items: center; justify-content: center; z-index: 10000; animation: fadeIn 0.3s ease;';

            modal.innerHTML = `
                <div style="background: var(--card-bg); border-radius: 20px; max-width: 700px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); position: relative;">
                    <!-- Header -->
                    <div style="position: sticky; top: 0; background: linear-gradient(135deg, var(--button-bg), rgba(var(--button-bg-rgb), 0.8)); padding: 2rem; border-radius: 20px 20px 0 0; color: white; z-index: 1;">
                        <button onclick="closeAddBehavioralNoteModal()" style="position: absolute; top: 1rem; right: 1rem; background: rgba(255, 255, 255, 0.2); border: none; width: 36px; height: 36px; border-radius: 50%; color: white; font-size: 1.25rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                            ‚úï
                        </button>
                        <h2 style="font-size: 1.75rem; margin: 0; color: white; display: flex; align-items: center; gap: 0.75rem;">
                            <span>üìù</span> Add Behavioral Note
                        </h2>
                        <p style="margin: 0.5rem 0 0 0; opacity: 0.95;">Record observations about student behavior and performance</p>
                    </div>

                    <!-- Form Content -->
                    <div style="padding: 2rem;">
                        <form id="behavioral-note-form" onsubmit="submitBehavioralNote(event)">
                            <!-- Student Info (Read-only) -->
                            <div style="background: var(--highlight-bg); padding: 1rem; border-radius: 12px; margin-bottom: 1.5rem;">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <img src="../uploads/system_images/system_profile_pictures/student-teenage-girl.jpg" alt="Student" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
                                    <div>
                                        <p style="font-weight: 600; margin: 0; color: var(--heading);">Sarah Bekele</p>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0;">Grade 12 ‚Ä¢ St. Joseph School</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Note Type -->
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">Note Type *</label>
                                <select id="note-type" required style="width: 100%; padding: 0.75rem; border: 2px solid rgba(var(--button-bg-rgb), 0.2); border-radius: 12px; background: white; color: var(--text); font-size: 1rem; font-family: inherit;">
                                    <option value="">Select note type...</option>
                                    <option value="positive">‚úÖ Positive Feedback</option>
                                    <option value="improvement">üìà Improvement Noted</option>
                                    <option value="concern">üí° Area for Growth</option>
                                    <option value="achievement">üèÜ Achievement</option>
                                    <option value="general">üìã General Observation</option>
                                </select>
                            </div>

                            <!-- Category -->
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">Category *</label>
                                <select id="note-category" required style="width: 100%; padding: 0.75rem; border: 2px solid rgba(var(--button-bg-rgb), 0.2); border-radius: 12px; background: white; color: var(--text); font-size: 1rem; font-family: inherit;">
                                    <option value="">Select category...</option>
                                    <option value="attendance">Attendance & Punctuality</option>
                                    <option value="participation">Class Participation</option>
                                    <option value="discipline">Discipline</option>
                                    <option value="subject-understanding">Subject Understanding</option>
                                    <option value="academic">Academic Performance</option>
                                    <option value="social">Social Skills</option>
                                </select>
                            </div>

                            <!-- Note Title -->
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">Note Title *</label>
                                <input type="text" id="note-title" required placeholder="e.g., Excellent participation in group discussion" style="width: 100%; padding: 0.75rem; border: 2px solid rgba(var(--button-bg-rgb), 0.2); border-radius: 12px; background: white; color: var(--text); font-size: 1rem; font-family: inherit;">
                            </div>

                            <!-- Detailed Observation -->
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">Detailed Observation *</label>
                                <textarea id="note-description" required rows="5" placeholder="Describe the specific behavior, incident, or observation in detail..." style="width: 100%; padding: 0.75rem; border: 2px solid rgba(var(--button-bg-rgb), 0.2); border-radius: 12px; background: white; color: var(--text); font-size: 1rem; font-family: inherit; resize: vertical;"></textarea>
                                <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0.5rem 0 0 0;">Be specific and objective in your observations</p>
                            </div>

                            <!-- Date of Observation -->
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">Date of Observation *</label>
                                <input type="date" id="note-date" required style="width: 100%; padding: 0.75rem; border: 2px solid rgba(var(--button-bg-rgb), 0.2); border-radius: 12px; background: white; color: var(--text); font-size: 1rem; font-family: inherit;">
                            </div>

                            <!-- Action Required -->
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="checkbox" id="action-required" style="width: 18px; height: 18px; cursor: pointer;">
                                    <span style="font-weight: 600; color: var(--heading);">Follow-up action required</span>
                                </label>
                            </div>

                            <!-- Action Details (shown when checkbox is checked) -->
                            <div id="action-details" style="display: none; margin-bottom: 1.5rem;">
                                <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--heading);">Action Details</label>
                                <textarea id="action-description" rows="3" placeholder="Describe the required follow-up action..." style="width: 100%; padding: 0.75rem; border: 2px solid rgba(var(--button-bg-rgb), 0.2); border-radius: 12px; background: white; color: var(--text); font-size: 1rem; font-family: inherit; resize: vertical;"></textarea>
                            </div>

                            <!-- Notify Parents -->
                            <div style="margin-bottom: 2rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="checkbox" id="notify-parents" style="width: 18px; height: 18px; cursor: pointer;">
                                    <span style="font-weight: 600; color: var(--heading);">Notify parents about this note</span>
                                </label>
                            </div>

                            <!-- Form Actions -->
                            <div style="display: flex; gap: 0.75rem; padding-top: 1rem; border-top: 1px solid rgba(var(--button-bg-rgb), 0.1);">
                                <button type="button" onclick="closeAddBehavioralNoteModal()" style="flex: 1; padding: 0.875rem; background: var(--highlight-bg); color: var(--text); border: 2px solid rgba(var(--button-bg-rgb), 0.2); border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                                    Cancel
                                </button>
                                <button type="submit" style="flex: 1; padding: 0.875rem; background: linear-gradient(135deg, var(--button-bg), rgba(var(--button-bg-rgb), 0.8)); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 8px rgba(var(--button-bg-rgb), 0.3);">
                                    Submit Note
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);

            // Set today's date as default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('note-date').value = today;

            // Toggle action details visibility
            document.getElementById('action-required').addEventListener('change', function () {
                const actionDetails = document.getElementById('action-details');
                actionDetails.style.display = this.checked ? 'block' : 'none';
            });

            // Click outside to close
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeAddBehavioralNoteModal();
                }
            });
        }

        // Close Add Behavioral Note Modal
        function closeAddBehavioralNoteModal() {
            const modal = document.getElementById('add-behavioral-note-modal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => modal.remove(), 300);
            }
        }

        // Submit Behavioral Note
        function submitBehavioralNote(event) {
            event.preventDefault();

            const noteType = document.getElementById('note-type').value;
            const noteCategory = document.getElementById('note-category').value;
            const noteTitle = document.getElementById('note-title').value;
            const noteDescription = document.getElementById('note-description').value;
            const noteDate = document.getElementById('note-date').value;
            const actionRequired = document.getElementById('action-required').checked;
            const actionDescription = document.getElementById('action-description').value;
            const notifyParents = document.getElementById('notify-parents').checked;

            // Create note object
            const newNote = {
                type: noteType,
                category: noteCategory,
                title: noteTitle,
                description: noteDescription,
                date: noteDate,
                actionRequired: actionRequired,
                actionDescription: actionDescription,
                notifyParents: notifyParents,
                teacherName: 'Current User', // This would come from authentication
                timestamp: new Date().toISOString()
            };

            console.log('New Behavioral Note:', newNote);

            // Here you would typically send this to your backend API
            // For now, we'll just show a success message
            alert('Behavioral note submitted successfully!\\n\\n' +
                'Type: ' + noteType + '\\n' +
                'Category: ' + noteCategory + '\\n' +
                'Title: ' + noteTitle + '\\n' +
                (notifyParents ? 'Parents will be notified.' : ''));

            // Close the modal
            closeAddBehavioralNoteModal();

            // Optionally refresh the notes panel to show the new note
            // refreshBehavioralNotes();
        }

        // Animate statistics
        function animateStats() {
            const statNumbers = document.querySelectorAll('.stat-number');

            statNumbers.forEach(stat => {
                const target = parseFloat(stat.getAttribute('data-target'));
                const suffix = stat.getAttribute('data-suffix') || '';
                const decimal = stat.getAttribute('data-decimal') ? parseInt(stat.getAttribute('data-decimal')) : 0;

                let current = 0;
                const increment = target / 50;

                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    stat.textContent = current.toFixed(decimal) + suffix;
                }, 30);
            });
        }

        // Theme toggle
        document.getElementById('theme-toggle-btn')?.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });

        // Hamburger menu
        document.getElementById('hamburger')?.addEventListener('click', () => {
            document.getElementById('sidebar')?.classList.toggle('active');
        });
    </script>

    <!-- Widget Animations Script -->
    <script>
        // ============================================
        //   BOOKSTORE WIDGET - FADE IN/OUT ANIMATION
        // ============================================
        (function () {
            const bookstoreTitles = [
                { icon: 'üìñ', text: 'Educational Books', emoji: 'üìö' },
                { icon: 'üìö', text: 'Fiction & Novels', emoji: 'üìñ' },
                { icon: 'üî¨', text: 'Science Textbooks', emoji: 'üß™' },
                { icon: 'üìê', text: 'Mathematics Books', emoji: '‚ûó' },
                { icon: 'üî•', text: 'Trending Books', emoji: 'üî•' },
                { icon: 'üí∞', text: 'Special Discounts', emoji: 'üè∑Ô∏è' },
                { icon: 'üéÅ', text: 'Bundle Deals', emoji: 'üì¶' },
                { icon: '‚ú®', text: 'Coming Soon!', emoji: 'üéâ' }
            ];

            let currentBookIndex = 0;
            const bookstoreTitleContainer = document.querySelector('.bookstore-title-animated');
            const bookstoreIcon = document.querySelector('.bookstore-icon');

            if (bookstoreTitleContainer && bookstoreIcon) {
                const titleElement = bookstoreTitleContainer.querySelector('.bookstore-title');

                function animateBookstoreTitle() {
                    // Fade out
                    titleElement.style.opacity = '0';
                    titleElement.style.transform = 'translateY(-10px)';

                    setTimeout(() => {
                        // Update content
                        currentBookIndex = (currentBookIndex + 1) % bookstoreTitles.length;
                        const currentTitle = bookstoreTitles[currentBookIndex];
                        titleElement.textContent = currentTitle.text;
                        bookstoreIcon.textContent = currentTitle.icon;

                        // Fade in
                        titleElement.style.transform = 'translateY(10px)';
                        setTimeout(() => {
                            titleElement.style.opacity = '1';
                            titleElement.style.transform = 'translateY(0)';
                        }, 50);
                    }, 600);
                }

                // Start animation every 3 seconds
                setInterval(animateBookstoreTitle, 3000);
            }
        })();

        // ============================================
        //   GAMESTORE WIDGET - FADE IN/OUT ANIMATION
        // ============================================
        (function () {
            const gamestoreTitles = [
                { icon: 'üéÆ', text: 'Educational Games', emoji: 'üéÆ' },
                { icon: 'üßÆ', text: 'Puzzle Games', emoji: 'üß©' },
                { icon: 'üéØ', text: 'Strategy Games', emoji: '‚ôüÔ∏è' },
                { icon: 'üèÜ', text: 'Top Rated Games', emoji: '‚≠ê' },
                { icon: 'üî•', text: 'Trending Games', emoji: 'üî•' },
                { icon: 'üí∞', text: 'Special Discounts', emoji: 'üè∑Ô∏è' },
                { icon: 'üéÅ', text: 'Bundle Deals', emoji: 'üì¶' },
                { icon: '‚ú®', text: 'Coming Soon!', emoji: 'üéâ' }
            ];

            let currentGameIndex = 0;
            const gamestoreTitleContainer = document.querySelector('.gamestore-title-animated');
            const gamestoreIcon = document.querySelector('.gamestore-icon');

            if (gamestoreTitleContainer && gamestoreIcon) {
                const titleElement = gamestoreTitleContainer.querySelector('.gamestore-title');

                function animateGamestoreTitle() {
                    // Fade out
                    titleElement.style.opacity = '0';
                    titleElement.style.transform = 'translateY(-10px)';

                    setTimeout(() => {
                        // Update content
                        currentGameIndex = (currentGameIndex + 1) % gamestoreTitles.length;
                        const currentTitle = gamestoreTitles[currentGameIndex];
                        titleElement.textContent = currentTitle.text;
                        gamestoreIcon.textContent = currentTitle.icon;

                        // Fade in
                        titleElement.style.transform = 'translateY(10px)';
                        setTimeout(() => {
                            titleElement.style.opacity = '1';
                            titleElement.style.transform = 'translateY(0)';
                        }, 50);
                    }, 600);
                }

                // Start animation every 3 seconds
                setInterval(animateGamestoreTitle, 3000);
            }
        })();
    </script>

    <!-- Initialize Connection Manager and check connection status -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // Create global connection manager instance
            window.connectionManagerInstance = new ConnectionManager();

            // Wait for student data to load, then get the user_id
            // The ViewStudentLoader sets window.currentStudentUserId
            const checkStudentDataLoaded = setInterval(async () => {
                if (window.currentStudentUserId) {
                    clearInterval(checkStudentDataLoaded);

                    console.log(`‚úÖ Connection Manager: Checking connection status for student user ID: ${window.currentStudentUserId}`);

                    // Check connection status
                    const connectionStatus = await window.connectionManagerInstance.checkConnectionStatus(window.currentStudentUserId);

                    console.log('Connection status:', connectionStatus);

                    // Update connect button UI
                    const connectButton = document.querySelector('button[onclick="connectStudent()"]');
                    if (connectButton) {
                        window.connectionManagerInstance.updateConnectionButtonUI(connectButton, connectionStatus);
                    }
                }
            }, 100); // Check every 100ms until student data is loaded

            // Timeout after 10 seconds
            setTimeout(() => {
                clearInterval(checkStudentDataLoaded);
            }, 10000);
        });
    </script>

    <!-- Interested In Widget Rotation - Integrates with interested-ticker.js -->
    <script>
        // Enhanced Interested Ticker Manager for single-item display
        class InterestedSingleDisplayManager {
            constructor() {
                this.subjects = [];
                this.currentIndex = 0;
                this.itemContainer = null;
                this.dotsContainer = null;
                this.rotationInterval = null;

                // Subject to emoji mapping (from interested-ticker.js)
                this.subjectEmojis = {
                    'Mathematics': 'üßÆ', 'Math': 'üßÆ', 'Science': 'üî¨', 'Physics': '‚öõÔ∏è',
                    'Chemistry': 'üß™', 'Biology': 'üß¨', 'English': 'üìñ', 'Literature': 'üìö',
                    'History': 'üìú', 'Geography': 'üåç', 'Computer Science': 'üíª', 'Programming': 'üíª',
                    'Art': 'üé®', 'Music': 'üéµ', 'PE': 'üèÉ', 'Sports': 'üèÖ'
                };
            }

            getEmojiForSubject(subject) {
                return this.subjectEmojis[subject] || 'üìå';
            }

            init(studentData) {
                this.itemContainer = document.querySelector('.interested-current-item');
                this.dotsContainer = document.querySelector('.interested-dots');

                if (!this.itemContainer || !this.dotsContainer) {
                    console.warn('Interested display containers not found');
                    return;
                }

                // Get subjects from student data (same as interested-ticker.js)
                const interests = studentData?.interested_in || ['Mathematics', 'Science', 'Literature', 'Art', 'Music'];

                this.subjects = interests.map(subject => ({
                    emoji: this.getEmojiForSubject(subject),
                    name: subject
                }));

                console.log('‚úÖ Interested single display loaded with subjects:', this.subjects);

                // Generate dots based on number of subjects
                this.generateDots();

                // Start rotation
                this.startRotation();
            }

            generateDots() {
                this.dotsContainer.innerHTML = '';

                this.subjects.forEach((_, index) => {
                    const dot = document.createElement('span');
                    dot.className = 'interested-dot' + (index === 0 ? ' active' : '');
                    dot.dataset.index = index;
                    dot.style.cssText = `width: ${index === 0 ? '24px' : '8px'}; height: 8px; border-radius: 50%; background: ${index === 0 ? 'var(--button-bg)' : 'rgba(var(--button-bg-rgb, 245, 158, 11), 0.3)'}; cursor: pointer; transition: all 0.3s ease;`;

                    dot.addEventListener('click', () => {
                        this.currentIndex = index;
                        this.updateSubject(this.currentIndex);
                        this.resetRotation();
                    });

                    this.dotsContainer.appendChild(dot);
                });
            }

            updateSubject(index) {
                // Fade out
                this.itemContainer.style.opacity = '0';
                this.itemContainer.style.transform = 'translateY(10px)';

                setTimeout(() => {
                    const subject = this.subjects[index];
                    this.itemContainer.innerHTML = `
                        <span style="font-size: 1.5rem;">${subject.emoji}</span>
                        <span>${subject.name}</span>
                    `;

                    // Fade in
                    this.itemContainer.style.opacity = '1';
                    this.itemContainer.style.transform = 'translateY(0)';

                    // Update dots
                    const dots = this.dotsContainer.querySelectorAll('.interested-dot');
                    dots.forEach((dot, i) => {
                        if (i === index) {
                            dot.classList.add('active');
                            dot.style.background = 'var(--button-bg)';
                            dot.style.width = '24px';
                        } else {
                            dot.classList.remove('active');
                            dot.style.background = 'rgba(var(--button-bg-rgb, 245, 158, 11), 0.3)';
                            dot.style.width = '8px';
                        }
                    });
                }, 300);
            }

            startRotation() {
                this.rotationInterval = setInterval(() => {
                    this.currentIndex = (this.currentIndex + 1) % this.subjects.length;
                    this.updateSubject(this.currentIndex);
                }, 3000);
            }

            resetRotation() {
                clearInterval(this.rotationInterval);
                this.startRotation();
            }
        }

        // Replace the old interestedTickerManager with single display version
        window.interestedTickerManager = new InterestedSingleDisplayManager();
        console.log('‚úÖ Interested Single Display Manager loaded');
    </script>
</body>

</html>