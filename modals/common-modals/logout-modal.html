<!--
  Modal: logout-modal
  Location: common-modals (shared across all pages)
  Purpose: Confirm user logout with option to stay logged in
  JavaScript: js/common-modals/logout-modal.js
-->

<div id="logout-modal" class="modal hidden">
    <div class="modal-content enhanced" style="max-width: 420px;">
        <button class="modal-close-enhanced" onclick="closeModal('logout-modal')">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>

        <div class="modal-header" style="text-align: center; padding: 32px 32px 16px;">
            <div style="width: 72px; height: 72px; background: rgba(239, 68, 68, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                <svg width="36" height="36" fill="none" stroke="#EF4444" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                    </path>
                </svg>
            </div>
            <h3 class="modal-title" style="margin-bottom: 8px;">Log Out?</h3>
            <p class="modal-subtitle" style="margin: 0;">Are you sure you want to log out of your account?</p>
        </div>

        <div style="padding: 24px 32px 32px;">
            <!-- Session info -->
            <div id="logout-session-info" style="background: var(--bg-secondary); border-radius: 12px; padding: 16px; margin-bottom: 24px; display: none;">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div id="logout-user-avatar" style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, var(--accent-color), var(--accent-hover)); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 16px; flex-shrink: 0;">
                        <!-- Avatar or initials -->
                    </div>
                    <div style="flex: 1; min-width: 0;">
                        <p id="logout-user-name" style="margin: 0; font-weight: 600; color: var(--text-primary); font-size: 15px;"></p>
                        <p id="logout-user-email" style="margin: 4px 0 0; font-size: 13px; color: var(--text-muted);"></p>
                        <div id="logout-user-roles" style="display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px;">
                            <!-- Role badges will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Warning message -->
            <div style="background: rgba(245, 158, 11, 0.08); border: 1px solid rgba(245, 158, 11, 0.2); border-radius: 10px; padding: 14px; margin-bottom: 24px;">
                <div style="display: flex; align-items: start; gap: 10px;">
                    <svg style="width: 20px; height: 20px; color: #F59E0B; flex-shrink: 0; margin-top: 1px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                    <p style="margin: 0; font-size: 13px; color: var(--text-secondary); line-height: 1.5;">
                        You will need to sign in again to access your account and continue your learning journey.
                    </p>
                </div>
            </div>

            <!-- Action buttons -->
            <div style="display: flex; gap: 12px;">
                <button onclick="closeModal('logout-modal')" class="submit-btn" style="flex: 1; background: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border-color);">
                    Stay Logged In
                </button>
                <button onclick="confirmLogout()" class="submit-btn" style="flex: 1; background: #EF4444; border-color: #EF4444;">
                    <svg style="width: 18px; height: 18px; margin-right: 6px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7"></path>
                    </svg>
                    Log Out
                </button>
            </div>

            <!-- Remember me option -->
            <div style="margin-top: 20px; text-align: center;">
                <label style="display: inline-flex; align-items: center; gap: 8px; cursor: pointer; font-size: 13px; color: var(--text-muted);">
                    <input type="checkbox" id="logout-all-devices" style="width: 16px; height: 16px; accent-color: var(--accent-color);">
                    <span>Log out from all devices</span>
                </label>
            </div>
        </div>
    </div>
</div>
