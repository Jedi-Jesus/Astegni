<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Credential Status Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/root.css">
    <link rel="stylesheet" href="css/common-modals/upload-document-modal.css">
    <style>
        body {
            padding: 40px;
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        .test-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .test-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }
        .test-btn.loading { background: #3b82f6; color: white; }
        .test-btn.success { background: #10b981; color: white; }
        .test-btn.error { background: #ef4444; color: white; }
        .test-btn.warning { background: #f59e0b; color: white; }
        .test-btn.info { background: #6366f1; color: white; }
        .test-btn:hover { opacity: 0.9; transform: translateY(-2px); }
    </style>
</head>
<body>
    <h1 style="font-size: 32px; font-weight: bold; margin-bottom: 20px;">Credential Status Panel Test</h1>
    <p style="margin-bottom: 20px; color: var(--text-secondary);">Click the buttons below to test different status panel states:</p>

    <div class="test-buttons">
        <button class="test-btn loading" onclick="testLoading()">
            ‚è≥ Test Loading
        </button>
        <button class="test-btn success" onclick="testSuccess()">
            ‚úÖ Test Success (Auto-hide 5s)
        </button>
        <button class="test-btn error" onclick="testError()">
            ‚ùå Test Error (Manual close)
        </button>
        <button class="test-btn warning" onclick="testWarning()">
            ‚ö†Ô∏è Test Warning
        </button>
        <button class="test-btn info" onclick="testInfo()">
            ‚ÑπÔ∏è Test Info
        </button>
    </div>

    <div class="test-buttons">
        <button class="test-btn success" onclick="testUploadSuccess()">
            üì§ Simulate Upload Success
        </button>
        <button class="test-btn success" onclick="testUpdateSuccess()">
            üíæ Simulate Update Success
        </button>
        <button class="test-btn success" onclick="testDeleteSuccess()">
            üóëÔ∏è Simulate Delete Success
        </button>
        <button class="test-btn error" onclick="testUploadError()">
            ‚ùå Simulate Upload Error
        </button>
    </div>

    <!-- Modal Container (simulating the upload modal) -->
    <div style="position: relative; max-width: 650px; margin: 40px auto; background: white; border-radius: 12px; padding: 40px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); min-height: 400px; overflow: hidden;">

        <!-- Status Panel (Inside Modal) -->
        <div id="doc-upload-status-panel" class="doc-status-panel-inline">
            <div class="doc-status-panel-content">
                <div class="doc-status-header">
                    <span id="doc-status-icon" class="doc-status-icon">‚è≥</span>
                    <div class="doc-status-text">
                        <h3 id="doc-status-title" class="doc-status-title">Processing...</h3>
                        <p id="doc-status-message" class="doc-status-message">Please wait...</p>
                    </div>
                </div>
                <div id="doc-status-progress" class="doc-status-progress hidden">
                    <div class="doc-status-progress-bar"></div>
                </div>
                <button onclick="closeDocStatusPanel()" class="doc-status-ok-btn hidden" id="doc-status-ok-btn">
                    OK
                </button>
            </div>
        </div>

        <!-- Modal Content -->
        <h2 style="font-size: 24px; font-weight: bold; margin-bottom: 20px;">üì§ Upload Document</h2>
        <p style="color: var(--text-secondary); margin-bottom: 20px;">This simulates the upload modal. The status panel will slide in from the right when triggered.</p>
        <p style="color: var(--text-tertiary); font-size: 14px;">Form fields would be here...</p>
    </div>

    <script>
        // Status Panel Functions
        function showDocStatusPanel(type, title, message, showProgress = false, showOkButton = false) {
            const panel = document.getElementById('doc-upload-status-panel');
            const iconEl = document.getElementById('doc-status-icon');
            const titleEl = document.getElementById('doc-status-title');
            const messageEl = document.getElementById('doc-status-message');
            const progressEl = document.getElementById('doc-status-progress');
            const okBtn = document.getElementById('doc-status-ok-btn');

            if (!panel) {
                console.error('‚ùå Status panel not found');
                return;
            }

            // Set icon based on type
            const icons = {
                success: '‚úÖ',
                error: '‚ùå',
                warning: '‚ö†Ô∏è',
                info: '‚ÑπÔ∏è',
                loading: '‚è≥'
            };

            // Update content
            if (iconEl) iconEl.textContent = icons[type] || 'üìÑ';
            if (titleEl) titleEl.textContent = title;
            if (messageEl) messageEl.textContent = message;

            // Show/hide progress bar
            if (progressEl) {
                if (showProgress) {
                    progressEl.classList.remove('hidden');
                } else {
                    progressEl.classList.add('hidden');
                }
            }

            // Show/hide OK button
            if (okBtn) {
                if (showOkButton) {
                    okBtn.classList.remove('hidden');
                } else {
                    okBtn.classList.add('hidden');
                }
            }

            // Remove all status type classes
            panel.classList.remove('success', 'error', 'warning', 'info', 'loading', 'auto-hiding');

            // Add new status type class
            panel.classList.add(type);

            // Show panel (slide in)
            panel.classList.add('active');

            console.log(`[StatusPanel] Showing ${type} panel:`, title);
        }

        function closeDocStatusPanel() {
            const panel = document.getElementById('doc-upload-status-panel');
            if (!panel) return;

            // Slide out
            panel.classList.remove('active');

            console.log('[StatusPanel] Closed');
        }

        // Test Functions
        function testLoading() {
            showDocStatusPanel(
                'loading',
                'Processing Request...',
                'Please wait while we process your request. This may take a few moments.',
                true, // Show progress bar
                false // No OK button
            );
        }

        function testSuccess() {
            showDocStatusPanel(
                'success',
                'Operation Successful!',
                'Your request has been completed successfully.',
                false, // No progress bar
                true // Show OK button
            );
        }

        function testError() {
            showDocStatusPanel(
                'error',
                'Operation Failed',
                'An error occurred while processing your request.\n\nPlease try again or contact support if the issue persists.',
                false, // No progress bar
                true // Show OK button
            );
        }

        function testWarning() {
            showDocStatusPanel(
                'warning',
                'Warning',
                'Please review your input before proceeding.',
                false, // No progress bar
                true // Show OK button
            );
        }

        function testInfo() {
            showDocStatusPanel(
                'info',
                'Information',
                'This is an informational message.',
                false, // No progress bar
                true // Show OK button
            );
        }

        // Simulate Real Workflows
        function testUploadSuccess() {
            // Show loading
            showDocStatusPanel(
                'loading',
                'Uploading Credential...',
                'Please wait while we upload your credential...',
                true, // Show progress bar
                false // No OK button
            );

            // Simulate upload delay
            setTimeout(() => {
                showDocStatusPanel(
                    'success',
                    'Credential Uploaded!',
                    'Your Academic Certificate "Master\'s Degree in Mathematics" has been submitted for verification.\n\nYou\'ll be notified once it\'s reviewed by our admin team.',
                    false, // No progress bar
                    true // Show OK button
                );
            }, 2000);
        }

        function testUpdateSuccess() {
            showDocStatusPanel(
                'loading',
                'Updating Credential...',
                'Please wait while we update your credential...',
                true, // Show progress bar
                false // No OK button
            );

            setTimeout(() => {
                showDocStatusPanel(
                    'success',
                    'Credential Updated!',
                    'Your Academic Certificate "Bachelor\'s Degree in Physics" has been updated successfully.',
                    false, // No progress bar
                    true // Show OK button
                );
            }, 1500);
        }

        function testDeleteSuccess() {
            showDocStatusPanel(
                'loading',
                'Deleting Credential...',
                'Please wait while we delete your credential...',
                true, // Show progress bar
                false // No OK button
            );

            setTimeout(() => {
                showDocStatusPanel(
                    'success',
                    'Credential Deleted',
                    'Your Achievement has been deleted successfully.',
                    false, // No progress bar
                    true // Show OK button
                );
            }, 1000);
        }

        function testUploadError() {
            showDocStatusPanel(
                'loading',
                'Uploading Credential...',
                'Please wait while we upload your credential...',
                true, // Show progress bar
                false // No OK button
            );

            setTimeout(() => {
                showDocStatusPanel(
                    'error',
                    'Upload Failed',
                    'File size exceeds 10MB limit.\n\nPlease compress your file and try again.',
                    false, // No progress bar
                    true // Show OK button
                );
            }, 1500);
        }
    </script>
</body>
</html>
